{"version":3,"sources":["WPTB_CutGlueTable.js","WPTB_SortableTable.js","WPTB_RecalculateIndexes.js","wp-table-builder-frontend.js"],"names":["WPTB_CutGlueTable","cutTableHorizontally","rowBefore","table","rows","i","tableRowsIChildren","children","j","length","rowSpan","newTdRowspan","dataset","sameCellBeforeDivision","td","hasOwnProperty","wptbCell","mark","getDOMElement","document","createElement","tdTopStyle","getAttribute","setAttribute","colSpan","dataXIndex","xIndex","dataXIndexNext","parseInt","beforeTd","maxCols","querySelector","insertBefore","WPTB_RecalculateIndexes","glueTableHorizontally","tds","getElementsByTagName","hasAttribute","dataSameCellBeforeDivision","tdsSameBeforeDivision","querySelectorAll","parentNode","classList","contains","yIndex","tdsSameBeforeDivisionJPlusChildren","k","appendChild","nextRow","removeChild","cutTableVertically","col","rowChildren","rowChildrenLength","afterTd","rowSpanNewTd","colSpanOld","colSpanNewTd","tdLeftStyle","tdAnalogThisX","style","width","tdAnalogThisY","height","glueTableVertically","jFirstTdGlue","thisRow","WPTB_SortableTable","topRow","sortModeSwitcher","type","active","removeEventListener","sortableTableVerticalStart","sortingCellMouseMoveSwitcher","addEventListener","wptbSortableTableVertical","sortableTableHorizontalStart","wptbSortableTableHorizontal","sortableTableInitialization","map","sortingCellMouseMoveVertical","tdMouseLeave","sortingCellMouseMoveHorizontal","sortingCellMouseMov","e","element","target","tagName","x","offsetX","undefined","layerX","y","offsetY","layerY","xMatch","clientWidth","clientHeight","add","remove","sortableTable","tableWasSorted","rowspan","rowNum","rowsValuesArr","rowsTdFirst","tdYCoordsRowSpanPrevious","tdsChanged","changeSortingTdsCollection","tdRowspan","textElementsValues","textElementsValuesGet","rowsTd","push","value","orderBy","setSortedAscDataAttr","sort","prev","next","sortOrder","unshift","tBody","innerHTML","rowsValObj","row","colspan","colNum","columnsValuesArr","columnsTdFirst","tdXCoordsColSpanPrevious","tdColspan","columnsTd","tdsColumn","columnsValObj","removeCellsAttrAfterDivision","tableSM","tableStateSet","dataAttr","currentTarget","prevValue","nextValue","cell","textElements","p","innerText","tdIndexSpanPrev","tdsCollectionChanged","collectionTds","collectionTdsJSpan","collectionTdsJSpanProperty","indexName","indexNameCamelCase","indexNamePerpendicularCamelCase","tdSpanProperty","tableGroupCount","splice","tdSpan","tdsAll","removeAttribute","trs","maxColsFull","tdsArr","jMainIter","z","columns","$","jQuery","ready","tableContainers","getElementsByClassName","addHoverSupport","buttons","Array","from","b","el","wptbElementHoverBgColor","backgroundColor","wptbElementHoverTextColor","color","wptbElementHoverScale","transform","wptbElementBgColor","wptbElementColor","wptb_tableContainerSectionSmall","wptbTableContainer","sw","addClass","removeClass","wptb_tableGenerateMobile","wptbPreviewTable","wptbPreviewTableMobile","offsetWidth","display","tableRows","tableRowTop","tableRowTopChildren","columnCount","newTableArray","tdNew","cloneNode","tableStyle","insertRow","wptb_tdDefaultWidth","wptb_tableReconstraction","window","resize","tableContainer","createNewTableIndic","previewTable","tableContainerMatrix","wptbTableAlignment","wptbTableContainerWidth","float","reconstraction","wptbAdaptiveTable","tableContainerWidth","previewTableWidth","tableColumns","previewTableRows","firstRow","tdsRow","tablePreviewHeadIndic","overflow","tdWidth","wholeColumnsInContainer","Math","floor","dataWholeColumnInContainer","column","newTable","infArr","className","match","isArray","newTableLastSectionFilledColumns","valuesIsSaved","tableRowsWithoutHeader","newTableColumnsWithoutLeftHeader","countRows","ceil","sectionNumberLast","tdStyles","sectionNumber","tr","tdLeftHeader","rowFirstStyles","getComputedStyle","borderTopColor","borderColor","borderBottomColor","borderTopWidth","rowKStyles","borderWidth","background","newTableColumns","increaseRatioRows","newTableRows","jMax","jStart","newTd","rowStyles","images","minWidth","wptbTableContainers","wptbTableContainerMaxWidth","maxWidth","merging–°ellsHorizontally","tdStyleObj","tdBorderLeftWidth","getPropertyValue","tdBorderRightWidth","tdPaddingLeftWidth","tdPaddingRightWidth","tdPaddingCommon","parseFloat","tableTdBorderCommonWidth","wptbTableTdsSumMaxWidth","wptbFixedWidthSize","wptbCellsWidthAutoCount","styleElementCreate","tableTdWidthAuto","tableTdsWidthAutoCommon","wptbTdWidthAuto","head","cssForTdsWidthAutoOld","cssForTdsWidthAuto","elements","wptbSize","wptbSizeNew","toLowerCase","wptbButtonWrapper","responsiveFront","WPTB_ResponsiveFrontend","query","bindToResize","rebuildTables"],"mappings":"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","file":"wp-table-builder-frontend.js","sourcesContent":["let WPTB_CutGlueTable = {\n    cutTableHorizontally: function (rowBefore, table) {\n        if( table && table.rows[rowBefore] ) {\n            for( let i = 0; i < rowBefore; i++ ) {\n                let tableRowsIChildren = table.rows[i].children;\n\n                for( let j = 0; j < tableRowsIChildren.length; j++ ) {\n                    if ( tableRowsIChildren[j].rowSpan > 1 && tableRowsIChildren[j].rowSpan > rowBefore - i ) {\n                        let newTdRowspan = tableRowsIChildren[j].rowSpan - rowBefore + i;\n                        tableRowsIChildren[j].rowSpan = rowBefore - i;\n                        if( ! tableRowsIChildren[j].dataset.sameCellBeforeDivision ) {\n                            tableRowsIChildren[j].dataset.sameCellBeforeDivision = 'r' + i + 'c' + j;\n                        }\n\n                        let td;\n                        if(table.hasOwnProperty('wptbCell')) {\n                            td = new table.wptbCell( table.mark );\n                            td = td.getDOMElement();\n                        } else {\n                            td = document.createElement('td');\n                        }\n\n                        let tdTopStyle = tableRowsIChildren[j].getAttribute( 'style' );\n                        td.setAttribute( 'style', tdTopStyle );\n                        td.colSpan = tableRowsIChildren[j].colSpan;\n                        td.rowSpan = newTdRowspan;\n                        td.dataset.sameCellBeforeDivision = tableRowsIChildren[j].dataset.sameCellBeforeDivision;\n\n                        let dataXIndex = tableRowsIChildren[j].dataset.xIndex;\n                        let dataXIndexNext = parseInt( dataXIndex ) + parseInt( tableRowsIChildren[j].colSpan );\n                        let beforeTd;\n                        while( ! beforeTd && dataXIndexNext < table.maxCols ) {\n                            beforeTd = table.rows[rowBefore].querySelector( '[data-x-index=\"' + dataXIndexNext + '\"]' );\n                            dataXIndexNext++;\n                        }\n                        table.rows[rowBefore].insertBefore( td, beforeTd );\n\n                        WPTB_RecalculateIndexes(table);\n                    }\n                }\n            }\n        }\n    },\n    glueTableHorizontally: function (table) {\n        if(table) {\n            let tds = [...table.getElementsByTagName( 'td' )];\n            for( let i = 0; i < tds.length; i++ ) {\n                if( tds[i].hasAttribute( 'data-same-cell-before-division' ) ) {\n                    let dataSameCellBeforeDivision = tds[i].dataset.sameCellBeforeDivision;\n                    let tdsSameBeforeDivision = table.querySelectorAll( '[data-same-cell-before-division=\"' + dataSameCellBeforeDivision + '\"]' );\n                    for( let j = 0; j < tdsSameBeforeDivision.length; j++ ) {\n                        if( tdsSameBeforeDivision[j] && tdsSameBeforeDivision[j + 1] ) {\n                            if( tdsSameBeforeDivision[j].parentNode && tdsSameBeforeDivision[j + 1].parentNode &&\n                                ! tdsSameBeforeDivision[j].parentNode.classList.contains( 'wptb-row-moving' ) &&\n                                ! tdsSameBeforeDivision[j + 1].parentNode.classList.contains( 'wptb-row-moving' ) ) {\n                                if( ( tdsSameBeforeDivision[j + 1].dataset.yIndex == parseInt( tdsSameBeforeDivision[j].dataset.yIndex ) +\n                                    parseInt( tdsSameBeforeDivision[j].rowSpan ) ) ) {\n                                    tdsSameBeforeDivision[j].rowSpan += tdsSameBeforeDivision[j + 1].rowSpan;\n\n                                    let tdsSameBeforeDivisionJPlusChildren = [...tdsSameBeforeDivision[j + 1].children];\n\n                                    for( let k = 0; k < tdsSameBeforeDivisionJPlusChildren.length; k++ ) {\n                                        tdsSameBeforeDivision[j].appendChild( tdsSameBeforeDivisionJPlusChildren[k] );\n                                    }\n\n                                    let nextRow = tdsSameBeforeDivision[j + 1].parentNode;\n                                    nextRow.removeChild( tdsSameBeforeDivision[j + 1] );\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n\n            WPTB_RecalculateIndexes(table);\n        }\n    },\n    cutTableVertically: function (col, table) {\n        for ( let i = 0; i < table.rows.length; i++ ) {\n            if( col < table.maxCols ) {\n                if( col != 0 && ( ! table.rows[i].querySelector( '[data-x-index=\"' + col + '\"]' ) ) ) {\n                    let rowChildren = table.rows[i].children;\n\n                    let td,\n                        rowChildrenLength = rowChildren.length,\n                        afterTd,\n                        rowSpanNewTd,\n                        colSpanOld,\n                        colSpanNewTd;\n                    for( let j = 0; j < rowChildrenLength; j++ ) {\n                        if( rowChildren[j].colSpan > 1 && parseInt( rowChildren[j].dataset.xIndex ) < col &&\n                            parseInt( rowChildren[j].dataset.xIndex ) + parseInt( rowChildren[j].colSpan ) > col ) {\n                            if(table.hasOwnProperty('wptbCell')) {\n                                td = new table.wptbCell( table.mark );\n                                td = td.getDOMElement();\n                            } else {\n                                td = document.createElement('td');\n                            }\n\n                            rowSpanNewTd = rowChildren[j].rowSpan;\n                            colSpanOld = rowChildren[j].colSpan;\n                            rowChildren[j].colSpan = col - rowChildren[j].dataset.xIndex;\n                            colSpanNewTd = colSpanOld - rowChildren[j].colSpan;\n\n                            if( ! rowChildren[j].dataset.sameCellBeforeDivision ) {\n                                rowChildren[j].dataset.sameCellBeforeDivision = 'r' + i + 'c' + j;\n                            }\n\n                            let tdLeftStyle = rowChildren[j].getAttribute( 'style' );\n                            td.setAttribute( 'style', tdLeftStyle );\n\n                            let tdAnalogThisX = table.querySelector( '[data-x-index=\"' + col + '\"]' );\n                            if( tdAnalogThisX ) {\n                                td.style.width = tdAnalogThisX.style.width;\n                            }\n\n                            let tdAnalogThisY = table.querySelector( '[data-y-index=\"' + i + '\"]' );\n                            if( tdAnalogThisY ) {\n                                td.style.height = tdAnalogThisY.style.height;\n                            }\n                            if( rowChildren[j + 1] ) {\n                                afterTd = rowChildren[j + 1];\n                            } else {\n                                afterTd = null;\n                            }\n\n                            table.rows[i].insertBefore( td, afterTd );\n                            td.colSpan = colSpanNewTd;\n                            td.rowSpan = rowSpanNewTd;\n                            td.dataset.sameCellBeforeDivision = rowChildren[j].dataset.sameCellBeforeDivision;\n                            i += rowSpanNewTd - 1;\n                            break\n                        }\n                    }\n                }\n            }\n            WPTB_RecalculateIndexes(table);\n        }\n    },\n    glueTableVertically: function (table) {\n        if( table ) {\n            let tds = [...table.getElementsByTagName( 'td' )];\n            for( let i = 0; i < tds.length; i++ ) {\n                if( tds[i].hasAttribute( 'data-same-cell-before-division' ) ) {\n                    let dataSameCellBeforeDivision = tds[i].dataset.sameCellBeforeDivision;\n                    let tdsSameBeforeDivision = [...table.querySelectorAll( '[data-same-cell-before-division=\"' + dataSameCellBeforeDivision + '\"]' )];\n\n                    let jFirstTdGlue = null;\n                    for( let j = 0; j < tdsSameBeforeDivision.length; j++ ) {\n                        if( tdsSameBeforeDivision[j] && tdsSameBeforeDivision[j + 1] &&\n                            ! tdsSameBeforeDivision[j].classList.contains( 'wptb-column-moving' ) &&\n                            ! tdsSameBeforeDivision[j + 1].classList.contains( 'wptb-column-moving' ) ) {\n                            if( ( tdsSameBeforeDivision[j + 1].dataset.xIndex == parseInt( tdsSameBeforeDivision[j].dataset.xIndex ) +\n                                parseInt( tdsSameBeforeDivision[j].colSpan ) ) ) {\n                                if( jFirstTdGlue == null ) {\n                                    jFirstTdGlue = j;\n                                }\n                                tdsSameBeforeDivision[jFirstTdGlue].colSpan += tdsSameBeforeDivision[j + 1].colSpan;\n\n                                let tdsSameBeforeDivisionJPlusChildren = [...tdsSameBeforeDivision[j + 1].children];\n\n                                for( let k = 0; k < tdsSameBeforeDivisionJPlusChildren.length; k++ ) {\n                                    tdsSameBeforeDivision[jFirstTdGlue].appendChild( tdsSameBeforeDivisionJPlusChildren[k] );\n                                }\n\n                                let thisRow = tdsSameBeforeDivision[j + 1].parentNode;\n                                thisRow.removeChild( tdsSameBeforeDivision[j + 1] );\n                            }\n                        }\n                    }\n                }\n            }\n\n            WPTB_RecalculateIndexes(table);\n        }\n    }\n}\n","const WPTB_SortableTable = function (table) {\n\tthis.table = table;\n\tthis.topRow = table.rows.length ? table.rows[0] : null;\n\n\t/**\n\t * sets the table to sort mode\n\t * @param type\n\t * @param active\n\t */\n\tthis.sortModeSwitcher = function (type, active) {\n\t\tif (type === 'vertical') {\n\t\t\tthis.table.removeEventListener('click', this.sortableTableVerticalStart, false);\n\n\t\t\tif (active) {\n\t\t\t\tthis.sortModeSwitcher('horizontal', false);\n\t\t\t\tthis.sortingCellMouseMoveSwitcher('vertical', true);\n\t\t\t\tthis.table.addEventListener('click', this.sortableTableVerticalStart, false);\n\t\t\t\tthis.table.dataset.wptbSortableTableVertical = '1';\n\t\t\t} else {\n\t\t\t\tthis.sortingCellMouseMoveSwitcher('vertical', false);\n\t\t\t\tdelete this.table.dataset.wptbSortableTableVertical;\n\t\t\t}\n\t\t} else if (type === 'horizontal') {\n\t\t\tthis.table.removeEventListener('click', this.sortableTableHorizontalStart, false);\n\n\t\t\tif (active) {\n\t\t\t\tthis.sortModeSwitcher('vertical', false);\n\t\t\t\tthis.sortingCellMouseMoveSwitcher('horizontal', true);\n\t\t\t\tthis.table.addEventListener('click', this.sortableTableHorizontalStart, false);\n\t\t\t\tthis.table.dataset.wptbSortableTableHorizontal = '1';\n\t\t\t} else {\n\t\t\t\tthis.sortingCellMouseMoveSwitcher('horizontal', false);\n\t\t\t\tdelete this.table.dataset.wptbSortableTableHorizontal;\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * checks whether the table should be in the sort state\n\t * and connects the necessary handlers\n\t */\n\tthis.sortableTableInitialization = function () {\n\t\tif (this.table.dataset.wptbSortableTableVertical && this.table.dataset.wptbSortableTableVertical === '1') {\n\t\t\tthis.sortModeSwitcher('vertical', true);\n\t\t} else if (\n\t\t\tthis.table.dataset.wptbSortableTableHorizontal &&\n\t\t\tthis.table.dataset.wptbSortableTableHorizontal === '1'\n\t\t) {\n\t\t\tthis.sortModeSwitcher('horizontal', true);\n\t\t}\n\t};\n\n\tthis.sortingCellMouseMoveSwitcher = function (type, active) {\n\t\tif (type === 'vertical') {\n\t\t\tlet tds = this.topRow ? this.topRow.querySelectorAll('td') : null;\n\t\t\ttds = [...tds];\n\t\t\ttds.map((td) => {\n\t\t\t\ttd.removeEventListener('mousemove', sortingCellMouseMoveVertical, false);\n\t\t\t\ttd.removeEventListener('mouseleave', tdMouseLeave, false);\n\t\t\t\tif (active) {\n\t\t\t\t\ttd.addEventListener('mousemove', sortingCellMouseMoveVertical, false);\n\t\t\t\t\ttd.addEventListener('mouseleave', tdMouseLeave, false);\n\t\t\t\t}\n\t\t\t});\n\t\t} else if (type === 'horizontal') {\n\t\t\tlet tds = this.table.querySelectorAll('[data-x-index=\"0\"]');\n\t\t\ttds = [...tds];\n\t\t\ttds.map((td) => {\n\t\t\t\ttd.removeEventListener('mousemove', sortingCellMouseMoveHorizontal, false);\n\t\t\t\ttd.removeEventListener('mouseleave', tdMouseLeave, false);\n\t\t\t\tif (active) {\n\t\t\t\t\ttd.addEventListener('mousemove', sortingCellMouseMoveHorizontal, false);\n\t\t\t\t\ttd.addEventListener('mouseleave', tdMouseLeave, false);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\tfunction sortingCellMouseMov(e, type, element) {\n\t\tif (e.target.tagName === 'TD') {\n\t\t\tconst x = e.offsetX == undefined ? e.layerX : e.offsetX;\n\t\t\tconst y = e.offsetY == undefined ? e.layerY : e.offsetY;\n\t\t\tlet xMatch = false;\n\t\t\tif ((type === 'vertical' && e.target.clientWidth - x <= 35) || (type === 'horizontal' && x <= 35)) {\n\t\t\t\txMatch = true;\n\t\t\t}\n\t\t\tif (xMatch && (e.target.clientHeight - 35) / 2 < y && (e.target.clientHeight + 35) / 2 > y) {\n\t\t\t\telement.classList.add('sortable-hover');\n\t\t\t} else {\n\t\t\t\telement.classList.remove('sortable-hover');\n\t\t\t}\n\t\t} else {\n\t\t\telement.classList.remove('sortable-hover');\n\t\t}\n\t}\n\n\tfunction sortingCellMouseMoveVertical(e) {\n\t\tsortingCellMouseMov(e, 'vertical', this);\n\t}\n\n\tfunction sortingCellMouseMoveHorizontal(e) {\n\t\tsortingCellMouseMov(e, 'horizontal', this);\n\t}\n\n\tfunction tdMouseLeave() {\n\t\tthis.classList.remove('sortable-hover');\n\t}\n\n\t/**\n\t * function for sorting the table vertically by the numeric content of cells\n\t *\n\t * @param e\n\t * @param table\n\t */\n\tfunction sortableTable(e, table, type) {\n\t\tif (\n\t\t\te.target &&\n\t\t\te.target.tagName === 'TD' &&\n\t\t\t!table.classList.contains('wptb-plugin-responsive-base') &&\n\t\t\t!table.parentNode.classList.contains('wptb-preview-table-manage-cells')\n\t\t) {\n\t\t\tlet tableWasSorted = false;\n\t\t\tif (type === 'vertical' && e.target.dataset.yIndex === '0') {\n\t\t\t\tlet tds = table.querySelectorAll(`[data-x-index=\"${e.target.dataset.xIndex}\"]`);\n\t\t\t\ttds = [...tds];\n\n\t\t\t\t// preparing table for sorting\n\t\t\t\tlet rowspan;\n\t\t\t\tlet rowNum;\n\t\t\t\ttds.map((td) => {\n\t\t\t\t\tif (!(rowspan = parseInt(td.rowSpan, 10))) {\n\t\t\t\t\t\trowspan = 1;\n\t\t\t\t\t}\n\t\t\t\t\trowNum = td.dataset.yIndex;\n\t\t\t\t\tWPTB_CutGlueTable.cutTableHorizontally(rowNum, table);\n\t\t\t\t\trowNum += rowspan;\n\t\t\t\t\tWPTB_CutGlueTable.cutTableHorizontally(rowNum, table);\n\t\t\t\t});\n\n\t\t\t\tconst rowsValuesArr = [];\n\t\t\t\tlet rowsTdFirst;\n\t\t\t\tlet tdYCoordsRowSpanPrevious = 0;\n\t\t\t\tfor (let i = 0; i < tds.length; i++) {\n\t\t\t\t\tconst tdsChanged = changeSortingTdsCollection(\n\t\t\t\t\t\te,\n\t\t\t\t\t\ttable,\n\t\t\t\t\t\ttds,\n\t\t\t\t\t\ti,\n\t\t\t\t\t\ttdYCoordsRowSpanPrevious,\n\t\t\t\t\t\t'vertical'\n\t\t\t\t\t);\n\t\t\t\t\tif (tdsChanged && tdsChanged.hasOwnProperty('i')) {\n\t\t\t\t\t\ttds = tdsChanged.tds;\n\t\t\t\t\t\ti = tdsChanged.i;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t} else if (tdsChanged) {\n\t\t\t\t\t\ttds = tdsChanged.tds;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst td = tds[i];\n\n\t\t\t\t\tlet tdRowspan = parseInt(td.rowSpan, 10);\n\t\t\t\t\tif (!tdRowspan) tdRowspan = 1;\n\n\t\t\t\t\ttdYCoordsRowSpanPrevious = parseInt(td.dataset.yIndex, 10) + tdRowspan;\n\n\t\t\t\t\tconst textElementsValues = textElementsValuesGet(td);\n\n\t\t\t\t\tconst rowsTd = [];\n\t\t\t\t\tfor (let j = 0; j < tdRowspan; j++) {\n\t\t\t\t\t\trowsTd.push(table.rows[parseInt(td.dataset.yIndex, 10) + j]);\n\t\t\t\t\t}\n\t\t\t\t\tif (td.dataset.yIndex > 0) {\n\t\t\t\t\t\trowsValuesArr.push({\n\t\t\t\t\t\t\trowsTd,\n\t\t\t\t\t\t\tvalue: textElementsValues,\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\trowsTdFirst = rowsTd;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconst orderBy = setSortedAscDataAttr(e, 'sortedVertical');\n\t\t\t\tif (!orderBy) return;\n\n\t\t\t\tif (rowsValuesArr.length) rowsValuesArr.sort((prev, next) => sortOrder(orderBy, prev, next));\n\n\t\t\t\trowsValuesArr.unshift({ rowsTd: rowsTdFirst });\n\n\t\t\t\tconst tBody = table.querySelector('tbody');\n\t\t\t\ttBody.innerHTML = '';\n\n\t\t\t\trowsValuesArr.map((rowsValObj) => {\n\t\t\t\t\trowsValObj.rowsTd.map((row) => {\n\t\t\t\t\t\ttBody.appendChild(row);\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\tWPTB_RecalculateIndexes(table);\n\n\t\t\t\tWPTB_CutGlueTable.glueTableHorizontally(table);\n\n\t\t\t\ttableWasSorted = true;\n\t\t\t} else if (type === 'horizontal' && e.target.dataset.xIndex === '0') {\n\t\t\t\tlet tds = table.querySelectorAll(`[data-y-index=\"${e.target.dataset.yIndex}\"]`);\n\t\t\t\ttds = [...tds];\n\n\t\t\t\t// preparing table for sorting\n\t\t\t\tlet colspan;\n\t\t\t\tlet colNum;\n\t\t\t\ttds.map((td) => {\n\t\t\t\t\tif (!(colspan = parseInt(td.colSpan, 10))) {\n\t\t\t\t\t\tcolspan = 1;\n\t\t\t\t\t}\n\t\t\t\t\tcolNum = td.dataset.xIndex;\n\t\t\t\t\tWPTB_CutGlueTable.cutTableVertically(colNum, table);\n\t\t\t\t\tcolNum += colspan;\n\t\t\t\t\tWPTB_CutGlueTable.cutTableVertically(colNum, table);\n\t\t\t\t});\n\n\t\t\t\tconst columnsValuesArr = [];\n\t\t\t\tlet columnsTdFirst;\n\n\t\t\t\tlet tdXCoordsColSpanPrevious = 0;\n\t\t\t\tfor (let i = 0; i < tds.length; i++) {\n\t\t\t\t\tconst tdsChanged = changeSortingTdsCollection(\n\t\t\t\t\t\te,\n\t\t\t\t\t\ttable,\n\t\t\t\t\t\ttds,\n\t\t\t\t\t\ti,\n\t\t\t\t\t\ttdXCoordsColSpanPrevious,\n\t\t\t\t\t\t'horizontal'\n\t\t\t\t\t);\n\t\t\t\t\tif (tdsChanged && tdsChanged.hasOwnProperty('i')) {\n\t\t\t\t\t\ttds = tdsChanged.tds;\n\t\t\t\t\t\ti = tdsChanged.i;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t} else if (tdsChanged) {\n\t\t\t\t\t\ttds = tdsChanged.tds;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst td = tds[i];\n\t\t\t\t\tlet tdColspan = parseInt(td.colSpan, 10);\n\t\t\t\t\tif (!tdColspan) tdColspan = 1;\n\n\t\t\t\t\ttdXCoordsColSpanPrevious = parseInt(td.dataset.xIndex, 10) + tdColspan;\n\n\t\t\t\t\tconst textElementsValues = textElementsValuesGet(td);\n\t\t\t\t\tconst columnsTd = [];\n\t\t\t\t\tfor (let j = 0; j < tdColspan; j++) {\n\t\t\t\t\t\tconst tdsColumn = [\n\t\t\t\t\t\t\t...table.querySelectorAll(`[data-x-index=\"${parseInt(td.dataset.xIndex, 10) + j}\"]`),\n\t\t\t\t\t\t];\n\t\t\t\t\t\tcolumnsTd.push(tdsColumn);\n\t\t\t\t\t}\n\t\t\t\t\tif (td.dataset.xIndex > 0) {\n\t\t\t\t\t\tcolumnsValuesArr.push({\n\t\t\t\t\t\t\tcolumnsTd,\n\t\t\t\t\t\t\tvalue: textElementsValues,\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcolumnsTdFirst = columnsTd;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconst orderBy = setSortedAscDataAttr(e, 'sortedHorizontal');\n\t\t\t\tif (!orderBy) return;\n\n\t\t\t\tif (columnsValuesArr.length) columnsValuesArr.sort((prev, next) => sortOrder(orderBy, prev, next));\n\n\t\t\t\tcolumnsValuesArr.unshift({ columnsTd: columnsTdFirst });\n\n\t\t\t\tfor (let i = 0; i < table.rows.length; i++) {\n\t\t\t\t\ttable.rows[i].innerHTML = '';\n\t\t\t\t}\n\n\t\t\t\tcolumnsValuesArr.map((columnsValObj) => {\n\t\t\t\t\tcolumnsValObj.columnsTd.map((tdsColumn) => {\n\t\t\t\t\t\ttdsColumn.map((td) => {\n\t\t\t\t\t\t\ttable.rows[td.dataset.yIndex].appendChild(td);\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\tWPTB_RecalculateIndexes(table);\n\n\t\t\t\tWPTB_CutGlueTable.glueTableVertically(table);\n\n\t\t\t\ttableWasSorted = true;\n\t\t\t}\n\n\t\t\tif (tableWasSorted) {\n\t\t\t\tremoveCellsAttrAfterDivision(table);\n\n\t\t\t\tif (table.hasOwnProperty('tableSM')) {\n\t\t\t\t\tconst tableSM = table.tableSM();\n\t\t\t\t\tnew tableSM().tableStateSet();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Function that sets the data-attribute with the number of the row or column\n\t * that the table was sorted by. Returns the number of a row or column\n\t *\n\t * @param e\n\t * @param dataAttr\n\t * @returns {null|boolean}\n\t */\n\tfunction setSortedAscDataAttr(e, dataAttr) {\n\t\tif (e.currentTarget && e.currentTarget.classList.contains('wptb-preview-table')) {\n\t\t\tif (!e.target.dataset[dataAttr] || e.target.dataset[dataAttr] === 'ask') {\n\t\t\t\te.target.dataset[dataAttr] = 'desk';\n\t\t\t} else {\n\t\t\t\te.target.dataset[dataAttr] = 'ask';\n\t\t\t}\n\n\t\t\treturn e.target.dataset[dataAttr];\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t * defines the sorting order\n\t *\n\t * @param orderBy\n\t * @param prev\n\t * @param next\n\t * @returns {number}\n\t */\n\tfunction sortOrder(orderBy = 'ask', prev, next) {\n\t\tlet prevValue = prev.value;\n\t\tlet nextValue = next.value;\n\t\tif (parseInt(prevValue) && parseInt(nextValue)) {\n\t\t\tprevValue = parseInt(prevValue);\n\t\t\tnextValue = parseInt(nextValue);\n\t\t}\n\n\t\tif (orderBy === 'ask') {\n\t\t\tif (prevValue < nextValue) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\tif (prevValue === nextValue) {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\treturn 1;\n\t\t}\n\t\tif (prevValue < nextValue) {\n\t\t\treturn 1;\n\t\t}\n\t\tif (prevValue === nextValue) {\n\t\t\treturn 0;\n\t\t}\n\t\treturn -1;\n\t}\n\n\t/**\n\t * return cell text elements values\n\t *\n\t * @param cell {HTMLElement}\n\t * @returns {string}\n\t */\n\tfunction textElementsValuesGet(cell) {\n\t\tlet textElements = cell.querySelectorAll('.wptb-text-container');\n\t\ttextElements = [...textElements];\n\t\tlet value = '';\n\t\tfor (let j = 0; j < textElements.length; j++) {\n\t\t\tconst p = textElements[j].querySelector('p');\n\t\t\tvalue += p.innerText;\n\t\t\tif (j !== textElements.length - 1) value += ' ';\n\t\t}\n\n\t\treturn value;\n\t}\n\n\t/**\n\t * adds cells to the collection of cells in the row or column that the table is sorted by.\n\t * These added cells are not originally were added in the collection,\n\t * because they are combined with cells from higher rows or left-side columns\n\t *\n\t * @param table\n\t * @param tds\n\t * @param i\n\t * @param tdIndexSpanPrev\n\t * @returns {{tds: *}|boolean|{tds: *, i: *}}\n\t */\n\tfunction changeSortingTdsCollection(e, table, tds, i, tdIndexSpanPrev, type) {\n\t\tconst td = tds[i];\n\t\tlet tdsCollectionChanged = false;\n\t\tlet collectionTds;\n\t\tlet collectionTdsJSpan;\n\t\tlet collectionTdsJSpanProperty;\n\t\tlet indexName;\n\t\tlet indexNameCamelCase;\n\t\tlet indexNamePerpendicularCamelCase;\n\t\tlet tdSpanProperty;\n\t\t// max rows or columns column\n\t\tlet tableGroupCount;\n\n\t\tif (type === 'vertical') {\n\t\t\tcollectionTdsJSpanProperty = 'colSpan';\n\t\t\tindexName = 'data-y-index';\n\t\t\tindexNameCamelCase = 'yIndex';\n\t\t\tindexNamePerpendicularCamelCase = 'xIndex';\n\t\t\ttdSpanProperty = 'rowSpan';\n\t\t\ttableGroupCount = table.rows.length;\n\t\t} else if (type === 'horizontal') {\n\t\t\tcollectionTdsJSpanProperty = 'rowSpan';\n\t\t\tindexName = 'data-x-index';\n\t\t\tindexNameCamelCase = 'xIndex';\n\t\t\tindexNamePerpendicularCamelCase = 'yIndex';\n\t\t\ttdSpanProperty = 'colSpan';\n\t\t\ttableGroupCount = table.maxCols;\n\t\t}\n\n\t\tif (td.dataset[indexNameCamelCase] - tdIndexSpanPrev > 0) {\n\t\t\tcollectionTds = table.querySelectorAll(`[${indexName}=\"${tdIndexSpanPrev}\"]`);\n\n\t\t\tfor (let j = 0; j < collectionTds.length; j++) {\n\t\t\t\tcollectionTdsJSpan = collectionTds[j][collectionTdsJSpanProperty];\n\t\t\t\tif (!collectionTdsJSpan) collectionTdsJSpan = 1;\n\n\t\t\t\tif (\n\t\t\t\t\tcollectionTds[j].dataset[indexNamePerpendicularCamelCase] <\n\t\t\t\t\t\te.target.dataset[indexNamePerpendicularCamelCase] &&\n\t\t\t\t\tparseInt(collectionTds[j].dataset[indexNamePerpendicularCamelCase], 10) +\n\t\t\t\t\t\tparseInt(collectionTdsJSpan, 10) >=\n\t\t\t\t\t\te.target.dataset[indexNamePerpendicularCamelCase]\n\t\t\t\t) {\n\t\t\t\t\ttds.splice(i, 0, collectionTds[j]);\n\t\t\t\t\ttdsCollectionChanged = true;\n\t\t\t\t\ti--;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (tdsCollectionChanged) return { tds, i };\n\n\t\tlet tdSpan = parseInt(td[tdSpanProperty], 10);\n\t\tif (!tdSpan) tdSpan = 1;\n\t\tif (i == tds.length - 1 && parseInt(td.dataset[indexNameCamelCase], 10) + tdSpan < tableGroupCount) {\n\t\t\tcollectionTds = table.querySelectorAll(\n\t\t\t\t`[${indexName}=\"${parseInt(td.dataset[indexNameCamelCase], 10) + tdSpan}\"]`\n\t\t\t);\n\t\t\tfor (let j = 0; j < collectionTds.length; j++) {\n\t\t\t\tcollectionTdsJSpan = collectionTds[j][collectionTdsJSpanProperty];\n\t\t\t\tif (!collectionTdsJSpan) collectionTdsJSpan = 1;\n\n\t\t\t\tif (\n\t\t\t\t\tcollectionTds[j].dataset[indexNamePerpendicularCamelCase] <\n\t\t\t\t\t\te.target.dataset[indexNamePerpendicularCamelCase] &&\n\t\t\t\t\tparseInt(collectionTds[j].dataset[indexNamePerpendicularCamelCase], 10) +\n\t\t\t\t\t\tparseInt(collectionTdsJSpan, 10) >=\n\t\t\t\t\t\te.target.dataset[indexNamePerpendicularCamelCase]\n\t\t\t\t) {\n\t\t\t\t\ttds.push(collectionTds[j]);\n\t\t\t\t\ttdsCollectionChanged = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (tdsCollectionChanged) return { tds };\n\t\treturn false;\n\t}\n\n\t/**\n\t * remove cells attributes which were used for division table\n\t *\n\t * @param table\n\t */\n\tfunction removeCellsAttrAfterDivision(table) {\n\t\tconst tdsAll = [...table.getElementsByTagName('td')];\n\t\tfor (let i = 0; i < tdsAll.length; i++) {\n\t\t\tif (tdsAll[i].hasAttribute('data-same-cell-before-division')) {\n\t\t\t\ttdsAll[i].removeAttribute('data-same-cell-before-division');\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * function for run sorting table vertically\n\t *\n\t * @param e\n\t */\n\tthis.sortableTableVerticalStart = function (e) {\n\t\tsortableTable(e, table, 'vertical');\n\t};\n\n\t/**\n\t * function for run sorting table horizontally\n\t *\n\t * @param e\n\t */\n\tthis.sortableTableHorizontalStart = function (e) {\n\t\tsortableTable(e, table, 'horizontal');\n\t};\n};\n","const WPTB_RecalculateIndexes = function (table) {\r\n    let trs = table.getElementsByTagName( 'tr' ),\r\n        tds, maxCols = 0, maxColsFull = 0, tdsArr = [];\r\n\r\n    for ( let i = 0; i < trs.length; i++ ) {\r\n        tds = trs[i].getElementsByTagName( 'td' );\r\n\r\n        if ( tdsArr[i] == undefined ) {\r\n            tdsArr[i] = [];\r\n        }\r\n\r\n        let jMainIter = 0;\r\n        for ( let j = 0; j < tds.length; j++ ) {\r\n            if ( tdsArr[i][j] != undefined ) {\r\n                for ( let y = 0; y < 100; y++ ) {\r\n                    if ( tdsArr[i][jMainIter] != undefined ) {\r\n                        jMainIter++;\r\n                        continue;\r\n                    }\r\n                    tdsArr[i][jMainIter] = tds[j];\r\n                    tds[j].dataset.xIndex = jMainIter;\r\n                    break;\r\n                }\r\n            } else {\r\n                tdsArr[i][j] = tds[j];\r\n                tds[j].dataset.xIndex = jMainIter;\r\n            }\r\n            tds[j].dataset.yIndex = i;\r\n\r\n            if ( tds[j].colSpan > 1 ) {\r\n                for ( let k = 1; k < tds[j].colSpan; k++ ) {\r\n                    jMainIter++;\r\n                    tdsArr[i][jMainIter] = 'tdDummy';\r\n                }\r\n            }\r\n\r\n            if ( tds[j].rowSpan > 1 ) {\r\n                for ( let x = 1; x < tds[j].rowSpan; x++ ) {\r\n                    if ( tdsArr[i + x] == undefined ) {\r\n                        tdsArr[i + x] = [];\r\n                    }\r\n                    for ( let z = 0; z < tds[j].colSpan; z++ ) {\r\n                        tdsArr[i + x][jMainIter - tds[j].colSpan + 1 + z ] = 'tdDummy';\r\n                    }\r\n                }\r\n            }\r\n            jMainIter++;\r\n        }\r\n\r\n        if ( tds.length > maxCols ) {\r\n            maxCols = tds.length;\r\n        }\r\n\r\n        if( i == 0 ) {\r\n            maxColsFull = jMainIter;\r\n        }\r\n    }\r\n    table.columns = maxCols;\r\n    table.maxCols = maxColsFull;\r\n}\r\n","(function ($) {\n\t/**\n\t * All of the code for your public-facing JavaScript source\n\t * should reside in this file.\n\t *\n\t * Note: It has been assumed you will write jQuery code here, so the\n\t * $ function reference has been prepared for usage within the scope\n\t * of this function.\n\t *\n\t * This enables you to define handlers, for when the DOM is ready:\n\t *\n\t * $(function() {\n\t *\n\t * });\n\t *\n\t * When the window is loaded:\n\t *\n\t * $( window ).load(function() {\n\t *\n\t * });\n\t *\n\t * ...and/or other possibilities.\n\t *\n\t * Ideally, it is not considered best practise to attach more than a\n\t * single DOM-ready or window-load handler for a particular page.\n\t * Although scripts in the WordPress core, Plugins and Themes may be\n\t * practising this, we should strive to set a better example in our own work.\n\t *\n\t * The file is enqueued from inc/frontend/class-frontend.php.\n\t */\n\n\tjQuery(document).ready(function ($) {\n\t\tconst tableContainers = document.getElementsByClassName('wptb-table-container');\n\t\t/**\n\t\t * Adds hover color change support for supported button elements.\n\t\t */\n\t\tfunction addHoverSupport(querySelector) {\n\t\t\tconst buttons = Array.from(document.querySelectorAll(querySelector));\n\n\t\t\tbuttons.map((b) => {\n\t\t\t\tb.addEventListener('mouseenter', (e) => {\n\t\t\t\t\tconst el = e.target;\n\t\t\t\t\t// hover background-color\n\t\t\t\t\tif (el.dataset.wptbElementHoverBgColor) {\n\t\t\t\t\t\tel.style.backgroundColor = el.dataset.wptbElementHoverBgColor;\n\t\t\t\t\t}\n\t\t\t\t\t// hover color\n\t\t\t\t\tif (el.dataset.wptbElementHoverTextColor) {\n\t\t\t\t\t\tel.style.color = el.dataset.wptbElementHoverTextColor;\n\t\t\t\t\t}\n\t\t\t\t\t// hover scale\n\t\t\t\t\tif (el.dataset.wptbElementHoverScale) {\n\t\t\t\t\t\tel.style.transform = `scale(${b.dataset.wptbElementHoverScale})`;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tb.addEventListener('mouseleave', (e) => {\n\t\t\t\t\t// reset all supported hover properties to their default value\n\t\t\t\t\tconst el = e.target;\n\t\t\t\t\tif (el.dataset.wptbElementHoverBgColor) {\n\t\t\t\t\t\tel.style.backgroundColor = el.dataset.wptbElementBgColor;\n\t\t\t\t\t}\n\t\t\t\t\tif (el.dataset.wptbElementHoverTextColor) {\n\t\t\t\t\t\tel.style.color = el.dataset.wptbElementColor;\n\t\t\t\t\t}\n\t\t\t\t\tif (el.dataset.wptbElementHoverScale) {\n\t\t\t\t\t\tel.style.transform = 'scale(1)';\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\t// add all kind of functions that have event listeners before responsive table reconstruction to make sure those event listeners are carried over to their clones\n\t\taddHoverSupport('.wptb-preview-table .wptb-button');\n\n\t\t/**\n\t\t * function wptb_tableContainerSectionSmall\n\t\t * add class ( wptb-section-small ) in small width\n\t\t * remove this class in large width\n\t\t * @returns {void}\n\t\t */\n\t\tfunction wptb_tableContainerSectionSmall() {\n\t\t\tconst wptbTableContainer = jQuery('.wptb-table-container');\n\t\t\tconst sw = wptbTableContainer.width();\n\t\t\tif (wptbTableContainer.length > 0) {\n\t\t\t\tif (sw < 480) {\n\t\t\t\t\twptbTableContainer.addClass('wptb-section-small');\n\t\t\t\t} else {\n\t\t\t\t\twptbTableContainer.removeClass('wptb-section-small');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * function wptb_tableGenerateMobile\n\t\t * generates a mobile view of the table\n\t\t * when the top row of the table is not a heading\n\t\t * @returns {void}\n\t\t */\n\t\tfunction wptb_tableGenerateMobile() {\n\t\t\tconst wptbTableContainer = document.getElementsByClassName('wptb-table-container');\n\t\t\tconst wptbPreviewTable = document.getElementsByClassName('wptb-preview-table');\n\t\t\tconst wptbPreviewTableMobile = document.getElementsByClassName('wptb-preview-table-mobile');\n\t\t\tif (wptbTableContainer.length > 0 && wptbPreviewTable.length > 0) {\n\t\t\t\tconst sw = wptbTableContainer[0].offsetWidth;\n\t\t\t\tif (sw < 480) {\n\t\t\t\t\twptbPreviewTable[0].style.display = 'none';\n\n\t\t\t\t\tif (wptbPreviewTableMobile.length == 0) {\n\t\t\t\t\t\tconst tableRows = wptbPreviewTable[0].rows;\n\t\t\t\t\t\tconst tableRowTop = tableRows[0];\n\t\t\t\t\t\tconst tableRowTopChildren = tableRowTop.children;\n\t\t\t\t\t\tlet columnCount = 0;\n\n\t\t\t\t\t\tfor (let i = 0; i < tableRowTopChildren.length; i++) {\n\t\t\t\t\t\t\tcolumnCount += tableRowTopChildren[i].colSpan;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst newTableArray = [];\n\n\t\t\t\t\t\tfor (let i = 0; i < columnCount; i++) {\n\t\t\t\t\t\t\tnewTableArray[i] = [];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfor (let i = 0; i < tableRows.length; i++) {\n\t\t\t\t\t\t\tconst rowChildren = tableRows[i].children;\n\n\t\t\t\t\t\t\tfor (let j = 0; j < columnCount; j++) {\n\t\t\t\t\t\t\t\tif (rowChildren[j].dataset.xIndex == j) {\n\t\t\t\t\t\t\t\t\tconst tdNew = rowChildren[j].cloneNode(true);\n\t\t\t\t\t\t\t\t\tif (tableRows[i].style.backgroundColor) {\n\t\t\t\t\t\t\t\t\t\ttdNew.style.backgroundColor = tableRows[i].style.backgroundColor;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tnewTableArray[j].push(tdNew);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tnewTableArray[j].push('');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst table = document.createElement('table');\n\t\t\t\t\t\ttable.classList.add('wptb-preview-table-mobile');\n\t\t\t\t\t\tconst tableStyle = wptbPreviewTable[0].getAttribute('style');\n\t\t\t\t\t\ttable.setAttribute('style', tableStyle);\n\t\t\t\t\t\ttable.style.display = 'table';\n\t\t\t\t\t\tfor (let i = 0; i < columnCount; i++) {\n\t\t\t\t\t\t\tconst row = table.insertRow(-1);\n\t\t\t\t\t\t\trow.classList.add('wptb-row');\n\n\t\t\t\t\t\t\tfor (let j = 0; j < tableRows.length; j++) {\n\t\t\t\t\t\t\t\tif (newTableArray[i][j]) {\n\t\t\t\t\t\t\t\t\trow.appendChild(newTableArray[i][j]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\twptbTableContainer[0].appendChild(table);\n\t\t\t\t\t} else {\n\t\t\t\t\t\twptbPreviewTableMobile[0].style.display = 'table';\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\twptbPreviewTable[0].style.display = 'table';\n\t\t\t\t\tif (wptbPreviewTableMobile.length > 0) {\n\t\t\t\t\t\twptbPreviewTableMobile[0].style.display = 'none';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\twptb_tdDefaultWidth();\n\t\twptb_tableReconstraction();\n\n\t\t// when window resize call wpcd_archiveSectionSmall and wptb_tableGenerateMobile\n\t\t$(window).resize(function () {\n\t\t\twptb_tdDefaultWidth();\n\t\t\twptb_tableReconstraction();\n\t\t});\n\n\t\tfunction wptb_tableReconstraction() {\n\t\t\tfor (let i = 0; i < tableContainers.length; i++) {\n\t\t\t\tconst tableContainer = tableContainers[i];\n\n\t\t\t\t// Set default indicator of creating a new table in true\n\t\t\t\tlet createNewTableIndic = true;\n\n\t\t\t\tlet previewTable = tableContainer.getElementsByClassName('wptb-preview-table');\n\t\t\t\tlet tableContainerMatrix = tableContainer.getElementsByClassName('wptb-table-container-matrix');\n\n\t\t\t\tif (previewTable.length > 0 && tableContainerMatrix.length > 0) {\n\t\t\t\t\tpreviewTable = previewTable[0];\n\t\t\t\t\ttableContainerMatrix = tableContainerMatrix[0];\n\t\t\t\t\tpreviewTable.style.display = 'table';\n\n\t\t\t\t\tif (previewTable.dataset.wptbTableAlignment) {\n\t\t\t\t\t\tconst { wptbTableAlignment } = previewTable.dataset;\n\n\t\t\t\t\t\tconst wptbTableContainerWidth = tableContainer.offsetWidth;\n\t\t\t\t\t\tif (wptbTableContainerWidth < previewTable.offsetWidth) {\n\t\t\t\t\t\t\tpreviewTable.style.float = null;\n\t\t\t\t\t\t} else if (wptbTableAlignment == 'center') {\n\t\t\t\t\t\t\tpreviewTable.style.float = null;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tpreviewTable.style.float = wptbTableAlignment;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (wptbTableAlignment == 'center') {\n\t\t\t\t\t\t\ttableContainer.style.float = null;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttableContainer.style.float = wptbTableAlignment;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// check data parametrs reconstraction and wptbAdaptiveTable if they are both equal 1 then continue\n\t\t\t\t\tif (previewTable.dataset.reconstraction == 1 && previewTable.dataset.wptbAdaptiveTable == 1) {\n\t\t\t\t\t\t// get widths for wptb-table-container and wptb-preview-table\n\t\t\t\t\t\tconst tableContainerWidth = tableContainer.offsetWidth;\n\t\t\t\t\t\tconst previewTableWidth = previewTable.offsetWidth;\n\n\t\t\t\t\t\t// get count of table columns\n\t\t\t\t\t\tlet tableColumns;\n\t\t\t\t\t\tconst previewTableRows = previewTable.rows;\n\t\t\t\t\t\tif (previewTableRows.length > 0) {\n\t\t\t\t\t\t\tconst firstRow = previewTableRows[0];\n\t\t\t\t\t\t\tconst tdsRow = firstRow.querySelectorAll('td');\n\n\t\t\t\t\t\t\ttableColumns = tdsRow.length;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// check the top line if it is presented as a title\n\t\t\t\t\t\tconst tablePreviewHeadIndic = previewTable.classList.contains('wptb-table-preview-head');\n\n\t\t\t\t\t\t// check conditions: if table top row is as \"header\" - table must have more that two columns,\n\t\t\t\t\t\t// otherwise table must have more taht one columns\n\t\t\t\t\t\tif ((!tablePreviewHeadIndic || tableColumns > 2) && tableColumns > 1) {\n\t\t\t\t\t\t\t// if width of wptb-table-container less then width of wptb-preview-table -\n\t\t\t\t\t\t\t// continue the way creation new mobile table\n\t\t\t\t\t\t\tif (tableContainerWidth < previewTableWidth) {\n\t\t\t\t\t\t\t\ttableContainer.style.overflow = 'unset';\n\n\t\t\t\t\t\t\t\t// hide wptb-table-container-matrix\n\t\t\t\t\t\t\t\tif (tableContainerMatrix) tableContainerMatrix.classList.add('wptb-matrix-hide');\n\n\t\t\t\t\t\t\t\tif (previewTable.rows && tableColumns) {\n\t\t\t\t\t\t\t\t\t// we get the estimated cell width\n\t\t\t\t\t\t\t\t\tconst tdWidth = previewTableWidth / tableColumns;\n\n\t\t\t\t\t\t\t\t\t// get the quantity of whole Columns that are can placed in the container\n\t\t\t\t\t\t\t\t\tlet wholeColumnsInContainer = Math.floor(tableContainerWidth / tdWidth);\n\t\t\t\t\t\t\t\t\tif (wholeColumnsInContainer < 1) wholeColumnsInContainer = 1;\n\n\t\t\t\t\t\t\t\t\t// check for the existence of a mobile table\n\t\t\t\t\t\t\t\t\t// if it available, check this table for compliance\n\t\t\t\t\t\t\t\t\t// with our conditions. If it compliance, remain this table\n\t\t\t\t\t\t\t\t\t// and cancel creating a new table ( createNewTableIndic = false ).\n\t\t\t\t\t\t\t\t\tif (tableContainer.getElementsByClassName('wptb-preview-table-mobile').length > 0) {\n\t\t\t\t\t\t\t\t\t\tconst wptbPreviewTableMobile = tableContainer.getElementsByClassName(\n\t\t\t\t\t\t\t\t\t\t\t'wptb-preview-table-mobile'\n\t\t\t\t\t\t\t\t\t\t)[0];\n\t\t\t\t\t\t\t\t\t\twptbPreviewTableMobile.classList.remove('wptb-mobile-hide');\n\t\t\t\t\t\t\t\t\t\tconst dataWholeColumnInContainer =\n\t\t\t\t\t\t\t\t\t\t\twptbPreviewTableMobile.dataset.wholeColumnsInContainer;\n\n\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\tdataWholeColumnInContainer == wholeColumnsInContainer &&\n\t\t\t\t\t\t\t\t\t\t\tpreviewTable.classList.contains('wptb-table-preview-head')\n\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\tcreateNewTableIndic = false;\n\t\t\t\t\t\t\t\t\t\t} else if (\n\t\t\t\t\t\t\t\t\t\t\tdataWholeColumnInContainer == wholeColumnsInContainer &&\n\t\t\t\t\t\t\t\t\t\t\t!previewTable.classList.contains('wptb-table-preview-head') &&\n\t\t\t\t\t\t\t\t\t\t\t(tableContainerWidth > 480 || wptbPreviewTableMobile.column == 1)\n\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\tcreateNewTableIndic = false;\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\twptbPreviewTableMobile.parentNode.removeChild(wptbPreviewTableMobile);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t//\n\t\t\t\t\t\t\t\t\t// if indicator of creating of table \"true\" - continue\n\t\t\t\t\t\t\t\t\tif (createNewTableIndic) {\n\t\t\t\t\t\t\t\t\t\t// create new table for mobile devices\n\t\t\t\t\t\t\t\t\t\tconst newTable = document.createElement('table');\n\n\t\t\t\t\t\t\t\t\t\t// add css class for new mobile table\n\t\t\t\t\t\t\t\t\t\tnewTable.classList.add('wptb-preview-table-mobile');\n\t\t\t\t\t\t\t\t\t\tconst infArr = previewTable.className.match(/wptb-element-main(.+)-(\\d+)/i);\n\t\t\t\t\t\t\t\t\t\tif (infArr && Array.isArray(infArr)) {\n\t\t\t\t\t\t\t\t\t\t\tnewTable.classList.add(infArr[0]);\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t// get number of rows for wptb-preview-table\n\t\t\t\t\t\t\t\t\t\tconst tableRows = previewTable.rows.length;\n\n\t\t\t\t\t\t\t\t\t\t// In this variable must have quantity columns of the last section of the new table\n\t\t\t\t\t\t\t\t\t\tlet newTableLastSectionFilledColumns;\n\n\t\t\t\t\t\t\t\t\t\t// set valuesIsSaved in 'false'\n\t\t\t\t\t\t\t\t\t\t// if the parameters newTableLastSectionFilledColumns get\n\t\t\t\t\t\t\t\t\t\t// optimal values, valuesIsSaved must have value 'true'\n\t\t\t\t\t\t\t\t\t\tlet valuesIsSaved = false;\n\n\t\t\t\t\t\t\t\t\t\t// check if top row is as \"header\"\n\t\t\t\t\t\t\t\t\t\tif (previewTable.classList.contains('wptb-table-preview-head')) {\n\t\t\t\t\t\t\t\t\t\t\t// quantity rows without top row\n\t\t\t\t\t\t\t\t\t\t\tconst tableRowsWithoutHeader = tableRows - 1;\n\n\t\t\t\t\t\t\t\t\t\t\t// this variable will have quantity columns in new mobile table\n\t\t\t\t\t\t\t\t\t\t\tlet newTableColumnsWithoutLeftHeader;\n\n\t\t\t\t\t\t\t\t\t\t\t// if quantity of rows in desktop table more than\n\t\t\t\t\t\t\t\t\t\t\t// quantity whole columns which are can placed in the container,\n\t\t\t\t\t\t\t\t\t\t\t// execute \"loop for\"\n\t\t\t\t\t\t\t\t\t\t\tif (tableRows > wholeColumnsInContainer) {\n\t\t\t\t\t\t\t\t\t\t\t\t// this code, —Åyclical reduces the number of columns in the new table,\n\t\t\t\t\t\t\t\t\t\t\t\t// until the optimal view is obtained so that the last block of the new table\n\t\t\t\t\t\t\t\t\t\t\t\t// has more than half the columns compared to the previous blocks\n\t\t\t\t\t\t\t\t\t\t\t\tfor (let i = 0; i < tableRowsWithoutHeader; i++) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tnewTableColumnsWithoutLeftHeader = wholeColumnsInContainer - 1 - i;\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (newTableColumnsWithoutLeftHeader <= 0)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnewTableColumnsWithoutLeftHeader = 1;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\tnewTableLastSectionFilledColumns =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttableRowsWithoutHeader % newTableColumnsWithoutLeftHeader;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (newTableLastSectionFilledColumns == 0) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvaluesIsSaved = true;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else if (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnewTableColumnsWithoutLeftHeader > 0 &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnewTableColumnsWithoutLeftHeader <= 6 &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnewTableColumnsWithoutLeftHeader -\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t2 * newTableLastSectionFilledColumns <\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t0 &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnewTableLastSectionFilledColumns <\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnewTableColumnsWithoutLeftHeader\n\t\t\t\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvaluesIsSaved = true;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else if (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnewTableColumnsWithoutLeftHeader > 6 &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnewTableColumnsWithoutLeftHeader <= 12 &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnewTableColumnsWithoutLeftHeader -\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t1.8 * newTableLastSectionFilledColumns <\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t0 &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnewTableLastSectionFilledColumns <\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnewTableColumnsWithoutLeftHeader\n\t\t\t\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvaluesIsSaved = true;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else if (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnewTableColumnsWithoutLeftHeader > 12 &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnewTableColumnsWithoutLeftHeader <= 18 &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnewTableColumnsWithoutLeftHeader -\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t1.6 * newTableLastSectionFilledColumns <\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t0 &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnewTableLastSectionFilledColumns <\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnewTableColumnsWithoutLeftHeader\n\t\t\t\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvaluesIsSaved = true;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\tnewTableColumnsWithoutLeftHeader = tableRowsWithoutHeader;\n\t\t\t\t\t\t\t\t\t\t\t\tnewTableLastSectionFilledColumns = 0;\n\t\t\t\t\t\t\t\t\t\t\t\tvaluesIsSaved = true;\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t// if all necessary values ‚Äã‚Äãare available (  ), execute\n\t\t\t\t\t\t\t\t\t\t\tif (valuesIsSaved) {\n\t\t\t\t\t\t\t\t\t\t\t\tlet countRows;\n\t\t\t\t\t\t\t\t\t\t\t\tif (newTableColumnsWithoutLeftHeader > 0) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tcountRows =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttableColumns *\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tMath.ceil(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttableRowsWithoutHeader / newTableColumnsWithoutLeftHeader\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\tcountRows = tableColumns;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\tconst sectionNumberLast = Math.floor((countRows - 1) / tableColumns);\n\t\t\t\t\t\t\t\t\t\t\t\tlet tdStyles;\n\t\t\t\t\t\t\t\t\t\t\t\tfor (let j = 0; j < countRows; j++) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst sectionNumber = Math.floor(j / tableColumns);\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst tr = document.createElement('tr');\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst tdLeftHeader = previewTable.rows[0].children[\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tj - sectionNumber * tableColumns\n\t\t\t\t\t\t\t\t\t\t\t\t\t].cloneNode(true);\n\t\t\t\t\t\t\t\t\t\t\t\t\tlet td;\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst rowFirstStyles = window.getComputedStyle(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tpreviewTable.rows[0]\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (!tdLeftHeader.style.backgroundColor) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttdLeftHeader.style.backgroundColor =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trowFirstStyles.backgroundColor;\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\ttdLeftHeader.style.width = null;\n\t\t\t\t\t\t\t\t\t\t\t\t\ttdLeftHeader.style.height = null;\n\t\t\t\t\t\t\t\t\t\t\t\t\ttdLeftHeader.removeAttribute('data-x-index');\n\t\t\t\t\t\t\t\t\t\t\t\t\ttdLeftHeader.removeAttribute('data-wptb-css-td-auto-width');\n\t\t\t\t\t\t\t\t\t\t\t\t\ttdStyles = window.getComputedStyle(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tpreviewTable.querySelector('td')\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (tdStyles.borderTopColor) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttdLeftHeader.style.borderColor = tdStyles.borderTopColor;\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttdLeftHeader.style.borderColor = tdStyles.borderBottomColor;\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (sectionNumber > 0 && j % tableColumns == 0) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttdLeftHeader.style.borderTopWidth = '5px';\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\ttr.appendChild(tdLeftHeader);\n\n\t\t\t\t\t\t\t\t\t\t\t\t\tfor (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlet k = newTableColumnsWithoutLeftHeader * sectionNumber + 1;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tk < newTableColumnsWithoutLeftHeader * (sectionNumber + 1) + 1;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tk++\n\t\t\t\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (k < previewTable.rows.length) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttd = previewTable.rows[k].children[\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tj - sectionNumber * tableColumns\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t].cloneNode(true);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst rowKStyles = window.getComputedStyle(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpreviewTable.rows[k]\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (!td.style.backgroundColor) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttd.style.backgroundColor = rowKStyles.backgroundColor;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttd.style.width = null;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttd.style.height = null;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttd.removeAttribute('data-x-index');\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttd.removeAttribute('data-wptb-css-td-auto-width');\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttd = document.createElement('td');\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttd.style.borderWidth = '0px';\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttd.style.background = '#fff';\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttdStyles = window.getComputedStyle(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpreviewTable.querySelector('td')\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (tdStyles.borderTopColor) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttd.style.borderColor = tdStyles.borderTopColor;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttd.style.borderColor = tdStyles.borderBottomColor;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (sectionNumber > 0 && j % tableColumns == 0) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttd.style.borderTopWidth = '5px';\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttr.appendChild(td);\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\tnewTable.appendChild(tr);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tlet newTableColumns;\n\t\t\t\t\t\t\t\t\t\t\tif (tableContainerWidth > 480) {\n\t\t\t\t\t\t\t\t\t\t\t\tfor (let i = 0; i < tableColumns; i++) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tnewTableColumns = wholeColumnsInContainer - i;\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (newTableColumns == 0) newTableColumns = 1;\n\t\t\t\t\t\t\t\t\t\t\t\t\tnewTableLastSectionFilledColumns = tableColumns % newTableColumns;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (newTableLastSectionFilledColumns == 0) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvaluesIsSaved = true;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else if (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnewTableColumns > 0 &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnewTableColumns <= 6 &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnewTableColumns - 2 * newTableLastSectionFilledColumns <= 0 &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnewTableLastSectionFilledColumns < newTableColumns\n\t\t\t\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvaluesIsSaved = true;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else if (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnewTableColumns > 6 &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnewTableColumns <= 12 &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnewTableColumns - 1.8 * newTableLastSectionFilledColumns <= 0 &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnewTableLastSectionFilledColumns < newTableColumns\n\t\t\t\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvaluesIsSaved = true;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else if (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnewTableColumns > 12 &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnewTableColumns <= 18 &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnewTableColumns - 1.6 * newTableLastSectionFilledColumns <= 0 &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnewTableLastSectionFilledColumns < newTableColumns\n\t\t\t\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvaluesIsSaved = true;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\tnewTableColumns = 1;\n\t\t\t\t\t\t\t\t\t\t\t\tnewTableLastSectionFilledColumns = 0;\n\t\t\t\t\t\t\t\t\t\t\t\tvaluesIsSaved = true;\n\t\t\t\t\t\t\t\t\t\t\t\tnewTable.column = 1;\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\tconst increaseRatioRows = Math.ceil(tableColumns / newTableColumns);\n\n\t\t\t\t\t\t\t\t\t\t\tconst newTableRows = increaseRatioRows * tableRows;\n\n\t\t\t\t\t\t\t\t\t\t\tif (valuesIsSaved) {\n\t\t\t\t\t\t\t\t\t\t\t\tfor (let i = 0; i < newTableRows; i++) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst sectionNumber = Math.floor(i / tableRows);\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst tr = document.createElement('tr');\n\t\t\t\t\t\t\t\t\t\t\t\t\tlet jMax;\n\t\t\t\t\t\t\t\t\t\t\t\t\tlet jStart;\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsectionNumber != increaseRatioRows - 1 ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnewTableLastSectionFilledColumns == 0\n\t\t\t\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tjStart = sectionNumber * newTableColumns;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tjMax = newTableColumns * (1 + sectionNumber);\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tjStart = tableColumns - newTableLastSectionFilledColumns;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tjMax = tableColumns;\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst row = previewTable.rows[i - sectionNumber * tableRows];\n\t\t\t\t\t\t\t\t\t\t\t\t\ttr.classList = row.classList;\n\t\t\t\t\t\t\t\t\t\t\t\t\ttr.style.backgroundColor = row.style.backgroundColor;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\tfor (let j = jStart; j < jMax; j++) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst newTd = row.children[j].cloneNode(true);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (!newTd.style.backgroundColor) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst rowStyles = window.getComputedStyle(row);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnewTd.style.backgroundColor = rowStyles.backgroundColor;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnewTd.style.width = null;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnewTd.style.height = null;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnewTd.removeAttribute('data-x-index');\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnewTd.removeAttribute('data-wptb-css-td-auto-width');\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttr.appendChild(newTd);\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\tnewTable.appendChild(tr);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tnewTable.dataset.wholeColumnsInContainer = wholeColumnsInContainer;\n\t\t\t\t\t\t\t\t\t\tconst images = newTable.querySelectorAll('[srcset]');\n\t\t\t\t\t\t\t\t\t\tif (images.length > 0) {\n\t\t\t\t\t\t\t\t\t\t\tfor (let i = 0; i < images.length; i++) {\n\t\t\t\t\t\t\t\t\t\t\t\timages[i].removeAttribute('srcset');\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\ttableContainer.appendChild(newTable);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif (tableContainerMatrix) tableContainerMatrix.classList.remove('wptb-matrix-hide');\n\t\t\t\t\t\t\t\tif (tableContainer.getElementsByClassName('wptb-preview-table-mobile').length > 0) {\n\t\t\t\t\t\t\t\t\ttableContainer\n\t\t\t\t\t\t\t\t\t\t.getElementsByClassName('wptb-preview-table-mobile')[0]\n\t\t\t\t\t\t\t\t\t\t.classList.add('wptb-mobile-hide');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\ttableContainer.style.overflow = 'auto';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tpreviewTable.style.minWidth = 'auto';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction wptb_tdDefaultWidth() {\n\t\t\tconst wptbTableContainers = document.getElementsByClassName('wptb-table-container');\n\t\t\t// let frontendEditLink = document.querySelectorAll( '.wptb-frontend-table-edit-link' );\n\t\t\tfor (let i = 0; i < wptbTableContainers.length; i++) {\n\t\t\t\tconst wptbTableContainer = wptbTableContainers[i];\n\n\t\t\t\twptbTableContainer.classList.add(`wptb-table-container-${i}`);\n\n\t\t\t\tlet table = wptbTableContainer.getElementsByClassName('wptb-preview-table');\n\t\t\t\tif (table.length > 0) {\n\t\t\t\t\ttable = table[0];\n\n\t\t\t\t\tif (table.dataset.wptbTableContainerMaxWidth) {\n\t\t\t\t\t\twptbTableContainer.style.maxWidth = `${table.dataset.wptbTableContainerMaxWidth}px`;\n\t\t\t\t\t}\n\t\t\t\t\ttable.classList.remove('wptb-table-preview-static-indic');\n\n\t\t\t\t\ttable.merging–°ellsHorizontally = false;\n\t\t\t\t\tconst tds = table.querySelectorAll('td');\n\t\t\t\t\tfor (let j = 0; j < tds.length; j++) {\n\t\t\t\t\t\tif (tds[j].colSpan > 1) {\n\t\t\t\t\t\t\ttable.merging–°ellsHorizontally = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tconst wptbTableContainerWidth = wptbTableContainer.offsetWidth;\n\n\t\t\t\t\tconst td = table.querySelector('td');\n\t\t\t\t\tconst tdStyleObj = window.getComputedStyle(td, null);\n\t\t\t\t\tconst tdBorderLeftWidth = tdStyleObj.getPropertyValue('border-left-width');\n\t\t\t\t\tconst tdBorderRightWidth = tdStyleObj.getPropertyValue('border-right-width');\n\t\t\t\t\tconst tdPaddingLeftWidth = tdStyleObj.getPropertyValue('padding-left');\n\t\t\t\t\tconst tdPaddingRightWidth = tdStyleObj.getPropertyValue('padding-left');\n\t\t\t\t\tconst tdPaddingCommon = parseFloat(tdPaddingLeftWidth, 10) + parseFloat(tdPaddingRightWidth, 10);\n\t\t\t\t\tconst tableTdBorderCommonWidth =\n\t\t\t\t\t\tparseFloat(tdBorderLeftWidth, 10) + parseFloat(tdBorderRightWidth, 10);\n\t\t\t\t\tconst { wptbTableTdsSumMaxWidth } = table.dataset;\n\t\t\t\t\tconst { wptbFixedWidthSize } = table.dataset;\n\t\t\t\t\tconst { wptbCellsWidthAutoCount } = table.dataset;\n\t\t\t\t\tlet styleElementCreate = false;\n\t\t\t\t\tlet tableTdWidthAuto;\n\t\t\t\t\tif (wptbTableTdsSumMaxWidth < wptbTableContainerWidth) {\n\t\t\t\t\t\tif (wptbCellsWidthAutoCount) {\n\t\t\t\t\t\t\ttable.style.minWidth = '100%';\n\n\t\t\t\t\t\t\t//                        if( frontendEditLink && frontendEditLink[i] ) {\n\t\t\t\t\t\t\t//                            frontendEditLink[i].style.minWidth = wptbTableTdsSumMaxWidth + 'px';\n\t\t\t\t\t\t\t//                        }\n\n\t\t\t\t\t\t\tif (table.merging–°ellsHorizontally) {\n\t\t\t\t\t\t\t\ttable.style.width = 'auto';\n\t\t\t\t\t\t\t\tconst tableTdsWidthAutoCommon = wptbTableContainerWidth - wptbFixedWidthSize;\n\t\t\t\t\t\t\t\ttableTdWidthAuto = tableTdsWidthAutoCommon / wptbCellsWidthAutoCount;\n\t\t\t\t\t\t\t\ttableTdWidthAuto = tableTdWidthAuto - tdPaddingCommon - tableTdBorderCommonWidth;\n\t\t\t\t\t\t\t\tstyleElementCreate = true;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\ttable.style.width = '100%';\n\n\t\t\t\t\t\t\t\t//                            if( frontendEditLink && frontendEditLink[i] ) {\n\t\t\t\t\t\t\t\t//                                frontendEditLink[i].style.width = '100%';\n\t\t\t\t\t\t\t\t//                                frontendEditLink[i].style.maxWidth = '100%';\n\t\t\t\t\t\t\t\t//                            }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttable.style.width = 'auto';\n\t\t\t\t\t\t\ttable.style.minWidth = null;\n\t\t\t\t\t\t\ttable.style.maxWidth = `${wptbTableTdsSumMaxWidth}px`;\n\n\t\t\t\t\t\t\t//                        if( frontendEditLink && frontendEditLink[i] ) {\n\t\t\t\t\t\t\t//                            frontendEditLink[i].style.width = null;\n\t\t\t\t\t\t\t//                            frontendEditLink[i].style.minWidth = null;\n\t\t\t\t\t\t\t//                            frontendEditLink[i].style.maxWidth = wptbTableTdsSumMaxWidth + 'px';\n\t\t\t\t\t\t\t//                        }\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttable.style.maxWidth = null;\n\t\t\t\t\t\ttable.style.minWidth = `${table.dataset.wptbTableTdsSumMaxWidth}px`;\n\t\t\t\t\t\ttable.style.width = 'auto';\n\t\t\t\t\t\ttableTdWidthAuto = table.dataset.wptbTdWidthAuto ? table.dataset.wptbTdWidthAuto : '100';\n\t\t\t\t\t\tstyleElementCreate = true;\n\n\t\t\t\t\t\t//                    if( frontendEditLink && frontendEditLink[i] ) {\n\t\t\t\t\t\t//                        frontendEditLink[i].style.maxWidth = '100%';\n\t\t\t\t\t\t//                        frontendEditLink[i].style.minWidth = table.dataset.wptbTableTdsSumMaxWidth + 'px';\n\t\t\t\t\t\t//                        frontendEditLink[i].style.width = null;\n\t\t\t\t\t\t//                    }\n\t\t\t\t\t}\n\n\t\t\t\t\tconst { head } = document;\n\t\t\t\t\tif (head) {\n\t\t\t\t\t\tconst cssForTdsWidthAutoOld = head.querySelector(`style[data-wptb-td-auto-width-${i}=\"true\"]`);\n\n\t\t\t\t\t\tif (cssForTdsWidthAutoOld) {\n\t\t\t\t\t\t\thead.removeChild(cssForTdsWidthAutoOld);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (styleElementCreate) {\n\t\t\t\t\t\tconst cssForTdsWidthAuto = document.createElement('style');\n\t\t\t\t\t\tcssForTdsWidthAuto.setAttribute(`data-wptb-td-auto-width-${i}`, true);\n\t\t\t\t\t\tcssForTdsWidthAuto.innerHTML = `.wptb-table-container-${i} table td[data-wptb-css-td-auto-width=true]{width:${tableTdWidthAuto}px}`;\n\t\t\t\t\t\tif (head) {\n\t\t\t\t\t\t\thead.appendChild(cssForTdsWidthAuto);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// code for adding of old css styles for correct view\n\t\tconst elements = document.getElementsByClassName('wptb-ph-element');\n\t\tfor (let i = 0; i < elements.length; i++) {\n\t\t\tconst element = elements[i];\n\t\t\tif (element.classList.contains('wptb-list-item-container')) {\n\t\t\t\telement.classList.remove('wptb-list-item-container');\n\t\t\t\telement.classList.add('wptb-list-container');\n\t\t\t}\n\n\t\t\tif (element.classList.contains('wptb-button-container')) {\n\t\t\t\tconst infArr = element.className.match(/wptb-size-([A-Z]+)/i);\n\t\t\t\tif (infArr && Array.isArray(infArr)) {\n\t\t\t\t\tconst wptbSize = infArr[0];\n\t\t\t\t\tconst wptbSizeNew = wptbSize.toLowerCase();\n\n\t\t\t\t\telement.classList.remove(wptbSize);\n\n\t\t\t\t\tconst wptbButtonWrapper = element.querySelector('.wptb-button-wrapper');\n\t\t\t\t\tif (wptbButtonWrapper) {\n\t\t\t\t\t\twptbButtonWrapper.classList.add(wptbSizeNew);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// responsive setup\n\t\t// eslint-disable-next-line no-unused-vars\n\t\tconst responsiveFront = new WPTB_ResponsiveFrontend({\n\t\t\tquery: '.wptb-preview-table',\n\t\t\tbindToResize: true,\n\t\t});\n\n\t\tresponsiveFront.rebuildTables();\n\n\t\t//sorting table\n\t\tif(tableContainers.length) {\n\t\t\tfor (let i = 0; i < tableContainers.length; i++) {\n\t\t\t\tlet table = tableContainers[i].querySelector('.wptb-preview-table');\n\t\t\t\tif(table) {\n\t\t\t\t\tlet sortableTable = new WPTB_SortableTable(table);\n\t\t\t\t\tsortableTable.sortableTableInitialization();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n})(jQuery);\n"]}