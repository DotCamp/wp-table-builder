{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./inc/admin/js/core/WPTB_ExtraStyles.js","webpack:///./inc/admin/js/core/gutenberg-src/components/BlockButton.js","webpack:///./inc/admin/js/core/gutenberg-src/components/Builder.js","webpack:///./inc/admin/js/core/gutenberg-src/components/BusyOverlay.js","webpack:///./inc/admin/js/core/gutenberg-src/components/PortalTarget.js","webpack:///./inc/admin/js/core/gutenberg-src/components/SelectedTableView.js","webpack:///./inc/admin/js/core/gutenberg-src/components/TableBlock.js","webpack:///./inc/admin/js/core/gutenberg-src/components/TableBlockInfoItem.js","webpack:///./inc/admin/js/core/gutenberg-src/components/TableInspectorControls.js","webpack:///./inc/admin/js/core/gutenberg-src/components/TableList.js","webpack:///./inc/admin/js/core/gutenberg-src/components/TablePreview.js","webpack:///./inc/admin/js/core/gutenberg-src/components/TableSearch.js","webpack:///./inc/admin/js/core/gutenberg-src/components/TableSelect.js","webpack:///./inc/admin/js/core/gutenberg-src/components/WptbOverlay.js","webpack:///./inc/admin/js/core/gutenberg-src/containers/TableBlockApp.js","webpack:///./inc/admin/js/core/gutenberg-src/functions/withContext.js","webpack:///./inc/admin/js/core/gutenberg-src/style/block-style.sass","webpack:///./inc/admin/js/core/gutenberg-src/wptb-block.js","webpack:///./node_modules/@babel/runtime/helpers/arrayLikeToArray.js","webpack:///./node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack:///./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/createClass.js","webpack:///./node_modules/@babel/runtime/helpers/defineProperty.js","webpack:///./node_modules/@babel/runtime/helpers/extends.js","webpack:///./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/inherits.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack:///./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack:///./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/slicedToArray.js","webpack:///./node_modules/@babel/runtime/helpers/typeof.js","webpack:///./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","webpack:///(webpack)/buildin/global.js","webpack:///(webpack)/buildin/harmony-module.js","webpack:///external [\"wp\",\"apiFetch\"]","webpack:///external [\"wp\",\"blockEditor\"]","webpack:///external [\"wp\",\"blocks\"]","webpack:///external [\"wp\",\"components\"]","webpack:///external [\"wp\",\"data\"]","webpack:///external [\"wp\",\"i18n\"]","webpack:///external \"React\"","webpack:///external \"ReactDOM\""],"names":["UMD","key","context","factory","exports","module","self","global","WPTB_ExtraStyles","modes","builder","frontEnd","block","baseDocument","document","currentMode","generalStyles","tableQueries","formatStyles","styles","cleaned","replaceAll","prefixStyleRules","prefix","extraStyles","formattedStyles","splitStyles","split","prefixedStylesArray","map","regExp","RegExp","matches","exec","push","replace","join","applyGeneralStyles","baseElement","generalStylesheet","createElement","type","id","head","querySelector","appendChild","insertAdjacentElement","prefixedStyleRules","parentPrefix","createTextNode","applyExtraStyle","tableElement","extraStylesRaw","dataset","wptbExtraStyles","styleIdPrefix","atob","getAttribute","match","tableId","styleId","styleElement","isThemeStylesDisabled","disableThemeStyles","uniqueClass","prefixedStyles","innerHTML","applyStyles","mode","allTables","Array","from","querySelectorAll","BlockButton","onClick","children","disabled","Builder","builderUrl","show","builderVisibility","updateSelection","useState","gutenbergUrl","setUrl","frameLoaded","setFrameLoaded","ref","useRef","prepareUrl","val","parsedUrl","URL","searchParams","append","toString","useEffect","togglePreferenceValue","select","getPreference","fullscreenMode","dispatch","toggleFeature","current","addEventListener","refDocument","contentDocument","contentWindow","detail","display","BusyOverlay","PortalTarget","targetEl","setAttribute","createPortal","SelectedTableView","selectedTable","footerRightPortal","changeToSelect","content","ReactDOM","__","TableBlock","props","state","selectedId","Number","parseInt","attributes","savedId","searchTerm","fullPreview","showBuilder","selectScreen","expanded","toggleBlock","bind","slideMain","rowSelected","updateSearch","filteredTables","saveTable","setSelectScreen","openNewTableBuilder","openTableEditBuilder","setBuilderVisibility","mainRef","React","createRef","portalTargetEditor","body","setState","getTables","then","e","preventDefault","direction","jQuery","tables","filter","t","regexp","test","title","_","prevState","setAttributes","setSavedTable","blockData","url","savedTable","isFetching","length","Component","withContext","TableBlockInfoItem","label","value","TableBlockInspector","header","table","_x","wptb_table_tags","name","Intl","DateTimeFormat","format","Date","modified","TableList","activeId","indicateFoundTerm","parsedVal","isActive","__html","TablePreview","scale","tableCssUrl","previewPadding","prepareStylesheet","handler","root","styleSheet","prepareScript","script","undefined","elem","attachShadow","shadowRoot","Object","keys","prototype","hasOwnProperty","call","range","createRange","setStart","contentElement","createContextualFragment","window","previewWrapper","previewTable","maxWidth","wptbTableContainerMaxWidth","sumMaxWidth","tableWidth","style","minWidth","Math","max","width","getBoundingClientRect","wrapperWidth","wrapperHeight","height","previewWidth","previewHeight","widthScale","heightScale","scaleVal","min","transform","navigator","vendor","includes","borderCollapse","borderHorizontalSpacing","borderSpacingColumns","cellCount","wptbCellsWidthAutoCount","marginLeft","TableSearch","target","TableSelect","WptbOverlay","TableBlockApp","fetching","setFetch","status","apiFetch","path","meta","_wptb_prebuilt_","prebuiltStatus","_wptb_content_","rendered","TableContext","createContext","WithTableContextComponent","wptbBlockData","registerBlockType","blockName","description","category","icon","transforms","tag","shortcode","named","priority","edit","save"],"mappings":"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","file":"wptb-block.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./inc/admin/js/core/gutenberg-src/wptb-block.js\");\n","/**\n * Extra styles module to add custom css rules defined for individual tables.\n */\n(function UMD(key, context, factory) {\n\tif (typeof module !== 'undefined' && typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t} else {\n\t\t// eslint-disable-next-line no-param-reassign\n\t\tcontext[key] = factory();\n\t}\n\t// eslint-disable-next-line no-restricted-globals\n})('WPTB_ExtraStyles', self || global, () => {\n\t/**\n\t * Extra styles frontend manager.\n\t *\n\t * This component will be responsible for adding and maintaining extra styles defined for tables.\n\t *\n\t * @class\n\t */\n\t// eslint-disable-next-line camelcase\n\tfunction WPTB_ExtraStyles() {\n\t\t/**\n\t\t * Extra styles operation modes\n\t\t *\n\t\t * @type {Object}\n\t\t */\n\t\tthis.modes = {\n\t\t\tbuilder: 'builder',\n\t\t\tfrontEnd: 'frontEnd',\n\t\t\tblock: 'block',\n\t\t};\n\n\t\t/**\n\t\t * Base document for DOM operations.\n\t\t *\n\t\t * @type {Document}\n\t\t */\n\t\tthis.baseDocument = document;\n\n\t\t/**\n\t\t * Current mode extra styles are operating on.\n\t\t *\n\t\t * @type {string}\n\t\t */\n\t\tthis.currentMode = this.modes.builder;\n\n\t\t/**\n\t\t * General table styles.\n\t\t *\n\t\t * @type {string}\n\t\t */\n\t\tthis.generalStyles = '';\n\n\t\t/**\n\t\t * HTML queries for table element in different plugin modes\n\t\t *\n\t\t * @type {Object}\n\t\t */\n\t\tconst tableQueries = {\n\t\t\t[this.modes.builder]: '.wptb-table-setup .wptb-preview-table',\n\t\t\t[this.modes.block]: '.wptb-block-table-setup .wptb-preview-table',\n\t\t\t[this.modes.frontEnd]: '.wptb-table-container .wptb-preview-table',\n\t\t};\n\n\t\t/**\n\t\t * Format styles.\n\t\t *\n\t\t * @param {string} styles styles\n\t\t * @return {string} formatted styles\n\t\t */\n\t\tconst formatStyles = (styles) => {\n\t\t\t// remove all newlines, comments and '!important' from style string to make it a one liner\n\t\t\tconst cleaned = styles.replaceAll(/(\\r?\\n)|(\\/\\*.+?\\*\\/)|(\\s*!important)/g, '');\n\n\t\t\t// add '!important' to all rules to override default style rules\n\t\t\treturn cleaned.replaceAll(';', ' !important;');\n\t\t};\n\n\t\t/**\n\t\t * Reform style rules so they will only affect given table id.\n\t\t *\n\t\t * @param {number} prefix prefix string that will be added to all rules\n\t\t * @param {string} extraStyles extra styles\n\t\t * @return {string} new style properties prefixed with table id class\n\t\t */\n\t\tconst prefixStyleRules = (prefix, extraStyles) => {\n\t\t\t// reformat styles into a suitable form for our regexp operations\n\t\t\tconst formattedStyles = formatStyles(extraStyles);\n\n\t\t\tconst splitStyles = formattedStyles.split('}');\n\t\t\tconst prefixedStylesArray = [];\n\n\t\t\t// eslint-disable-next-line array-callback-return\n\t\t\tsplitStyles.map((split) => {\n\t\t\t\tconst regExp = new RegExp(/(.+?)\\{/g);\n\t\t\t\tconst matches = regExp.exec(split);\n\n\t\t\t\tif (matches) {\n\t\t\t\t\tprefixedStylesArray.push(split.replace(matches[1], `${prefix} ${matches[1]}`));\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn `${prefixedStylesArray.join('}')}}`;\n\t\t};\n\n\t\t/**\n\t\t * Apply general styles to document.\n\t\t *\n\t\t * @param {string} generalStyles general style rules\n\t\t * @param {Node} baseElement element to use as base\n\t\t */\n\t\tconst applyGeneralStyles = (generalStyles, baseElement = null) => {\n\t\t\tconst generalStylesheet = document.createElement('style');\n\t\t\tgeneralStylesheet.type = 'text/css';\n\t\t\tgeneralStylesheet.id = 'wptb-general-styles';\n\n\t\t\tif (!baseElement) {\n\t\t\t\tconst head =\n\t\t\t\t\tthis.currentMode === this.modes.block ? this.baseDocument : this.baseDocument.querySelector('head');\n\n\t\t\t\thead.appendChild(generalStylesheet);\n\t\t\t} else {\n\t\t\t\tbaseElement.insertAdjacentElement('beforebegin', generalStylesheet);\n\t\t\t}\n\t\t\tconst prefixedStyleRules = prefixStyleRules(generalStyles.parentPrefix, generalStyles.styles);\n\t\t\tgeneralStylesheet.appendChild(document.createTextNode(prefixedStyleRules));\n\t\t};\n\n\t\t/**\n\t\t * Apply defined extra styles for given table element.\n\t\t *\n\t\t * @param {Element} tableElement table element\n\t\t */\n\t\tconst applyExtraStyle = (tableElement) => {\n\t\t\tconst extraStylesRaw = tableElement.dataset.wptbExtraStyles;\n\t\t\tconst styleIdPrefix = 'wptb-extra-styles-';\n\n\t\t\tif (extraStylesRaw) {\n\t\t\t\tconst extraStyles = atob(extraStylesRaw);\n\n\t\t\t\tconst [, tableId] = tableElement\n\t\t\t\t\t.getAttribute('class')\n\t\t\t\t\t.match(/wptb-element-main-table_setting-(?:startedid-)?(\\d+)/);\n\n\t\t\t\tconst styleId = styleIdPrefix + tableId;\n\n\t\t\t\tconst head = this.baseDocument.querySelector('head');\n\n\t\t\t\t// since stylesheets are created for frontend only once at startup, checking document head for any created style object will work even with theme disabled tables which at builder, they are not inside a shadow-root\n\t\t\t\tlet styleElement = head?.querySelector(`#${styleId}`);\n\n\t\t\t\t// if no style element is found, create one\n\t\t\t\tif (!styleElement) {\n\t\t\t\t\tstyleElement = document.createElement('style');\n\t\t\t\t\tstyleElement.type = 'text/css';\n\t\t\t\t\tstyleElement.id = styleId;\n\n\t\t\t\t\tconst isThemeStylesDisabled = tableElement.dataset.disableThemeStyles;\n\n\t\t\t\t\t// if theme styles are disabled, it means our table is residing inside a shadow-root, place style element inside shadow-root instead of document head\n\t\t\t\t\tif (\n\t\t\t\t\t\t(isThemeStylesDisabled && this.currentMode === this.modes.frontEnd) ||\n\t\t\t\t\t\tthis.currentMode === this.modes.block\n\t\t\t\t\t) {\n\t\t\t\t\t\ttableElement.insertAdjacentElement('beforebegin', styleElement);\n\t\t\t\t\t\tif (this.currentMode === this.modes.frontEnd && this.generalStyles) {\n\t\t\t\t\t\t\tapplyGeneralStyles(this.generalStyles, tableElement);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\thead.appendChild(styleElement);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tconst uniqueClass = `.wptb-element-main-table_setting-${tableId}`;\n\t\t\t\t// reform style rules so they will only affect the table they are assigned to\n\t\t\t\tconst prefixedStyles = prefixStyleRules(uniqueClass, extraStyles);\n\n\t\t\t\t// remove previous styles with updated ones\n\t\t\t\tstyleElement.innerHTML = '';\n\t\t\t\tstyleElement.appendChild(document.createTextNode(prefixedStyles));\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t * Apply extra styles to all available tables on DOM.\n\t\t *\n\t\t * @param {string} mode operation mode to apply styles\n\t\t * @param {string} generalStyles general style rules\n\t\t * @param {Object} baseDocument base document for DOM operations\n\t\t */\n\t\tthis.applyStyles = (mode = this.modes.frontEnd, generalStyles = null, baseDocument = document) => {\n\t\t\tthis.baseDocument = baseDocument;\n\t\t\tthis.currentMode = mode;\n\t\t\tthis.generalStyles = generalStyles;\n\n\t\t\tconst allTables = Array.from(this.baseDocument.querySelectorAll(tableQueries[mode]));\n\n\t\t\tif (allTables) {\n\t\t\t\tallTables.map(applyExtraStyle);\n\t\t\t}\n\n\t\t\t// only apply general styles on client frontend if any general styles are defined\n\t\t\tif ((mode === this.modes.frontEnd || mode === this.modes.block) && generalStyles) {\n\t\t\t\tapplyGeneralStyles(generalStyles);\n\t\t\t}\n\t\t};\n\t}\n\n\t// send a singleton instance of manager\n\treturn new WPTB_ExtraStyles();\n});\n","import React from 'react';\n\nexport default function BlockButton({ type, onClick, children, disabled }) {\n\treturn (\n\t\t<div\n\t\t\tonClick={onClick}\n\t\t\tclassName={`wptb-block-button wptb-unselectable ${type || 'primary'} ${\n\t\t\t\tdisabled ? 'wptb-block-button-disabled' : ''\n\t\t\t}`}\n\t\t>\n\t\t\t{children}\n\t\t</div>\n\t);\n}\n","import React, { Fragment, useState, useEffect, useRef } from 'react';\nimport { select, dispatch } from '@wordpress/data';\nimport BusyOverlay from './BusyOverlay';\n\nexport default function Builder({ builderUrl, show, builderVisibility, updateSelection }) {\n\tconst [gutenbergUrl, setUrl] = useState(builderUrl);\n\tconst [frameLoaded, setFrameLoaded] = useState(false);\n\tconst ref = useRef(null);\n\n\tfunction prepareUrl(val) {\n\t\tif (val) {\n\t\t\tconst parsedUrl = new URL(val);\n\t\t\tparsedUrl.searchParams.append('gutenberg', true);\n\t\t\tsetUrl(parsedUrl.toString());\n\t\t}\n\t}\n\n\tuseEffect(() => {\n\t\tprepareUrl(builderUrl);\n\n\t\tif (show) {\n\t\t\tconst togglePreferenceValue = select('core/edit-post').getPreference('features').fullscreenMode;\n\t\t\tif (!togglePreferenceValue) {\n\t\t\t\tdispatch('core/edit-post').toggleFeature('fullscreenMode');\n\t\t\t}\n\t\t\tsetFrameLoaded(false);\n\t\t\tref.current.addEventListener('load', () => {\n\t\t\t\tsetFrameLoaded(true);\n\t\t\t\tconst refDocument = ref.current.contentDocument || ref.current.contentWindow.document;\n\t\t\t\trefDocument.addEventListener('gutenbergClose', ({ detail }) => {\n\t\t\t\t\tif (detail !== true) {\n\t\t\t\t\t\tif (updateSelection && typeof updateSelection === 'function') {\n\t\t\t\t\t\t\tupdateSelection(detail);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbuilderVisibility(false);\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t});\n\n\treturn (\n\t\t<div className={`wptb-block-builder-wrapper ${show ? '' : 'hide'}`}>\n\t\t\t{show ? (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<div\n\t\t\t\t\t\tstyle={{ display: frameLoaded ? 'none' : 'flex' }}\n\t\t\t\t\t\tclassName={'wptb-block-builder-load-indicator'}\n\t\t\t\t\t>\n\t\t\t\t\t\t<BusyOverlay show={true} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<iframe ref={ref} className={'wptb-block-builder'} src={gutenbergUrl} />\n\t\t\t\t</Fragment>\n\t\t\t) : (\n\t\t\t\t''\n\t\t\t)}\n\t\t</div>\n\t);\n}\n","import React from 'react';\nimport WptbOverlay from './WptbOverlay';\n\nexport default function BusyOverlay({ show }) {\n\treturn (\n\t\t<WptbOverlay show={show}>\n\t\t\t<div className={'wptb-busy-overlay dashicons dashicons-update-alt'} />\n\t\t</WptbOverlay>\n\t);\n}\n","import { createPortal } from 'react-dom';\n\nexport default function PortalTarget({ targetEl, children, id }) {\n\ttargetEl.setAttribute('id', id);\n\treturn createPortal(children, targetEl);\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { __ } from '@wordpress/i18n';\nimport TablePreview from './TablePreview';\nimport BlockButton from './BlockButton';\n\nexport default function SelectedTableView({ selectedTable, footerRightPortal, changeToSelect }) {\n\treturn (\n\t\t<div className={'wptb-table-selected-view wptb-basic-appear-anim'}>\n\t\t\t<TablePreview scale={true} content={selectedTable ? selectedTable.content : null} />\n\t\t\t{footerRightPortal !== null\n\t\t\t\t? ReactDOM.createPortal(\n\t\t\t\t\t\t<BlockButton onClick={changeToSelect}>{__('change', 'wp-table-builder')}</BlockButton>,\n\t\t\t\t\t\tfooterRightPortal.current\n\t\t\t\t  )\n\t\t\t\t: ''}\n\t\t</div>\n\t);\n}\n","import React, { Fragment } from 'react';\nimport { __ } from '@wordpress/i18n';\nimport TableSelect from './TableSelect';\nimport SelectedTableView from './SelectedTableView';\nimport TablePreview from './TablePreview';\nimport Builder from './Builder';\nimport { withContext } from '../functions/withContext';\nimport BusyOverlay from './BusyOverlay';\nimport TableBlockInspector from './TableInspectorControls';\nimport PortalTarget from './PortalTarget';\n\n/**\n * TableBlock component.\n *\n * This component handle UI part of the gutenberg block.\n */\nclass TableBlock extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tselectedId: Number.parseInt(this.props.attributes.id, 10),\n\t\t\tsavedId: Number.parseInt(this.props.attributes.id, 10),\n\t\t\tsearchTerm: '',\n\t\t\tfooterRightPortal: null,\n\t\t\tfullPreview: false,\n\t\t\tshowBuilder: false,\n\t\t\tbuilderUrl: props.builderUrl,\n\t\t};\n\n\t\tthis.state.selectScreen = this.state.savedId === -1;\n\t\tthis.state.expanded = this.state.savedId === -1;\n\n\t\tthis.toggleBlock = this.toggleBlock.bind(this);\n\t\tthis.slideMain = this.slideMain.bind(this);\n\t\tthis.rowSelected = this.rowSelected.bind(this);\n\t\tthis.selectedTable = this.selectedTable.bind(this);\n\t\tthis.updateSearch = this.updateSearch.bind(this);\n\t\tthis.filteredTables = this.filteredTables.bind(this);\n\t\tthis.saveTable = this.saveTable.bind(this);\n\t\tthis.changeToSelect = this.changeToSelect.bind(this);\n\t\tthis.setSelectScreen = this.setSelectScreen.bind(this);\n\t\tthis.openNewTableBuilder = this.openNewTableBuilder.bind(this);\n\t\tthis.openTableEditBuilder = this.openTableEditBuilder.bind(this);\n\t\tthis.setBuilderVisibility = this.setBuilderVisibility.bind(this);\n\t\tthis.updateSelection = this.updateSelection.bind(this);\n\n\t\tthis.mainRef = React.createRef();\n\t\tthis.footerRightPortal = React.createRef();\n\n\t\tthis.portalTargetEditor = document.body.appendChild(document.createElement('div'));\n\t}\n\n\t/**\n\t * Component mounted lifecycle hook.\n\t */\n\tcomponentDidMount() {\n\t\tthis.slideMain();\n\t\tthis.setState({ footerRightPortal: this.footerRightPortal });\n\n\t\t// decide whether to show full table preview or not\n\t\tthis.setState({ fullPreview: this.state.savedId > 0 });\n\t}\n\n\t// Update selection depending on builder sent id.\n\tupdateSelection(id) {\n\t\treturn this.props.getTables().then(() => {\n\t\t\tthis.setState({ selectedId: Number.parseInt(id, 10) });\n\t\t\tthis.saveTable();\n\t\t});\n\t}\n\n\t/**\n\t * Toggle visibility status of block main area.\n\t *\n\t * @param {Event} e html event\n\t */\n\ttoggleBlock(e) {\n\t\te.preventDefault();\n\t\tthis.setState((state) => {\n\t\t\treturn { expanded: !state.expanded };\n\t\t});\n\t}\n\n\t/**\n\t * Slide up/down main area of toggle depending on block toggle status.\n\t */\n\tslideMain() {\n\t\tconst direction = this.state.expanded ? 'slideDown' : 'slideUp';\n\t\tjQuery(this.mainRef.current)[direction]();\n\t}\n\n\t/**\n\t * Filter tables according to search term.\n\t *\n\t * @return {Array} filtered tables\n\t */\n\tfilteredTables() {\n\t\tif (this.state.searchTerm === '') {\n\t\t\treturn this.props.tables;\n\t\t}\n\n\t\treturn this.props.tables.filter((t) => {\n\t\t\tconst regexp = new RegExp(`(${this.state.searchTerm})`, 'gi');\n\n\t\t\treturn regexp.test(t.title) || regexp.test(`${t.id}`);\n\t\t});\n\t}\n\n\t/**\n\t * Component updated lifecycle hook.\n\t *\n\t * @param {Object} _ previous props\n\t * @param {Object} prevState previous state\n\t */\n\tcomponentDidUpdate(_, prevState) {\n\t\tthis.slideMain();\n\t\tthis.props.setAttributes({ id: this.state.savedId });\n\n\t\t// enable full preview if saved table is changed\n\t\tif (prevState.savedId !== this.state.savedId) {\n\t\t\tthis.setState({ fullPreview: true });\n\t\t}\n\t}\n\n\t/**\n\t * Row selected callback function.\n\t *\n\t * @param {number} id selected table id\n\t * @return {function(*): void} click callback function\n\t */\n\trowSelected(id) {\n\t\treturn (e) => {\n\t\t\te.preventDefault();\n\t\t\tthis.setState({ selectedId: id });\n\t\t};\n\t}\n\n\t/**\n\t * Get selected table.\n\t *\n\t * @return {Object} selected table object\n\t */\n\tselectedTable() {\n\t\treturn this.props.tables.filter((t) => {\n\t\t\treturn this.state.selectedId === t.id;\n\t\t})[0];\n\t}\n\n\t/**\n\t * Get saved table for the block.\n\t *\n\t * @return {Object|undefined} saved table\n\t */\n\tsavedTable() {\n\t\treturn this.props.tables.filter((t) => {\n\t\t\treturn this.state.savedId === t.id;\n\t\t})[0];\n\t}\n\n\t/**\n\t * Set selected table as saved table to bind to block and its shortcode.\n\t */\n\tsaveTable() {\n\t\tthis.props.setSavedTable(this.state.selectedId);\n\t\tthis.setState({ savedId: this.state.selectedId, selectScreen: false });\n\t}\n\n\t/**\n\t * Update search term.\n\t *\n\t * @param {Event} e element event\n\t */\n\tupdateSearch(e) {\n\t\tthis.setState({ searchTerm: e });\n\t}\n\n\t/**\n\t * Change current screen to table select.\n\t */\n\tchangeToSelect() {\n\t\tthis.setState({ selectScreen: true });\n\t}\n\n\t/**\n\t * Change visibility of select screen.\n\t *\n\t * @param {boolean} val status\n\t */\n\tsetSelectScreen(val) {\n\t\tthis.setState({ selectScreen: val });\n\t}\n\n\t/**\n\t * Set visibility of builder page.\n\t *\n\t * @param {boolean} val show/hide\n\t */\n\tsetBuilderVisibility(val) {\n\t\tthis.setState({ showBuilder: val });\n\t}\n\n\t/**\n\t * Open builder page for new table.\n\t */\n\topenNewTableBuilder() {\n\t\tthis.setState({ builderUrl: this.props.blockData.builderUrl, showBuilder: true });\n\t}\n\n\t/**\n\t * Open builder page for table edit.\n\t */\n\topenTableEditBuilder() {\n\t\tif (this.state.savedId > 0) {\n\t\t\tconst url = new URL(this.props.blockData.builderUrl);\n\t\t\turl.searchParams.append('table', this.state.selectScreen ? this.state.selectedId : this.state.savedId);\n\n\t\t\tthis.setState({ builderUrl: url.toString(), showBuilder: true });\n\t\t}\n\t}\n\n\t/**\n\t * Render component to DOM.\n\t *\n\t * @return {JSX.Element} rendered component\n\t */\n\trender() {\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<TableBlockInspector\n\t\t\t\t\theader={__('Info', 'wp-table-builder')}\n\t\t\t\t\ttable={this.state.selectScreen ? this.selectedTable() : this.props.savedTable}\n\t\t\t\t/>\n\t\t\t\t<div\n\t\t\t\t\tstyle={{ display: this.state.fullPreview ? 'none' : 'grid' }}\n\t\t\t\t\tclassName={'wptb-block-wrapper wptb-basic-appear-anim'}\n\t\t\t\t>\n\t\t\t\t\t<BusyOverlay show={this.props.isFetching()} />\n\t\t\t\t\t<div className={'wptb-block-header'}>\n\t\t\t\t\t\t<div className={'wptb-plugin-left-toolbox'}>\n\t\t\t\t\t\t\t<div className={'wptb-plugin-brand'}>WP Table Builder</div>\n\t\t\t\t\t\t\t<div className={'wptb-plugin-selected-header-info'}>\n\t\t\t\t\t\t\t\t{this.props.savedTable\n\t\t\t\t\t\t\t\t\t? this.props.savedTable.title\n\t\t\t\t\t\t\t\t\t: __('No table selected', 'wp-table-builder')}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={'wptb-header-toolbox'}>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName={'wptb-block-tool dashicons dashicons-insert'}\n\t\t\t\t\t\t\t\ttitle={__('new table', 'wp-table-builder')}\n\t\t\t\t\t\t\t\tonClick={this.openNewTableBuilder}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{this.filteredTables().length > 0 ? (\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName={'wptb-block-tool dashicons dashicons-edit-large'}\n\t\t\t\t\t\t\t\t\ttitle={__('edit table', 'wp-table-builder')}\n\t\t\t\t\t\t\t\t\tonClick={this.openTableEditBuilder}\n\t\t\t\t\t\t\t\t\tdata-disabled={!(Number.parseInt(this.state.savedId, 10) > 0)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t''\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{this.state.savedId >= 0 ? (\n\t\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclassName={'wptb-block-tool dashicons dashicons-fullscreen-alt'}\n\t\t\t\t\t\t\t\t\t\tonClick={() => this.setState({ fullPreview: true })}\n\t\t\t\t\t\t\t\t\t\ttitle={__('maximize preview', 'wp-table-builder')}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t''\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName={'wptb-block-toggle dashicons wptb-block-tool'}\n\t\t\t\t\t\t\t\taria-expanded={this.state.expanded}\n\t\t\t\t\t\t\t\tonClick={this.toggleBlock}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div ref={this.mainRef}>\n\t\t\t\t\t\t<div className={'wptb-block-main'}>\n\t\t\t\t\t\t\t{this.state.selectScreen ? (\n\t\t\t\t\t\t\t\t<TableSelect\n\t\t\t\t\t\t\t\t\tsearchTerm={this.state.searchTerm}\n\t\t\t\t\t\t\t\t\tupdateSearch={this.updateSearch}\n\t\t\t\t\t\t\t\t\tselectedId={this.state.selectedId}\n\t\t\t\t\t\t\t\t\trowSelected={this.rowSelected}\n\t\t\t\t\t\t\t\t\tfilteredTables={this.filteredTables}\n\t\t\t\t\t\t\t\t\tselectedTable={this.selectedTable()}\n\t\t\t\t\t\t\t\t\tsaveTable={this.saveTable}\n\t\t\t\t\t\t\t\t\tfooterRightPortal={this.state.footerRightPortal}\n\t\t\t\t\t\t\t\t\tsavedId={this.state.savedId}\n\t\t\t\t\t\t\t\t\tsetSelectScreen={this.setSelectScreen}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<SelectedTableView\n\t\t\t\t\t\t\t\t\tfooterRightPortal={this.state.footerRightPortal}\n\t\t\t\t\t\t\t\t\tselectedTable={this.props.savedTable}\n\t\t\t\t\t\t\t\t\tchangeToSelect={this.changeToSelect}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={'wptb-block-footer'}>\n\t\t\t\t\t\t\t<div className={'wptb-block-footer-left'} />\n\t\t\t\t\t\t\t<div ref={this.footerRightPortal} className={'wptb-block-footer-right'} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tstyle={{ display: this.state.fullPreview ? 'flex' : 'none' }}\n\t\t\t\t\tclassName={'wptb-block-full-preview wptb-basic-appear-anim'}\n\t\t\t\t>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t'dashicons dashicons-fullscreen-exit-alt wptb-block-minimize-button wptb-block-tool wptb-block-shadow'\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonClick={() => this.setState({ fullPreview: false })}\n\t\t\t\t\t\ttitle={__('minimize preview', 'wp-table-builder')}\n\t\t\t\t\t/>\n\t\t\t\t\t<TablePreview content={this.props.savedTable ? this.props.savedTable.content : null} />\n\t\t\t\t</div>\n\t\t\t\t<PortalTarget id={'wptbEditorPortal'} targetEl={this.portalTargetEditor}>\n\t\t\t\t\t<Builder\n\t\t\t\t\t\tbuilderVisibility={this.setBuilderVisibility}\n\t\t\t\t\t\tshow={this.state.showBuilder}\n\t\t\t\t\t\tbuilderUrl={this.state.builderUrl}\n\t\t\t\t\t\tupdateSelection={this.updateSelection}\n\t\t\t\t\t/>\n\t\t\t\t</PortalTarget>\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n\n/* @module TableBlock module */\nexport default withContext(TableBlock);\n","import React from 'react';\nimport { PanelRow } from '@wordpress/components';\n\nexport default function TableBlockInfoItem({ label, value }) {\n\treturn (\n\t\t<PanelRow>\n\t\t\t<div className={'wptb-block-info-label'}>{label}</div>\n\t\t\t<div className={'wptb-block-info-value'}>{value}</div>\n\t\t</PanelRow>\n\t);\n}\n","import React, { Fragment } from 'react';\nimport { InspectorControls } from '@wordpress/block-editor';\nimport { Panel, PanelBody, PanelRow } from '@wordpress/components';\nimport { __, _x } from '@wordpress/i18n';\nimport TableBlockInfoItem from './TableBlockInfoItem';\n\nexport default function TableBlockInspector({ header, table }) {\n\treturn (\n\t\t<InspectorControls>\n\t\t\t<Panel>\n\t\t\t\t<PanelBody title={header} initialOpen={true}>\n\t\t\t\t\t{table ? (\n\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t<TableBlockInfoItem label={__('ID', 'wp-table-builder')} value={table.id} />\n\t\t\t\t\t\t\t<TableBlockInfoItem label={__('title', 'wp-table-builder')} value={table.title} />\n\t\t\t\t\t\t\t<TableBlockInfoItem\n\t\t\t\t\t\t\t\tlabel={__('shortcode', 'wp-table-builder')}\n\t\t\t\t\t\t\t\tvalue={`[wptb id=${table.id}]`}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<TableBlockInfoItem\n\t\t\t\t\t\t\t\tlabel={_x('tags', 'modified date', 'wp-table-builder')}\n\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\ttable.wptb_table_tags.length > 0\n\t\t\t\t\t\t\t\t\t\t? table.wptb_table_tags.map((t) => t.name).join(',')\n\t\t\t\t\t\t\t\t\t\t: __('No Tags', 'wp-table-builder')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<TableBlockInfoItem\n\t\t\t\t\t\t\t\tlabel={_x('Modified at', 'modified date', 'wp-table-builder')}\n\t\t\t\t\t\t\t\tvalue={new Intl.DateTimeFormat('default').format(new Date(table.modified))}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<PanelRow>\n\t\t\t\t\t\t\t<i>{__('no table selected', 'wp-table-builder')}</i>\n\t\t\t\t\t\t</PanelRow>\n\t\t\t\t\t)}\n\t\t\t\t</PanelBody>\n\t\t\t</Panel>\n\t\t</InspectorControls>\n\t);\n}\n","import React from 'react';\nimport { __ } from '@wordpress/i18n';\nimport WptbOverlay from './WptbOverlay';\n\nexport default function TableList({ tables, rowSelected, selectedId, searchTerm, activeId }) {\n\tconst indicateFoundTerm = (value) => {\n\t\tconst parsedVal = `${value}`;\n\t\tconst regexp = new RegExp(`(${searchTerm})`, 'ig');\n\n\t\treturn parsedVal.replace(regexp, '<span class=\"wptb-block-search-indicator\">$&</span>');\n\t};\n\n\tconst isActive = (tableId) => {\n\t\treturn Number.parseInt(activeId, 10) === Number.parseInt(tableId, 10);\n\t};\n\n\treturn (\n\t\t<div className={'wptb-table-list'}>\n\t\t\t{tables.map((table) => {\n\t\t\t\treturn (\n\t\t\t\t\t<div\n\t\t\t\t\t\tonClick={rowSelected(table.id)}\n\t\t\t\t\t\tclassName={`wptb-table-list-row wptb-basic-appear-anim ${\n\t\t\t\t\t\t\tselectedId === table.id ? 'selected' : ''\n\t\t\t\t\t\t}`}\n\t\t\t\t\t\tkey={table.id}\n\t\t\t\t\t\tdata-is-active={isActive(table.id)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={'wptb-table-list-title'}\n\t\t\t\t\t\t\tdangerouslySetInnerHTML={{ __html: indicateFoundTerm(table.title) }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={'wptb-table-list-id'}\n\t\t\t\t\t\t\tdangerouslySetInnerHTML={{ __html: indicateFoundTerm(table.id) }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t})}\n\t\t\t<WptbOverlay show={tables.length <= 0}>{__('no tables found', 'wp-table-builder')}</WptbOverlay>\n\t\t</div>\n\t);\n}\n","import React, { useEffect } from 'react';\nimport { withContext } from '../functions/withContext';\n// eslint-disable-next-line no-unused-vars\nimport ExtraStyles from '../../WPTB_ExtraStyles';\n\nfunction TablePreview({ content, scale, blockData: { tableCssUrl, generalStyles } }) {\n\tconst ref = React.createRef();\n\tconst previewPadding = 40;\n\n\tfunction prepareStylesheet(handler, url, root) {\n\t\tconst styleSheet = document.createElement('link');\n\t\tstyleSheet.setAttribute('rel', 'stylesheet');\n\t\tstyleSheet.setAttribute('href', url);\n\t\tstyleSheet.setAttribute('media', 'all');\n\t\tstyleSheet.setAttribute('id', handler);\n\t\troot.appendChild(styleSheet);\n\t}\n\n\tfunction prepareScript(handler, url, root) {\n\t\tconst script = document.createElement('script');\n\t\tscript.setAttribute('src', url);\n\t\troot.appendChild(script);\n\t}\n\n\tuseEffect(() => {\n\t\tif (content !== null && tableCssUrl !== undefined) {\n\t\t\tconst elem = document.createElement('div');\n\t\t\telem.setAttribute('id', 'wptb-block-preview-base');\n\n\t\t\telem.attachShadow({ mode: 'open' });\n\n\t\t\tconst { shadowRoot } = elem;\n\n\t\t\t// prepare styles\n\t\t\t// eslint-disable-next-line array-callback-return\n\t\t\tObject.keys(tableCssUrl).map((handler) => {\n\t\t\t\tif (Object.prototype.hasOwnProperty.call(tableCssUrl, handler)) {\n\t\t\t\t\tprepareStylesheet(handler, tableCssUrl[handler], shadowRoot);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// add table content to shadowroot\n\t\t\tconst range = document.createRange();\n\t\t\trange.setStart(document, 0);\n\t\t\tconst contentElement = range.createContextualFragment(\n\t\t\t\t`<div class=\"wptb-block-table-setup\">${content}</div>`\n\t\t\t);\n\t\t\tshadowRoot.appendChild(contentElement.children[0]);\n\n\t\t\twindow.WPTB_ExtraStyles.applyStyles(window.WPTB_ExtraStyles.modes.block, generalStyles, shadowRoot);\n\n\t\t\tconst previewWrapper = ref.current;\n\t\t\tconst previewTable = shadowRoot.querySelector('table');\n\t\t\tconst maxWidth = previewTable.dataset.wptbTableContainerMaxWidth;\n\t\t\tconst sumMaxWidth = previewTable.dataset.wptbTableContainerMaxWidth;\n\n\t\t\tlet tableWidth = '700px';\n\n\t\t\tif (sumMaxWidth) {\n\t\t\t\ttableWidth = 'auto';\n\t\t\t\tpreviewTable.style.minWidth = `${maxWidth ? Math.max(maxWidth, sumMaxWidth) : sumMaxWidth}px`;\n\t\t\t} else if (maxWidth) {\n\t\t\t\ttableWidth = `${maxWidth}px`;\n\t\t\t}\n\t\t\tpreviewTable.style.width = tableWidth;\n\n\t\t\t// clear content of preview wrapper\n\t\t\tpreviewWrapper.innerHTML = '';\n\t\t\tpreviewWrapper.appendChild(elem);\n\n\t\t\tif (scale) {\n\t\t\t\tconst { width: wrapperWidth, height: wrapperHeight } = previewWrapper.getBoundingClientRect();\n\t\t\t\tconst { width: previewWidth, height: previewHeight } = previewTable.getBoundingClientRect();\n\n\t\t\t\tconst widthScale = wrapperWidth / (previewWidth + previewPadding);\n\t\t\t\tconst heightScale = wrapperHeight / (previewHeight + previewPadding);\n\n\t\t\t\tconst scaleVal = Math.min(widthScale, heightScale);\n\t\t\t\tpreviewTable.style.transform = `scale(${scaleVal})`;\n\n\t\t\t\t// fix for chrome browsers where table previews are distorted for tables with separated columns and row\n\t\t\t\tif (window.navigator.vendor.includes('Google')) {\n\t\t\t\t\tif (previewTable.style.borderCollapse === 'separate') {\n\t\t\t\t\t\tconst borderHorizontalSpacing = parseInt(previewTable.dataset.borderSpacingColumns, 10);\n\t\t\t\t\t\tconst cellCount = parseInt(previewTable.dataset.wptbCellsWidthAutoCount, 10);\n\n\t\t\t\t\t\tpreviewTable.style.marginLeft = `-${(cellCount + 1) * borderHorizontalSpacing * -1}px`;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n\treturn (\n\t\t<div ref={ref} className={'wptb-table-preview wptb-unselectable'}>\n\t\t\t<span className=\"dashicons dashicons-grid-view no-table-selected-preview\" />\n\t\t</div>\n\t);\n}\n\nexport default withContext(TablePreview);\n","import { __ } from '@wordpress/i18n';\nimport React from 'react';\n\n/**\n * Table search component.\n *\n * @param {string} searchTerm current search term\n * @param {Function} updateSearch function to update search term state on calling component\n * @return {JSX.Element} table search component\n * @class\n */\nexport default function TableSearch({ searchTerm, updateSearch }) {\n\treturn (\n\t\t<div className={'wptb-table-search'}>\n\t\t\t<input\n\t\t\t\tvalue={searchTerm}\n\t\t\t\tonChange={(e) => updateSearch(e.target.value)}\n\t\t\t\ttype=\"text\"\n\t\t\t\tplaceholder={__('search for tables', 'wp-table-builder')}\n\t\t\t/>\n\t\t\t{searchTerm !== '' ? (\n\t\t\t\t<div className={'wptb-search-clear'} onClick={() => updateSearch('')}>\n\t\t\t\t\tX\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t''\n\t\t\t)}\n\t\t</div>\n\t);\n}\n","import React, { Fragment } from 'react';\nimport ReactDOM from 'react-dom';\nimport { __ } from '@wordpress/i18n';\nimport TableSearch from './TableSearch';\nimport TableList from './TableList';\nimport TablePreview from './TablePreview';\nimport BlockButton from './BlockButton';\n\nexport default function TableSelect({\n\tsearchTerm,\n\tupdateSearch,\n\tselectedId,\n\trowSelected,\n\tfilteredTables,\n\tselectedTable,\n\tsaveTable,\n\tfooterRightPortal,\n\tsavedId,\n\tsetSelectScreen,\n}) {\n\treturn (\n\t\t<div className={'wptb-table-select'}>\n\t\t\t<div className={'wptb-table-list-wrapper'}>\n\t\t\t\t<TableSearch searchTerm={searchTerm} updateSearch={updateSearch} />\n\t\t\t\t<TableList\n\t\t\t\t\tsearchTerm={searchTerm}\n\t\t\t\t\tselectedId={selectedId}\n\t\t\t\t\trowSelected={rowSelected}\n\t\t\t\t\ttables={filteredTables()}\n\t\t\t\t\tactiveId={savedId}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<TablePreview scale={true} content={selectedTable ? selectedTable.content : null} />\n\t\t\t{footerRightPortal !== null\n\t\t\t\t? ReactDOM.createPortal(\n\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t{savedId >= 0 ? (\n\t\t\t\t\t\t\t<BlockButton onClick={() => setSelectScreen(false)} type={'negative'}>\n\t\t\t\t\t\t\t\t\t{__('cancel', 'wp-table-builder')}\n\t\t\t\t\t\t\t\t</BlockButton>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t''\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<BlockButton disabled={!selectedTable || savedId === selectedId} onClick={saveTable}>\n\t\t\t\t\t\t\t\t{__('select', 'wp-table-builder')}\n\t\t\t\t\t\t\t</BlockButton>\n\t\t\t\t\t\t</Fragment>,\n\t\t\t\t\t\tfooterRightPortal.current\n\t\t\t\t  )\n\t\t\t\t: ''}\n\t\t</div>\n\t);\n}\n","import React from 'react';\n\nexport default function WptbOverlay({ show, children }) {\n\treturn (\n\t\t<div className={'wptb-block-overlay wptb-basic-appear-anim'} style={{ display: show ? 'flex' : 'none' }}>\n\t\t\t{children}\n\t\t</div>\n\t);\n}\n","import React from 'react';\nimport apiFetch from '@wordpress/api-fetch';\nimport { __ } from '@wordpress/i18n';\nimport { TableContext } from '../functions/withContext';\nimport TableBlock from '../components/TableBlock';\n\nexport default class TableBlockApp extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tconst { attributes, setAttributes, blockData } = props;\n\n\t\tthis.setSavedTable = this.setSavedTable.bind(this);\n\n\t\tthis.state = {\n\t\t\ttables: [],\n\t\t\tattributes,\n\t\t\tsetAttributes,\n\t\t\tsavedTable: null,\n\t\t\tsetSavedTable: this.setSavedTable,\n\t\t\tblockData,\n\t\t\tfetching: false,\n\t\t\tisFetching: () => {\n\t\t\t\treturn this.state.fetching;\n\t\t\t},\n\t\t\tsetFetch: (status) => {\n\t\t\t\tthis.setState({ fetching: status });\n\t\t\t},\n\t\t\tgetTables: () => {\n\t\t\t\tthis.state.setFetch(true);\n\t\t\t\treturn apiFetch({ path: '/wp/v2/wptb-tables?status=draft&per_page=-1' }).then((tables) => {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\ttables: tables\n\t\t\t\t\t\t\t.filter((t) => {\n\t\t\t\t\t\t\t\t// filter out prebuilt tables from list\n\t\t\t\t\t\t\t\t// eslint-disable-next-line no-underscore-dangle\n\t\t\t\t\t\t\t\tconst [prebuiltStatus] = t.meta._wptb_prebuilt_;\n\t\t\t\t\t\t\t\treturn !prebuiltStatus;\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.map((t) => {\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t...t,\n\t\t\t\t\t\t\t\t\t...{\n\t\t\t\t\t\t\t\t\t\tid: t.id,\n\t\t\t\t\t\t\t\t\t\t// eslint-disable-next-line no-underscore-dangle\n\t\t\t\t\t\t\t\t\t\tcontent: t.meta._wptb_content_,\n\t\t\t\t\t\t\t\t\t\ttitle:\n\t\t\t\t\t\t\t\t\t\t\tt.title.rendered === '' || t.title.rendered === 'Untitled'\n\t\t\t\t\t\t\t\t\t\t\t\t? `${__('Table', 'wp-table-builder')} #${t.id}`\n\t\t\t\t\t\t\t\t\t\t\t\t: t.title.rendered,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.state.setFetch(false);\n\t\t\t\t});\n\t\t\t},\n\t\t};\n\t}\n\n\tsetSavedTable(id) {\n\t\tthis.setState({\n\t\t\tsavedTable: this.state.tables.filter((t) => {\n\t\t\t\treturn t.id === id;\n\t\t\t})[0],\n\t\t});\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.state.getTables().then(() => {\n\t\t\tthis.setSavedTable(this.state.attributes.id);\n\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<TableContext.Provider value={this.state}>\n\t\t\t\t<TableBlock />\n\t\t\t</TableContext.Provider>\n\t\t);\n\t}\n}\n","import React from 'react';\n\n/**\n * React context for table data.\n *\n * @type {Object}\n */\nexport const TableContext = React.createContext({\n\tattributes: {},\n\tsetAttributes: () => {},\n\tsavedTable: null,\n\tsetSavedTable: () => {},\n\tblockData: {},\n});\n\n/**\n * HOC for table context.\n *\n * @param {Function} Component react component to be wrapped\n * @return {function(*): *} with context function\n */\nexport function withContext(Component) {\n\treturn function WithTableContextComponent(props) {\n\t\treturn <TableContext.Consumer>{(context) => <Component {...context} {...props} />}</TableContext.Consumer>;\n\t};\n}\n","// extracted by mini-css-extract-plugin","import { registerBlockType } from '@wordpress/blocks';\nimport { __ } from '@wordpress/i18n';\nimport React from 'react';\nimport TableBlockApp from './containers/TableBlockApp';\n// eslint-disable-next-line no-unused-vars\nimport blockStyle from './style/block-style.sass';\n\nconst blockData = { ...wptbBlockData };\n\nwptbBlockData = undefined;\n\nregisterBlockType(blockData.blockName, {\n\ttitle: __('WP Table Builder', 'wp-table-builder'),\n\tdescription: __('WP Table Builder editor block', 'wp-table-builder'),\n\tcategory: 'widgets',\n\ticon: 'editor-table',\n\tattributes: {\n\t\tid: {\n\t\t\ttype: 'number',\n\t\t\tdefault: '-1',\n\t\t},\n\t},\n\ttransforms: {\n\t\tfrom: [\n\t\t\t{\n\t\t\t\ttype: 'shortcode',\n\t\t\t\ttag: 'wptb',\n\t\t\t\tattributes: {\n\t\t\t\t\tid: {\n\t\t\t\t\t\ttype: 'number',\n\t\t\t\t\t\tshortcode: ({ named }) => {\n\t\t\t\t\t\t\treturn Number.parseInt(named.id, 10);\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tpriority: 1,\n\t\t\t},\n\t\t],\n\t},\n\tedit: ({ attributes, setAttributes }) => {\n\t\treturn <TableBlockApp attributes={attributes} setAttributes={setAttributes} blockData={blockData} />;\n\t},\n\tsave: ({ attributes }) => {\n\t\treturn attributes.id >= 0 ? `[wptb id=${attributes.id}]` : '';\n\t},\n});\n","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","function _extends() {\n  module.exports = _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest;","var _typeof = require(\"@babel/runtime/helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","module.exports = function(originalModule) {\n\tif (!originalModule.webpackPolyfill) {\n\t\tvar module = Object.create(originalModule);\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"exports\", {\n\t\t\tenumerable: true\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","(function() { module.exports = window[\"wp\"][\"apiFetch\"]; }());","(function() { module.exports = window[\"wp\"][\"blockEditor\"]; }());","(function() { module.exports = window[\"wp\"][\"blocks\"]; }());","(function() { module.exports = window[\"wp\"][\"components\"]; }());","(function() { module.exports = window[\"wp\"][\"data\"]; }());","(function() { module.exports = window[\"wp\"][\"i18n\"]; }());","(function() { module.exports = window[\"React\"]; }());","(function() { module.exports = window[\"ReactDOM\"]; }());"],"sourceRoot":""}