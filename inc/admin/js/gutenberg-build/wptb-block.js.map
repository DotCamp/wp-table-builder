{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./inc/admin/js/core/gutenberg-src/components/BlockButton.js","webpack:///./inc/admin/js/core/gutenberg-src/components/Builder.js","webpack:///./inc/admin/js/core/gutenberg-src/components/BusyOverlay.js","webpack:///./inc/admin/js/core/gutenberg-src/components/SelectedTableView.js","webpack:///./inc/admin/js/core/gutenberg-src/components/TableBlock.js","webpack:///./inc/admin/js/core/gutenberg-src/components/TableList.js","webpack:///./inc/admin/js/core/gutenberg-src/components/TablePreview.js","webpack:///./inc/admin/js/core/gutenberg-src/components/TableSearch.js","webpack:///./inc/admin/js/core/gutenberg-src/components/TableSelect.js","webpack:///./inc/admin/js/core/gutenberg-src/components/WptbOverlay.js","webpack:///./inc/admin/js/core/gutenberg-src/containers/TableBlockApp.js","webpack:///./inc/admin/js/core/gutenberg-src/functions/withContext.js","webpack:///./inc/admin/js/core/gutenberg-src/style/block-style.sass","webpack:///./inc/admin/js/core/gutenberg-src/wptb-block.js","webpack:///./node_modules/@babel/runtime/helpers/arrayLikeToArray.js","webpack:///./node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack:///./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/createClass.js","webpack:///./node_modules/@babel/runtime/helpers/defineProperty.js","webpack:///./node_modules/@babel/runtime/helpers/extends.js","webpack:///./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/inherits.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack:///./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack:///./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/slicedToArray.js","webpack:///./node_modules/@babel/runtime/helpers/typeof.js","webpack:///./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","webpack:///external {\"this\":[\"wp\",\"apiFetch\"]}","webpack:///external {\"this\":[\"wp\",\"blocks\"]}","webpack:///external {\"this\":[\"wp\",\"element\"]}","webpack:///external {\"this\":[\"wp\",\"i18n\"]}","webpack:///external {\"this\":\"React\"}","webpack:///external {\"this\":\"ReactDOM\"}"],"names":["BlockButton","type","onClick","children","disabled","Builder","builderUrl","show","builderVisibility","updateSelection","useState","gutenbergUrl","setUrl","frameLoaded","setFrameLoaded","ref","useRef","prepareUrl","val","parsedUrl","URL","searchParams","append","toString","useEffect","current","addEventListener","refDocument","contentDocument","contentWindow","document","detail","display","BusyOverlay","SelectedTableView","selectedTable","footerRightPortal","changeToSelect","content","ReactDOM","createPortal","__","TableBlock","props","state","selectedId","Number","parseInt","attributes","id","savedId","searchTerm","fullPreview","showBuilder","selectScreen","expanded","toggleBlock","bind","slideMain","rowSelected","updateSearch","filteredTables","saveTable","setSelectScreen","openNewTableBuilder","openTableEditBuilder","setBuilderVisibility","mainRef","React","createRef","setState","getTables","then","e","preventDefault","direction","jQuery","tables","filter","t","regexp","RegExp","test","title","setAttributes","setSavedTable","blockData","url","isFetching","savedTable","Component","withContext","TableList","indicateFoundTerm","value","parsedVal","replace","map","table","__html","length","TablePreview","scale","tableCssUrl","previewPadding","prepareStylesheet","handler","root","styleSheet","createElement","setAttribute","appendChild","undefined","elem","attachShadow","mode","Object","keys","prototype","hasOwnProperty","call","shadowRoot","range","createRange","setStart","contentElement","createContextualFragment","previewWrapper","previewTable","querySelector","style","width","innerHTML","getBoundingClientRect","wrapperWidth","wrapperHeight","height","previewWidth","previewHeight","widthScale","heightScale","scaleVal","Math","min","transform","window","navigator","vendor","includes","borderCollapse","borderHorizontalSpacing","dataset","borderSpacingColumns","cellCount","wptbCellsWidthAutoCount","marginLeft","TableSearch","target","TableSelect","WptbOverlay","TableBlockApp","fetching","setFetch","status","apiFetch","path","meta","_wptb_content_","rendered","TableContext","createContext","WithTableContextComponent","context","wptbBlockData","registerBlockType","blockName","description","category","icon","default","transforms","from","tag","shortcode","named","priority","edit","save"],"mappings":"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","file":"wptb-block.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./inc/admin/js/core/gutenberg-src/wptb-block.js\");\n","import React from 'react';\n\nexport default function BlockButton({ type, onClick, children, disabled }) {\n\treturn (\n\t\t<div\n\t\t\tonClick={onClick}\n\t\t\tclassName={`wptb-block-button wptb-unselectable ${type || 'primary'} ${\n\t\t\t\tdisabled ? 'wptb-block-button-disabled' : ''\n\t\t\t}`}\n\t\t>\n\t\t\t{children}\n\t\t</div>\n\t);\n}\n","import React, { Fragment, useState, useEffect, useRef } from 'react';\nimport BusyOverlay from './BusyOverlay';\n\nexport default function Builder({ builderUrl, show, builderVisibility, updateSelection }) {\n\tconst [gutenbergUrl, setUrl] = useState(builderUrl);\n\tconst [frameLoaded, setFrameLoaded] = useState(false);\n\tconst ref = useRef(null);\n\n\tfunction prepareUrl(val) {\n\t\tif (val) {\n\t\t\tconst parsedUrl = new URL(val);\n\t\t\tparsedUrl.searchParams.append('gutenberg', true);\n\t\t\tsetUrl(parsedUrl.toString());\n\t\t}\n\t}\n\n\tuseEffect(() => {\n\t\tprepareUrl(builderUrl);\n\n\t\tif (show) {\n\t\t\tsetFrameLoaded(false);\n\t\t\tref.current.addEventListener('load', () => {\n\t\t\t\tsetFrameLoaded(true);\n\t\t\t\tconst refDocument = ref.current.contentDocument || ref.current.contentWindow.document;\n\t\t\t\trefDocument.addEventListener('gutenbergClose', ({ detail }) => {\n\t\t\t\t\tif (detail !== true) {\n\t\t\t\t\t\tif (updateSelection && typeof updateSelection === 'function') {\n\t\t\t\t\t\t\tupdateSelection(detail);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbuilderVisibility(false);\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t});\n\n\treturn (\n\t\t<div className={`wptb-block-builder-wrapper ${show ? '' : 'hide'}`}>\n\t\t\t{show ? (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<div\n\t\t\t\t\t\tstyle={{ display: frameLoaded ? 'none' : 'flex' }}\n\t\t\t\t\t\tclassName={'wptb-block-builder-load-indicator'}\n\t\t\t\t\t>\n\t\t\t\t\t\t<BusyOverlay show={true} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<iframe ref={ref} className={'wptb-block-builder'} src={gutenbergUrl} />\n\t\t\t\t</Fragment>\n\t\t\t) : (\n\t\t\t\t''\n\t\t\t)}\n\t\t</div>\n\t);\n}\n","import React from 'react';\nimport WptbOverlay from './WptbOverlay';\n\nexport default function BusyOverlay({ show }) {\n\treturn (\n\t\t<WptbOverlay show={show}>\n\t\t\t<div className={'wptb-busy-overlay dashicons dashicons-update-alt'} />\n\t\t</WptbOverlay>\n\t);\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { __ } from '@wordpress/i18n';\nimport TablePreview from './TablePreview';\nimport BlockButton from './BlockButton';\n\nexport default function SelectedTableView({ selectedTable, footerRightPortal, changeToSelect }) {\n\treturn (\n\t\t<div className={'wptb-table-selected-view wptb-basic-appear-anim'}>\n\t\t\t<TablePreview scale={true} content={selectedTable ? selectedTable.content : null} />\n\t\t\t{footerRightPortal !== null\n\t\t\t\t? ReactDOM.createPortal(\n\t\t\t\t\t\t<BlockButton onClick={changeToSelect}>{__('change', 'wp-table-builder')}</BlockButton>,\n\t\t\t\t\t\tfooterRightPortal.current\n\t\t\t\t  )\n\t\t\t\t: ''}\n\t\t</div>\n\t);\n}\n","import React, { Fragment } from 'react';\nimport { __ } from '@wordpress/i18n';\nimport TableSelect from './TableSelect';\nimport SelectedTableView from './SelectedTableView';\nimport TablePreview from './TablePreview';\nimport Builder from './Builder';\nimport { withContext } from '../functions/withContext';\nimport BusyOverlay from './BusyOverlay';\n\n/**\n * TableBlock component.\n *\n * This component handle UI part of the gutenberg block.\n */\nclass TableBlock extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tselectedId: Number.parseInt(this.props.attributes.id, 10),\n\t\t\tsavedId: Number.parseInt(this.props.attributes.id, 10),\n\t\t\tsearchTerm: '',\n\t\t\tfooterRightPortal: null,\n\t\t\tfullPreview: false,\n\t\t\tshowBuilder: false,\n\t\t\tbuilderUrl: props.builderUrl,\n\t\t};\n\n\t\tthis.state.selectScreen = this.state.savedId === -1;\n\t\tthis.state.expanded = this.state.savedId === -1;\n\n\t\tthis.toggleBlock = this.toggleBlock.bind(this);\n\t\tthis.slideMain = this.slideMain.bind(this);\n\t\tthis.rowSelected = this.rowSelected.bind(this);\n\t\tthis.selectedTable = this.selectedTable.bind(this);\n\t\tthis.updateSearch = this.updateSearch.bind(this);\n\t\tthis.filteredTables = this.filteredTables.bind(this);\n\t\tthis.saveTable = this.saveTable.bind(this);\n\t\tthis.changeToSelect = this.changeToSelect.bind(this);\n\t\tthis.setSelectScreen = this.setSelectScreen.bind(this);\n\t\tthis.openNewTableBuilder = this.openNewTableBuilder.bind(this);\n\t\tthis.openTableEditBuilder = this.openTableEditBuilder.bind(this);\n\t\tthis.setBuilderVisibility = this.setBuilderVisibility.bind(this);\n\t\tthis.updateSelection = this.updateSelection.bind(this);\n\n\t\tthis.mainRef = React.createRef();\n\t\tthis.footerRightPortal = React.createRef();\n\t}\n\n\t/**\n\t * Component mounted lifecycle hook.\n\t */\n\tcomponentDidMount() {\n\t\tthis.slideMain();\n\t\tthis.setState({ footerRightPortal: this.footerRightPortal });\n\t}\n\n\t// Update selection depending on builder sent id.\n\tupdateSelection(id) {\n\t\treturn this.props.getTables().then(() => {\n\t\t\tthis.setState({ selectedId: Number.parseInt(id, 10) });\n\t\t\tthis.saveTable();\n\t\t});\n\t}\n\n\t/**\n\t * Toggle visibility status of block main area.\n\t *\n\t * @param {Event} e html event\n\t */\n\ttoggleBlock(e) {\n\t\te.preventDefault();\n\t\tthis.setState((state) => {\n\t\t\treturn { expanded: !state.expanded };\n\t\t});\n\t}\n\n\t/**\n\t * Slide up/down main area of toggle depending on block toggle status.\n\t */\n\tslideMain() {\n\t\tconst direction = this.state.expanded ? 'slideDown' : 'slideUp';\n\t\tjQuery(this.mainRef.current)[direction]();\n\t}\n\n\t/**\n\t * Filter tables according to search term.\n\t *\n\t * @return {Array} filtered tables\n\t */\n\tfilteredTables() {\n\t\tif (this.state.searchTerm === '') {\n\t\t\treturn this.props.tables;\n\t\t}\n\n\t\treturn this.props.tables.filter((t) => {\n\t\t\tconst regexp = new RegExp(`(${this.state.searchTerm})`, 'gi');\n\n\t\t\treturn regexp.test(t.title) || regexp.test(`${t.id}`);\n\t\t});\n\t}\n\n\t/**\n\t * Component updated lifecycle hook.\n\t */\n\tcomponentDidUpdate() {\n\t\tthis.slideMain();\n\t\tthis.props.setAttributes({ id: this.state.savedId });\n\t}\n\n\t/**\n\t * Row selected callback function.\n\t *\n\t * @param {number} id selected table id\n\t * @return {function(*): void} click callback function\n\t */\n\trowSelected(id) {\n\t\treturn (e) => {\n\t\t\te.preventDefault();\n\t\t\tthis.setState({ selectedId: id });\n\t\t};\n\t}\n\n\t/**\n\t * Get selected table.\n\t *\n\t * @return {Object} selected table object\n\t */\n\tselectedTable() {\n\t\treturn this.props.tables.filter((t) => {\n\t\t\treturn this.state.selectedId === t.id;\n\t\t})[0];\n\t}\n\n\t/**\n\t * Get saved table for the block.\n\t *\n\t * @return {Object|undefined} saved table\n\t */\n\tsavedTable() {\n\t\treturn this.props.tables.filter((t) => {\n\t\t\treturn this.state.savedId === t.id;\n\t\t})[0];\n\t}\n\n\t/**\n\t * Set selected table as saved table to bind to block and its shortcode.\n\t */\n\tsaveTable() {\n\t\tthis.props.setSavedTable(this.state.selectedId);\n\t\tthis.setState({ savedId: this.state.selectedId, selectScreen: false });\n\t}\n\n\t/**\n\t * Update search term.\n\t *\n\t * @param {Event} e element event\n\t */\n\tupdateSearch(e) {\n\t\tthis.setState({ searchTerm: e });\n\t}\n\n\t/**\n\t * Change current screen to table select.\n\t */\n\tchangeToSelect() {\n\t\tthis.setState({ selectScreen: true });\n\t}\n\n\t/**\n\t * Change visibility of select screen.\n\t *\n\t * @param {boolean} val status\n\t */\n\tsetSelectScreen(val) {\n\t\tthis.setState({ selectScreen: val });\n\t}\n\n\t/**\n\t * Set visibility of builder page.\n\t *\n\t * @param {boolean} val show/hide\n\t */\n\tsetBuilderVisibility(val) {\n\t\tthis.setState({ showBuilder: val });\n\t}\n\n\t/**\n\t * Open builder page for new table.\n\t */\n\topenNewTableBuilder() {\n\t\tthis.setState({ builderUrl: this.props.blockData.builderUrl, showBuilder: true });\n\t}\n\n\t/**\n\t * Open builder page for table edit.\n\t */\n\topenTableEditBuilder() {\n\t\tconst url = new URL(this.props.blockData.builderUrl);\n\t\turl.searchParams.append('table', this.state.savedId);\n\n\t\tthis.setState({ builderUrl: url.toString(), showBuilder: true });\n\t}\n\n\t/**\n\t * Render component to DOM.\n\t *\n\t * @return {JSX.Element} rendered component\n\t */\n\trender() {\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<div\n\t\t\t\t\tstyle={{ display: this.state.fullPreview ? 'none' : 'grid' }}\n\t\t\t\t\tclassName={'wptb-block-wrapper wptb-basic-appear-anim'}\n\t\t\t\t>\n\t\t\t\t\t<BusyOverlay show={this.props.isFetching()} />\n\t\t\t\t\t<div className={'wptb-block-header'}>\n\t\t\t\t\t\t<div className={'wptb-plugin-left-toolbox'}>\n\t\t\t\t\t\t\t<div className={'wptb-plugin-brand'}>WP Table Builder</div>\n\t\t\t\t\t\t\t<div className={'wptb-plugin-selected-header-info'}>\n\t\t\t\t\t\t\t\t{this.props.savedTable\n\t\t\t\t\t\t\t\t\t? this.props.savedTable.title\n\t\t\t\t\t\t\t\t\t: __('No table selected', 'wp-table-builder')}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={'wptb-header-toolbox'}>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName={'wptb-block-tool dashicons dashicons-insert'}\n\t\t\t\t\t\t\t\ttitle={__('new table', 'wp-table-builder')}\n\t\t\t\t\t\t\t\tonClick={this.openNewTableBuilder}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{this.state.savedId >= 0 ? (\n\t\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclassName={'wptb-block-tool dashicons dashicons-edit-large'}\n\t\t\t\t\t\t\t\t\t\ttitle={__('edit table', 'wp-table-builder')}\n\t\t\t\t\t\t\t\t\t\tonClick={this.openTableEditBuilder}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclassName={'wptb-block-tool dashicons dashicons-fullscreen-alt'}\n\t\t\t\t\t\t\t\t\t\tonClick={() => this.setState({ fullPreview: true })}\n\t\t\t\t\t\t\t\t\t\ttitle={__('maximize preview', 'wp-table-builder')}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t''\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName={'wptb-block-toggle dashicons wptb-block-tool'}\n\t\t\t\t\t\t\t\taria-expanded={this.state.expanded}\n\t\t\t\t\t\t\t\tonClick={this.toggleBlock}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div ref={this.mainRef}>\n\t\t\t\t\t\t<div className={'wptb-block-main'}>\n\t\t\t\t\t\t\t{this.state.selectScreen ? (\n\t\t\t\t\t\t\t\t<TableSelect\n\t\t\t\t\t\t\t\t\tsearchTerm={this.state.searchTerm}\n\t\t\t\t\t\t\t\t\tupdateSearch={this.updateSearch}\n\t\t\t\t\t\t\t\t\tselectedId={this.state.selectedId}\n\t\t\t\t\t\t\t\t\trowSelected={this.rowSelected}\n\t\t\t\t\t\t\t\t\tfilteredTables={this.filteredTables}\n\t\t\t\t\t\t\t\t\tselectedTable={this.selectedTable()}\n\t\t\t\t\t\t\t\t\tsaveTable={this.saveTable}\n\t\t\t\t\t\t\t\t\tfooterRightPortal={this.state.footerRightPortal}\n\t\t\t\t\t\t\t\t\tsavedId={this.state.savedId}\n\t\t\t\t\t\t\t\t\tsetSelectScreen={this.setSelectScreen}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<SelectedTableView\n\t\t\t\t\t\t\t\t\tfooterRightPortal={this.state.footerRightPortal}\n\t\t\t\t\t\t\t\t\tselectedTable={this.props.savedTable}\n\t\t\t\t\t\t\t\t\tchangeToSelect={this.changeToSelect}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={'wptb-block-footer'}>\n\t\t\t\t\t\t\t<div className={'wptb-block-footer-left'} />\n\t\t\t\t\t\t\t<div ref={this.footerRightPortal} className={'wptb-block-footer-right'} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tstyle={{ display: this.state.fullPreview ? 'flex' : 'none' }}\n\t\t\t\t\tclassName={'wptb-block-full-preview wptb-basic-appear-anim'}\n\t\t\t\t>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t'dashicons dashicons-fullscreen-exit-alt wptb-block-minimize-button wptb-block-tool wptb-block-shadow'\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonClick={() => this.setState({ fullPreview: false })}\n\t\t\t\t\t\ttitle={__('minimize preview', 'wp-table-builder')}\n\t\t\t\t\t/>\n\t\t\t\t\t<TablePreview content={this.props.savedTable ? this.props.savedTable.content : null} />\n\t\t\t\t</div>\n\t\t\t\t<Builder\n\t\t\t\t\tbuilderVisibility={this.setBuilderVisibility}\n\t\t\t\t\tshow={this.state.showBuilder}\n\t\t\t\t\tbuilderUrl={this.state.builderUrl}\n\t\t\t\t\tupdateSelection={this.updateSelection}\n\t\t\t\t/>\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n\n/* @module TableBlock module */\nexport default withContext(TableBlock);\n","import React from 'react';\nimport { __ } from '@wordpress/i18n';\nimport WptbOverlay from './WptbOverlay';\n\nexport default function TableList({ tables, rowSelected, selectedId, searchTerm }) {\n\tconst indicateFoundTerm = (value) => {\n\t\tconst parsedVal = `${value}`;\n\t\tconst regexp = new RegExp(`(${searchTerm})`, 'ig');\n\n\t\treturn parsedVal.replace(regexp, '<span class=\"wptb-block-search-indicator\">$&</span>');\n\t};\n\n\treturn (\n\t\t<div className={'wptb-table-list'}>\n\t\t\t{tables.map((table) => {\n\t\t\t\treturn (\n\t\t\t\t\t<div\n\t\t\t\t\t\tonClick={rowSelected(table.id)}\n\t\t\t\t\t\tclassName={`wptb-table-list-row wptb-basic-appear-anim ${\n\t\t\t\t\t\t\tselectedId === table.id ? 'selected' : ''\n\t\t\t\t\t\t}`}\n\t\t\t\t\t\tkey={table.id}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={'wptb-table-list-title'}\n\t\t\t\t\t\t\tdangerouslySetInnerHTML={{ __html: indicateFoundTerm(table.title) }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={'wptb-table-list-id'}\n\t\t\t\t\t\t\tdangerouslySetInnerHTML={{ __html: indicateFoundTerm(table.id) }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t})}\n\t\t\t<WptbOverlay show={tables.length <= 0}>{__('no tables found', 'wp-table-builder')}</WptbOverlay>\n\t\t</div>\n\t);\n}\n","import React, {useEffect} from 'react';\nimport {withContext} from '../functions/withContext';\n\nfunction TablePreview({content, scale, blockData: {tableCssUrl}}) {\n    const ref = React.createRef();\n    const previewPadding = 40;\n\n    function prepareStylesheet(handler, url, root) {\n        const styleSheet = document.createElement('link');\n        styleSheet.setAttribute('rel', 'stylesheet');\n        styleSheet.setAttribute('href', url);\n        styleSheet.setAttribute('media', 'all');\n        styleSheet.setAttribute('id', handler);\n        root.appendChild(styleSheet);\n    }\n\n    useEffect(() => {\n        if (content !== null && tableCssUrl !== undefined) {\n            const elem = document.createElement('div');\n\n            elem.attachShadow({mode: 'open'});\n\n            // eslint-disable-next-line array-callback-return\n            Object.keys(tableCssUrl).map((handler) => {\n                if (Object.prototype.hasOwnProperty.call(tableCssUrl, handler)) {\n                    prepareStylesheet(handler, tableCssUrl[handler], elem.shadowRoot);\n                }\n            });\n\n            // add table content to shadowroot\n            const range = document.createRange();\n            range.setStart(document, 0);\n            const contentElement = range.createContextualFragment(content);\n            elem.shadowRoot.appendChild(contentElement);\n\n            const previewWrapper = ref.current;\n            const previewTable = elem.shadowRoot.querySelector('table');\n            previewTable.style.width = scale ? '700px' : '100%';\n\n            // clear content of preview wrapper\n            previewWrapper.innerHTML = '';\n            previewWrapper.appendChild(elem);\n\n            if (scale) {\n                const {width: wrapperWidth, height: wrapperHeight} = previewWrapper.getBoundingClientRect();\n                const {width: previewWidth, height: previewHeight} = previewTable.getBoundingClientRect();\n\n                const widthScale = wrapperWidth / (previewWidth + previewPadding);\n                const heightScale = wrapperHeight / (previewHeight + previewPadding);\n\n                const scaleVal = Math.min(widthScale, heightScale);\n                previewTable.style.transform = `scale(${scaleVal})`;\n\n                // fix for chrome browsers where table previews are distorted for tables with separated columns and row\n                if (window.navigator.vendor.includes('Google')) {\n                    if (previewTable.style.borderCollapse === 'separate') {\n                        const borderHorizontalSpacing = parseInt(previewTable.dataset.borderSpacingColumns, 10);\n                        const cellCount = parseInt(previewTable.dataset.wptbCellsWidthAutoCount, 10);\n\n                        previewTable.style.marginLeft = `${(cellCount + 1) * borderHorizontalSpacing * -1}px`;\n                    }\n                }\n            }\n        }\n    });\n\n    return (\n        <div ref={ref} className={'wptb-table-preview wptb-unselectable'}>\n            <span className=\"dashicons dashicons-grid-view no-table-selected-preview\"/>\n        </div>\n    );\n}\n\nexport default withContext(TablePreview);\n","import { __ } from '@wordpress/i18n';\nimport React from 'react';\n\n/**\n * Table search component.\n *\n * @param {string} searchTerm current search term\n * @param {Function} updateSearch function to update search term state on calling component\n * @return {JSX.Element} table search component\n * @class\n */\nexport default function TableSearch({ searchTerm, updateSearch }) {\n\treturn (\n\t\t<div className={'wptb-table-search'}>\n\t\t\t<input\n\t\t\t\tvalue={searchTerm}\n\t\t\t\tonChange={(e) => updateSearch(e.target.value)}\n\t\t\t\ttype=\"text\"\n\t\t\t\tplaceholder={__('search for tables', 'wp-table-builder')}\n\t\t\t/>\n\t\t\t{searchTerm !== '' ? (\n\t\t\t\t<div className={'wptb-search-clear'} onClick={() => updateSearch('')}>\n\t\t\t\t\tX\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t''\n\t\t\t)}\n\t\t</div>\n\t);\n}\n","import React, { Fragment } from 'react';\nimport ReactDOM from 'react-dom';\nimport { __ } from '@wordpress/i18n';\nimport TableSearch from './TableSearch';\nimport TableList from './TableList';\nimport TablePreview from './TablePreview';\nimport BlockButton from './BlockButton';\n\nexport default function TableSelect({\n\tsearchTerm,\n\tupdateSearch,\n\tselectedId,\n\trowSelected,\n\tfilteredTables,\n\tselectedTable,\n\tsaveTable,\n\tfooterRightPortal,\n\tsavedId,\n\tsetSelectScreen,\n}) {\n\treturn (\n\t\t<div className={'wptb-table-select'}>\n\t\t\t<div className={'wptb-table-list-wrapper'}>\n\t\t\t\t<TableSearch searchTerm={searchTerm} updateSearch={updateSearch} />\n\t\t\t\t<TableList\n\t\t\t\t\tsearchTerm={searchTerm}\n\t\t\t\t\tselectedId={selectedId}\n\t\t\t\t\trowSelected={rowSelected}\n\t\t\t\t\ttables={filteredTables()}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<TablePreview scale={true} content={selectedTable ? selectedTable.content : null} />\n\t\t\t{footerRightPortal !== null\n\t\t\t\t? ReactDOM.createPortal(\n\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t{savedId >= 0 ? (\n\t\t\t\t\t\t\t\t<BlockButton onClick={() => setSelectScreen(false)} type={'negative'}>\n\t\t\t\t\t\t\t\t\t{__('cancel', 'wp-table-builder')}\n\t\t\t\t\t\t\t\t</BlockButton>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t''\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<BlockButton disabled={!selectedTable} onClick={saveTable}>\n\t\t\t\t\t\t\t\t{__('select', 'wp-table-builder')}\n\t\t\t\t\t\t\t</BlockButton>\n\t\t\t\t\t\t</Fragment>,\n\t\t\t\t\t\tfooterRightPortal.current\n\t\t\t\t  )\n\t\t\t\t: ''}\n\t\t</div>\n\t);\n}\n","import React from 'react';\n\nexport default function WptbOverlay({ show, children }) {\n\treturn (\n\t\t<div className={'wptb-block-overlay wptb-basic-appear-anim'} style={{ display: show ? 'flex' : 'none' }}>\n\t\t\t{children}\n\t\t</div>\n\t);\n}\n","import React from 'react';\nimport apiFetch from '@wordpress/api-fetch';\nimport { __ } from '@wordpress/i18n';\nimport { TableContext } from '../functions/withContext';\nimport TableBlock from '../components/TableBlock';\n\nexport default class TableBlockApp extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tconst { attributes, setAttributes, blockData } = props;\n\n\t\tthis.setSavedTable = this.setSavedTable.bind(this);\n\n\t\tthis.state = {\n\t\t\ttables: [],\n\t\t\tattributes,\n\t\t\tsetAttributes,\n\t\t\tsavedTable: null,\n\t\t\tsetSavedTable: this.setSavedTable,\n\t\t\tblockData,\n\t\t\tfetching: false,\n\t\t\tisFetching: () => {\n\t\t\t\treturn this.state.fetching;\n\t\t\t},\n\t\t\tsetFetch: (status) => {\n\t\t\t\tthis.setState({ fetching: status });\n\t\t\t},\n\t\t\tgetTables: () => {\n\t\t\t\tthis.state.setFetch(true);\n\t\t\t\treturn apiFetch({ path: '/wp/v2/wptb-tables?status=draft&per_page=-1&_fields=id,title,meta' }).then(\n\t\t\t\t\t(tables) => {\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\ttables: tables.map((t) => {\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\tid: t.id,\n\t\t\t\t\t\t\t\t\t// eslint-disable-next-line no-underscore-dangle\n\t\t\t\t\t\t\t\t\tcontent: t.meta._wptb_content_,\n\t\t\t\t\t\t\t\t\ttitle:\n\t\t\t\t\t\t\t\t\t\tt.title.rendered === ''\n\t\t\t\t\t\t\t\t\t\t\t? `${__('Table', 'wp-table-builder')} #${t.id}`\n\t\t\t\t\t\t\t\t\t\t\t: t.title.rendered,\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tthis.state.setFetch(false);\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t},\n\t\t};\n\t}\n\n\tsetSavedTable(id) {\n\t\tthis.setState({\n\t\t\tsavedTable: this.state.tables.filter((t) => {\n\t\t\t\treturn t.id === id;\n\t\t\t})[0],\n\t\t});\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.state.getTables().then(() => {\n\t\t\tthis.setSavedTable(this.state.attributes.id);\n\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<TableContext.Provider value={this.state}>\n\t\t\t\t<TableBlock />\n\t\t\t</TableContext.Provider>\n\t\t);\n\t}\n}\n","import React from 'react';\n\n/**\n * React context for table data.\n *\n * @type {React.Context<{attributes: {}, savedTable: null, setAttributes: setAttributes, setSavedTable: setSavedTable, blockData: {}}>}\n */\nexport const TableContext = React.createContext({\n\tattributes: {},\n\tsetAttributes: () => {},\n\tsavedTable: null,\n\tsetSavedTable: () => {},\n\tblockData: {},\n});\n\n/**\n * HOC for table context.\n *\n * @param {Function | Class} Component react component to be wrapped\n * @return {function(*): *}\n */\nexport function withContext(Component) {\n\treturn function WithTableContextComponent(props) {\n\t\treturn <TableContext.Consumer>{(context) => <Component {...context} {...props} />}</TableContext.Consumer>;\n\t};\n}\n","// extracted by mini-css-extract-plugin","import { registerBlockType } from '@wordpress/blocks';\nimport { __ } from '@wordpress/i18n';\nimport React from 'react';\nimport TableBlockApp from './containers/TableBlockApp';\n// eslint-disable-next-line no-unused-vars\nimport blockStyle from './style/block-style.sass';\n\nconst blockData = { ...wptbBlockData };\n\nwptbBlockData = undefined;\n\nregisterBlockType(blockData.blockName, {\n\ttitle: __('WP Table Builder', 'wp-table-builder'),\n\tdescription: __('WP Table Builder editor block', 'wp-table-builder'),\n\tcategory: 'widgets',\n\ticon: 'editor-table',\n\tattributes: {\n\t\tid: {\n\t\t\ttype: 'number',\n\t\t\tdefault: '-1',\n\t\t},\n\t},\n\ttransforms: {\n\t\tfrom: [\n\t\t\t{\n\t\t\t\ttype: 'shortcode',\n\t\t\t\ttag: 'wptb',\n\t\t\t\tattributes: {\n\t\t\t\t\tid: {\n\t\t\t\t\t\ttype: 'number',\n\t\t\t\t\t\tshortcode: (named) => {\n\t\t\t\t\t\t\treturn named.id;\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tpriority: 1,\n\t\t\t},\n\t\t],\n\t},\n\tedit: ({ attributes, setAttributes }) => {\n\t\treturn <TableBlockApp attributes={attributes} setAttributes={setAttributes} blockData={blockData} />;\n\t},\n\tsave: ({ attributes }) => {\n\t\treturn attributes.id >= 0 ? `[wptb id=${attributes.id}]` : '';\n\t},\n});\n","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","function _extends() {\n  module.exports = _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;","(function() { module.exports = this[\"wp\"][\"apiFetch\"]; }());","(function() { module.exports = this[\"wp\"][\"blocks\"]; }());","(function() { module.exports = this[\"wp\"][\"element\"]; }());","(function() { module.exports = this[\"wp\"][\"i18n\"]; }());","(function() { module.exports = this[\"React\"]; }());","(function() { module.exports = this[\"ReactDOM\"]; }());"],"sourceRoot":""}