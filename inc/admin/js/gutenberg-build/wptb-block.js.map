<<<<<<< HEAD
{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./inc/admin/js/core/gutenberg-src/components/BlockButton.js","webpack:///./inc/admin/js/core/gutenberg-src/components/Builder.js","webpack:///./inc/admin/js/core/gutenberg-src/components/BusyOverlay.js","webpack:///./inc/admin/js/core/gutenberg-src/components/SelectedTableView.js","webpack:///./inc/admin/js/core/gutenberg-src/components/TableBlock.js","webpack:///./inc/admin/js/core/gutenberg-src/components/TableBlockInfoItem.js","webpack:///./inc/admin/js/core/gutenberg-src/components/TableInspectorControls.js","webpack:///./inc/admin/js/core/gutenberg-src/components/TableList.js","webpack:///./inc/admin/js/core/gutenberg-src/components/TablePreview.js","webpack:///./inc/admin/js/core/gutenberg-src/components/TableSearch.js","webpack:///./inc/admin/js/core/gutenberg-src/components/TableSelect.js","webpack:///./inc/admin/js/core/gutenberg-src/components/WptbOverlay.js","webpack:///./inc/admin/js/core/gutenberg-src/containers/TableBlockApp.js","webpack:///./inc/admin/js/core/gutenberg-src/functions/withContext.js","webpack:///./inc/admin/js/core/gutenberg-src/style/block-style.sass","webpack:///./inc/admin/js/core/gutenberg-src/wptb-block.js","webpack:///./node_modules/@babel/runtime/helpers/arrayLikeToArray.js","webpack:///./node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack:///./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/createClass.js","webpack:///./node_modules/@babel/runtime/helpers/defineProperty.js","webpack:///./node_modules/@babel/runtime/helpers/extends.js","webpack:///./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/inherits.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack:///./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack:///./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/slicedToArray.js","webpack:///./node_modules/@babel/runtime/helpers/typeof.js","webpack:///./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","webpack:///external {\"this\":[\"wp\",\"apiFetch\"]}","webpack:///external {\"this\":[\"wp\",\"blockEditor\"]}","webpack:///external {\"this\":[\"wp\",\"blocks\"]}","webpack:///external {\"this\":[\"wp\",\"components\"]}","webpack:///external {\"this\":[\"wp\",\"data\"]}","webpack:///external {\"this\":[\"wp\",\"element\"]}","webpack:///external {\"this\":[\"wp\",\"i18n\"]}","webpack:///external {\"this\":\"React\"}","webpack:///external {\"this\":\"ReactDOM\"}"],"names":["BlockButton","type","onClick","children","disabled","Builder","builderUrl","show","builderVisibility","updateSelection","useState","gutenbergUrl","setUrl","frameLoaded","setFrameLoaded","ref","useRef","prepareUrl","val","parsedUrl","URL","searchParams","append","toString","useEffect","togglePreferenceValue","select","getPreference","fullscreenMode","dispatch","toggleFeature","current","addEventListener","refDocument","contentDocument","contentWindow","document","detail","display","BusyOverlay","SelectedTableView","selectedTable","footerRightPortal","changeToSelect","content","ReactDOM","createPortal","__","TableBlock","props","state","selectedId","Number","parseInt","attributes","id","savedId","searchTerm","fullPreview","showBuilder","selectScreen","expanded","toggleBlock","bind","slideMain","rowSelected","updateSearch","filteredTables","saveTable","setSelectScreen","openNewTableBuilder","openTableEditBuilder","setBuilderVisibility","mainRef","React","createRef","setState","getTables","then","e","preventDefault","direction","jQuery","tables","filter","t","regexp","RegExp","test","title","setAttributes","setSavedTable","blockData","url","savedTable","isFetching","length","Component","withContext","TableBlockInfoItem","label","value","TableBlockInspector","header","table","_x","wptb_table_tags","map","name","join","Intl","DateTimeFormat","format","Date","modified","TableList","indicateFoundTerm","parsedVal","replace","__html","TablePreview","scale","tableCssUrl","previewPadding","prepareStylesheet","handler","root","styleSheet","createElement","setAttribute","appendChild","undefined","elem","attachShadow","mode","Object","keys","prototype","hasOwnProperty","call","shadowRoot","range","createRange","setStart","contentElement","createContextualFragment","previewWrapper","previewTable","querySelector","maxWidth","dataset","wptbTableContainerMaxWidth","tableWidth","fullPreviewWidth","style","width","innerHTML","getBoundingClientRect","wrapperWidth","wrapperHeight","height","previewWidth","previewHeight","widthScale","heightScale","scaleVal","Math","min","transform","window","navigator","vendor","includes","borderCollapse","borderHorizontalSpacing","borderSpacingColumns","cellCount","wptbCellsWidthAutoCount","marginLeft","TableSearch","target","TableSelect","WptbOverlay","TableBlockApp","fetching","setFetch","status","apiFetch","path","meta","_wptb_content_","rendered","TableContext","createContext","WithTableContextComponent","context","wptbBlockData","registerBlockType","blockName","description","category","icon","default","transforms","from","tag","shortcode","named","priority","edit","save"],"mappings":"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","file":"wptb-block.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./inc/admin/js/core/gutenberg-src/wptb-block.js\");\n","import React from 'react';\n\nexport default function BlockButton({ type, onClick, children, disabled }) {\n\treturn (\n\t\t<div\n\t\t\tonClick={onClick}\n\t\t\tclassName={`wptb-block-button wptb-unselectable ${type || 'primary'} ${\n\t\t\t\tdisabled ? 'wptb-block-button-disabled' : ''\n\t\t\t}`}\n\t\t>\n\t\t\t{children}\n\t\t</div>\n\t);\n}\n","import React, { Fragment, useState, useEffect, useRef } from 'react';\nimport { select, dispatch } from '@wordpress/data';\nimport BusyOverlay from './BusyOverlay';\n\nexport default function Builder({ builderUrl, show, builderVisibility, updateSelection }) {\n\tconst [gutenbergUrl, setUrl] = useState(builderUrl);\n\tconst [frameLoaded, setFrameLoaded] = useState(false);\n\tconst ref = useRef(null);\n\n\tfunction prepareUrl(val) {\n\t\tif (val) {\n\t\t\tconst parsedUrl = new URL(val);\n\t\t\tparsedUrl.searchParams.append('gutenberg', true);\n\t\t\tsetUrl(parsedUrl.toString());\n\t\t}\n\t}\n\n\tuseEffect(() => {\n\t\tprepareUrl(builderUrl);\n\n\t\tif (show) {\n\t\t\tconst togglePreferenceValue = select('core/edit-post').getPreference('features').fullscreenMode;\n\t\t\tif (!togglePreferenceValue) {\n\t\t\t\tdispatch('core/edit-post').toggleFeature('fullscreenMode');\n\t\t\t}\n\t\t\tsetFrameLoaded(false);\n\t\t\tref.current.addEventListener('load', () => {\n\t\t\t\tsetFrameLoaded(true);\n\t\t\t\tconst refDocument = ref.current.contentDocument || ref.current.contentWindow.document;\n\t\t\t\trefDocument.addEventListener('gutenbergClose', ({ detail }) => {\n\t\t\t\t\tif (detail !== true) {\n\t\t\t\t\t\tif (updateSelection && typeof updateSelection === 'function') {\n\t\t\t\t\t\t\tupdateSelection(detail);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbuilderVisibility(false);\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t});\n\n\treturn (\n\t\t<div className={`wptb-block-builder-wrapper ${show ? '' : 'hide'}`}>\n\t\t\t{show ? (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<div\n\t\t\t\t\t\tstyle={{ display: frameLoaded ? 'none' : 'flex' }}\n\t\t\t\t\t\tclassName={'wptb-block-builder-load-indicator'}\n\t\t\t\t\t>\n\t\t\t\t\t\t<BusyOverlay show={true} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<iframe ref={ref} className={'wptb-block-builder'} src={gutenbergUrl} />\n\t\t\t\t</Fragment>\n\t\t\t) : (\n\t\t\t\t''\n\t\t\t)}\n\t\t</div>\n\t);\n}\n","import React from 'react';\nimport WptbOverlay from './WptbOverlay';\n\nexport default function BusyOverlay({ show }) {\n\treturn (\n\t\t<WptbOverlay show={show}>\n\t\t\t<div className={'wptb-busy-overlay dashicons dashicons-update-alt'} />\n\t\t</WptbOverlay>\n\t);\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { __ } from '@wordpress/i18n';\nimport TablePreview from './TablePreview';\nimport BlockButton from './BlockButton';\n\nexport default function SelectedTableView({ selectedTable, footerRightPortal, changeToSelect }) {\n\treturn (\n\t\t<div className={'wptb-table-selected-view wptb-basic-appear-anim'}>\n\t\t\t<TablePreview scale={true} content={selectedTable ? selectedTable.content : null} />\n\t\t\t{footerRightPortal !== null\n\t\t\t\t? ReactDOM.createPortal(\n\t\t\t\t\t\t<BlockButton onClick={changeToSelect}>{__('change', 'wp-table-builder')}</BlockButton>,\n\t\t\t\t\t\tfooterRightPortal.current\n\t\t\t\t  )\n\t\t\t\t: ''}\n\t\t</div>\n\t);\n}\n","import React, { Fragment } from 'react';\nimport { __ } from '@wordpress/i18n';\nimport TableSelect from './TableSelect';\nimport SelectedTableView from './SelectedTableView';\nimport TablePreview from './TablePreview';\nimport Builder from './Builder';\nimport { withContext } from '../functions/withContext';\nimport BusyOverlay from './BusyOverlay';\nimport TableBlockInspector from './TableInspectorControls';\n\n/**\n * TableBlock component.\n *\n * This component handle UI part of the gutenberg block.\n */\nclass TableBlock extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tselectedId: Number.parseInt(this.props.attributes.id, 10),\n\t\t\tsavedId: Number.parseInt(this.props.attributes.id, 10),\n\t\t\tsearchTerm: '',\n\t\t\tfooterRightPortal: null,\n\t\t\tfullPreview: false,\n\t\t\tshowBuilder: false,\n\t\t\tbuilderUrl: props.builderUrl,\n\t\t};\n\n\t\tthis.state.selectScreen = this.state.savedId === -1;\n\t\tthis.state.expanded = this.state.savedId === -1;\n\n\t\tthis.toggleBlock = this.toggleBlock.bind(this);\n\t\tthis.slideMain = this.slideMain.bind(this);\n\t\tthis.rowSelected = this.rowSelected.bind(this);\n\t\tthis.selectedTable = this.selectedTable.bind(this);\n\t\tthis.updateSearch = this.updateSearch.bind(this);\n\t\tthis.filteredTables = this.filteredTables.bind(this);\n\t\tthis.saveTable = this.saveTable.bind(this);\n\t\tthis.changeToSelect = this.changeToSelect.bind(this);\n\t\tthis.setSelectScreen = this.setSelectScreen.bind(this);\n\t\tthis.openNewTableBuilder = this.openNewTableBuilder.bind(this);\n\t\tthis.openTableEditBuilder = this.openTableEditBuilder.bind(this);\n\t\tthis.setBuilderVisibility = this.setBuilderVisibility.bind(this);\n\t\tthis.updateSelection = this.updateSelection.bind(this);\n\n\t\tthis.mainRef = React.createRef();\n\t\tthis.footerRightPortal = React.createRef();\n\t}\n\n\t/**\n\t * Component mounted lifecycle hook.\n\t */\n\tcomponentDidMount() {\n\t\tthis.slideMain();\n\t\tthis.setState({ footerRightPortal: this.footerRightPortal });\n\t}\n\n\t// Update selection depending on builder sent id.\n\tupdateSelection(id) {\n\t\treturn this.props.getTables().then(() => {\n\t\t\tthis.setState({ selectedId: Number.parseInt(id, 10) });\n\t\t\tthis.saveTable();\n\t\t});\n\t}\n\n\t/**\n\t * Toggle visibility status of block main area.\n\t *\n\t * @param {Event} e html event\n\t */\n\ttoggleBlock(e) {\n\t\te.preventDefault();\n\t\tthis.setState((state) => {\n\t\t\treturn { expanded: !state.expanded };\n\t\t});\n\t}\n\n\t/**\n\t * Slide up/down main area of toggle depending on block toggle status.\n\t */\n\tslideMain() {\n\t\tconst direction = this.state.expanded ? 'slideDown' : 'slideUp';\n\t\tjQuery(this.mainRef.current)[direction]();\n\t}\n\n\t/**\n\t * Filter tables according to search term.\n\t *\n\t * @return {Array} filtered tables\n\t */\n\tfilteredTables() {\n\t\tif (this.state.searchTerm === '') {\n\t\t\treturn this.props.tables;\n\t\t}\n\n\t\treturn this.props.tables.filter((t) => {\n\t\t\tconst regexp = new RegExp(`(${this.state.searchTerm})`, 'gi');\n\n\t\t\treturn regexp.test(t.title) || regexp.test(`${t.id}`);\n\t\t});\n\t}\n\n\t/**\n\t * Component updated lifecycle hook.\n\t */\n\tcomponentDidUpdate() {\n\t\tthis.slideMain();\n\t\tthis.props.setAttributes({ id: this.state.savedId });\n\t}\n\n\t/**\n\t * Row selected callback function.\n\t *\n\t * @param {number} id selected table id\n\t * @return {function(*): void} click callback function\n\t */\n\trowSelected(id) {\n\t\treturn (e) => {\n\t\t\te.preventDefault();\n\t\t\tthis.setState({ selectedId: id });\n\t\t};\n\t}\n\n\t/**\n\t * Get selected table.\n\t *\n\t * @return {Object} selected table object\n\t */\n\tselectedTable() {\n\t\treturn this.props.tables.filter((t) => {\n\t\t\treturn this.state.selectedId === t.id;\n\t\t})[0];\n\t}\n\n\t/**\n\t * Get saved table for the block.\n\t *\n\t * @return {Object|undefined} saved table\n\t */\n\tsavedTable() {\n\t\treturn this.props.tables.filter((t) => {\n\t\t\treturn this.state.savedId === t.id;\n\t\t})[0];\n\t}\n\n\t/**\n\t * Set selected table as saved table to bind to block and its shortcode.\n\t */\n\tsaveTable() {\n\t\tthis.props.setSavedTable(this.state.selectedId);\n\t\tthis.setState({ savedId: this.state.selectedId, selectScreen: false });\n\t}\n\n\t/**\n\t * Update search term.\n\t *\n\t * @param {Event} e element event\n\t */\n\tupdateSearch(e) {\n\t\tthis.setState({ searchTerm: e });\n\t}\n\n\t/**\n\t * Change current screen to table select.\n\t */\n\tchangeToSelect() {\n\t\tthis.setState({ selectScreen: true });\n\t}\n\n\t/**\n\t * Change visibility of select screen.\n\t *\n\t * @param {boolean} val status\n\t */\n\tsetSelectScreen(val) {\n\t\tthis.setState({ selectScreen: val });\n\t}\n\n\t/**\n\t * Set visibility of builder page.\n\t *\n\t * @param {boolean} val show/hide\n\t */\n\tsetBuilderVisibility(val) {\n\t\tthis.setState({ showBuilder: val });\n\t}\n\n\t/**\n\t * Open builder page for new table.\n\t */\n\topenNewTableBuilder() {\n\t\tthis.setState({ builderUrl: this.props.blockData.builderUrl, showBuilder: true });\n\t}\n\n\t/**\n\t * Open builder page for table edit.\n\t */\n\topenTableEditBuilder() {\n\t\tconst url = new URL(this.props.blockData.builderUrl);\n\t\turl.searchParams.append('table', this.state.selectScreen ? this.state.selectedId : this.state.savedId);\n\n\t\tthis.setState({ builderUrl: url.toString(), showBuilder: true });\n\t}\n\n\t/**\n\t * Render component to DOM.\n\t *\n\t * @return {JSX.Element} rendered component\n\t */\n\trender() {\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<TableBlockInspector\n\t\t\t\t\theader={__('Info', 'wp-table-builder')}\n\t\t\t\t\ttable={this.state.selectScreen ? this.selectedTable() : this.props.savedTable}\n\t\t\t\t/>\n\t\t\t\t<div\n\t\t\t\t\tstyle={{ display: this.state.fullPreview ? 'none' : 'grid' }}\n\t\t\t\t\tclassName={'wptb-block-wrapper wptb-basic-appear-anim'}\n\t\t\t\t>\n\t\t\t\t\t<BusyOverlay show={this.props.isFetching()} />\n\t\t\t\t\t<div className={'wptb-block-header'}>\n\t\t\t\t\t\t<div className={'wptb-plugin-left-toolbox'}>\n\t\t\t\t\t\t\t<div className={'wptb-plugin-brand'}>WP Table Builder</div>\n\t\t\t\t\t\t\t<div className={'wptb-plugin-selected-header-info'}>\n\t\t\t\t\t\t\t\t{this.props.savedTable\n\t\t\t\t\t\t\t\t\t? this.props.savedTable.title\n\t\t\t\t\t\t\t\t\t: __('No table selected', 'wp-table-builder')}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={'wptb-header-toolbox'}>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName={'wptb-block-tool dashicons dashicons-insert'}\n\t\t\t\t\t\t\t\ttitle={__('new table', 'wp-table-builder')}\n\t\t\t\t\t\t\t\tonClick={this.openNewTableBuilder}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{this.filteredTables().length > 0 ? (\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName={'wptb-block-tool dashicons dashicons-edit-large'}\n\t\t\t\t\t\t\t\t\ttitle={__('edit table', 'wp-table-builder')}\n\t\t\t\t\t\t\t\t\tonClick={this.openTableEditBuilder}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t''\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{this.state.savedId >= 0 ? (\n\t\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclassName={'wptb-block-tool dashicons dashicons-fullscreen-alt'}\n\t\t\t\t\t\t\t\t\t\tonClick={() => this.setState({ fullPreview: true })}\n\t\t\t\t\t\t\t\t\t\ttitle={__('maximize preview', 'wp-table-builder')}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t''\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName={'wptb-block-toggle dashicons wptb-block-tool'}\n\t\t\t\t\t\t\t\taria-expanded={this.state.expanded}\n\t\t\t\t\t\t\t\tonClick={this.toggleBlock}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div ref={this.mainRef}>\n\t\t\t\t\t\t<div className={'wptb-block-main'}>\n\t\t\t\t\t\t\t{this.state.selectScreen ? (\n\t\t\t\t\t\t\t\t<TableSelect\n\t\t\t\t\t\t\t\t\tsearchTerm={this.state.searchTerm}\n\t\t\t\t\t\t\t\t\tupdateSearch={this.updateSearch}\n\t\t\t\t\t\t\t\t\tselectedId={this.state.selectedId}\n\t\t\t\t\t\t\t\t\trowSelected={this.rowSelected}\n\t\t\t\t\t\t\t\t\tfilteredTables={this.filteredTables}\n\t\t\t\t\t\t\t\t\tselectedTable={this.selectedTable()}\n\t\t\t\t\t\t\t\t\tsaveTable={this.saveTable}\n\t\t\t\t\t\t\t\t\tfooterRightPortal={this.state.footerRightPortal}\n\t\t\t\t\t\t\t\t\tsavedId={this.state.savedId}\n\t\t\t\t\t\t\t\t\tsetSelectScreen={this.setSelectScreen}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<SelectedTableView\n\t\t\t\t\t\t\t\t\tfooterRightPortal={this.state.footerRightPortal}\n\t\t\t\t\t\t\t\t\tselectedTable={this.props.savedTable}\n\t\t\t\t\t\t\t\t\tchangeToSelect={this.changeToSelect}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={'wptb-block-footer'}>\n\t\t\t\t\t\t\t<div className={'wptb-block-footer-left'} />\n\t\t\t\t\t\t\t<div ref={this.footerRightPortal} className={'wptb-block-footer-right'} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tstyle={{ display: this.state.fullPreview ? 'flex' : 'none' }}\n\t\t\t\t\tclassName={'wptb-block-full-preview wptb-basic-appear-anim'}\n\t\t\t\t>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t'dashicons dashicons-fullscreen-exit-alt wptb-block-minimize-button wptb-block-tool wptb-block-shadow'\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonClick={() => this.setState({ fullPreview: false })}\n\t\t\t\t\t\ttitle={__('minimize preview', 'wp-table-builder')}\n\t\t\t\t\t/>\n\t\t\t\t\t<TablePreview content={this.props.savedTable ? this.props.savedTable.content : null} />\n\t\t\t\t</div>\n\t\t\t\t<Builder\n\t\t\t\t\tbuilderVisibility={this.setBuilderVisibility}\n\t\t\t\t\tshow={this.state.showBuilder}\n\t\t\t\t\tbuilderUrl={this.state.builderUrl}\n\t\t\t\t\tupdateSelection={this.updateSelection}\n\t\t\t\t/>\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n\n/* @module TableBlock module */\nexport default withContext(TableBlock);\n","import React from 'react';\nimport { PanelRow } from '@wordpress/components';\n\nexport default function TableBlockInfoItem({ label, value }) {\n\treturn (\n\t\t<PanelRow>\n\t\t\t<div className={'wptb-block-info-label'}>{label}</div>\n\t\t\t<div className={'wptb-block-info-value'}>{value}</div>\n\t\t</PanelRow>\n\t);\n}\n","import React, { Fragment } from 'react';\nimport { InspectorControls } from '@wordpress/block-editor';\nimport { Panel, PanelBody, PanelRow } from '@wordpress/components';\nimport { __, _x } from '@wordpress/i18n';\nimport TableBlockInfoItem from './TableBlockInfoItem';\n\nexport default function TableBlockInspector({ header, table }) {\n\treturn (\n\t\t<InspectorControls>\n\t\t\t<Panel>\n\t\t\t\t<PanelBody title={header} initialOpen={true}>\n\t\t\t\t\t{table ? (\n\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t<TableBlockInfoItem label={__('ID', 'wp-table-builder')} value={table.id} />\n\t\t\t\t\t\t\t<TableBlockInfoItem label={__('title', 'wp-table-builder')} value={table.title} />\n\t\t\t\t\t\t\t<TableBlockInfoItem\n\t\t\t\t\t\t\t\tlabel={__('shortcode', 'wp-table-builder')}\n\t\t\t\t\t\t\t\tvalue={`[wptb id=${table.id}]`}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<TableBlockInfoItem\n\t\t\t\t\t\t\t\tlabel={_x('tags', 'modified date', 'wp-table-builder')}\n\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\ttable.wptb_table_tags.length > 0\n\t\t\t\t\t\t\t\t\t\t? table.wptb_table_tags.map((t) => t.name).join(',')\n\t\t\t\t\t\t\t\t\t\t: __('No Tags', 'wp-table-builder')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<TableBlockInfoItem\n\t\t\t\t\t\t\t\tlabel={_x('Modified at', 'modified date', 'wp-table-builder')}\n\t\t\t\t\t\t\t\tvalue={new Intl.DateTimeFormat('default').format(new Date(table.modified))}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<PanelRow>\n\t\t\t\t\t\t\t<i>{__('no table selected', 'wp-table-builder')}</i>\n\t\t\t\t\t\t</PanelRow>\n\t\t\t\t\t)}\n\t\t\t\t</PanelBody>\n\t\t\t</Panel>\n\t\t</InspectorControls>\n\t);\n}\n","import React from 'react';\nimport { __ } from '@wordpress/i18n';\nimport WptbOverlay from './WptbOverlay';\n\nexport default function TableList({ tables, rowSelected, selectedId, searchTerm }) {\n\tconst indicateFoundTerm = (value) => {\n\t\tconst parsedVal = `${value}`;\n\t\tconst regexp = new RegExp(`(${searchTerm})`, 'ig');\n\n\t\treturn parsedVal.replace(regexp, '<span class=\"wptb-block-search-indicator\">$&</span>');\n\t};\n\n\treturn (\n\t\t<div className={'wptb-table-list'}>\n\t\t\t{tables.map((table) => {\n\t\t\t\treturn (\n\t\t\t\t\t<div\n\t\t\t\t\t\tonClick={rowSelected(table.id)}\n\t\t\t\t\t\tclassName={`wptb-table-list-row wptb-basic-appear-anim ${\n\t\t\t\t\t\t\tselectedId === table.id ? 'selected' : ''\n\t\t\t\t\t\t}`}\n\t\t\t\t\t\tkey={table.id}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={'wptb-table-list-title'}\n\t\t\t\t\t\t\tdangerouslySetInnerHTML={{ __html: indicateFoundTerm(table.title) }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={'wptb-table-list-id'}\n\t\t\t\t\t\t\tdangerouslySetInnerHTML={{ __html: indicateFoundTerm(table.id) }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t})}\n\t\t\t<WptbOverlay show={tables.length <= 0}>{__('no tables found', 'wp-table-builder')}</WptbOverlay>\n\t\t</div>\n\t);\n}\n","import React, { useEffect } from 'react';\nimport { withContext } from '../functions/withContext';\n\nfunction TablePreview({ content, scale, blockData: { tableCssUrl } }) {\n\tconst ref = React.createRef();\n\tconst previewPadding = 40;\n\n\tfunction prepareStylesheet(handler, url, root) {\n\t\tconst styleSheet = document.createElement('link');\n\t\tstyleSheet.setAttribute('rel', 'stylesheet');\n\t\tstyleSheet.setAttribute('href', url);\n\t\tstyleSheet.setAttribute('media', 'all');\n\t\tstyleSheet.setAttribute('id', handler);\n\t\troot.appendChild(styleSheet);\n\t}\n\n\tuseEffect(() => {\n\t\tif (content !== null && tableCssUrl !== undefined) {\n\t\t\tconst elem = document.createElement('div');\n\n\t\t\telem.attachShadow({ mode: 'open' });\n\n\t\t\t// eslint-disable-next-line array-callback-return\n\t\t\tObject.keys(tableCssUrl).map((handler) => {\n\t\t\t\tif (Object.prototype.hasOwnProperty.call(tableCssUrl, handler)) {\n\t\t\t\t\tprepareStylesheet(handler, tableCssUrl[handler], elem.shadowRoot);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// add table content to shadowroot\n\t\t\tconst range = document.createRange();\n\t\t\trange.setStart(document, 0);\n\t\t\tconst contentElement = range.createContextualFragment(content);\n\t\t\telem.shadowRoot.appendChild(contentElement);\n\n\t\t\tconst previewWrapper = ref.current;\n\t\t\tconst previewTable = elem.shadowRoot.querySelector('table');\n\t\t\tconst maxWidth = previewTable.dataset.wptbTableContainerMaxWidth;\n\n\t\t\tlet tableWidth = '700px';\n\t\t\tlet fullPreviewWidth = '100%';\n\n\t\t\tif (maxWidth) {\n\t\t\t\ttableWidth = `${maxWidth}px`;\n\t\t\t\tfullPreviewWidth = `${maxWidth}px`;\n\t\t\t}\n\t\t\tpreviewTable.style.width = scale ? tableWidth : fullPreviewWidth;\n\n\t\t\t// clear content of preview wrapper\n\t\t\tpreviewWrapper.innerHTML = '';\n\t\t\tpreviewWrapper.appendChild(elem);\n\n\t\t\tif (scale) {\n\t\t\t\tconst { width: wrapperWidth, height: wrapperHeight } = previewWrapper.getBoundingClientRect();\n\t\t\t\tconst { width: previewWidth, height: previewHeight } = previewTable.getBoundingClientRect();\n\n\t\t\t\tconst widthScale = wrapperWidth / (previewWidth + previewPadding);\n\t\t\t\tconst heightScale = wrapperHeight / (previewHeight + previewPadding);\n\n\t\t\t\tconst scaleVal = Math.min(widthScale, heightScale);\n\t\t\t\tpreviewTable.style.transform = `scale(${scaleVal})`;\n\n\t\t\t\t// fix for chrome browsers where table previews are distorted for tables with separated columns and row\n\t\t\t\tif (window.navigator.vendor.includes('Google')) {\n\t\t\t\t\tif (previewTable.style.borderCollapse === 'separate') {\n\t\t\t\t\t\tconst borderHorizontalSpacing = parseInt(previewTable.dataset.borderSpacingColumns, 10);\n\t\t\t\t\t\tconst cellCount = parseInt(previewTable.dataset.wptbCellsWidthAutoCount, 10);\n\n\t\t\t\t\t\tpreviewTable.style.marginLeft = `${(cellCount + 1) * borderHorizontalSpacing * -1}px`;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n\treturn (\n\t\t<div ref={ref} className={'wptb-table-preview wptb-unselectable'}>\n\t\t\t<span className=\"dashicons dashicons-grid-view no-table-selected-preview\" />\n\t\t</div>\n\t);\n}\n\nexport default withContext(TablePreview);\n","import { __ } from '@wordpress/i18n';\nimport React from 'react';\n\n/**\n * Table search component.\n *\n * @param {string} searchTerm current search term\n * @param {Function} updateSearch function to update search term state on calling component\n * @return {JSX.Element} table search component\n * @class\n */\nexport default function TableSearch({ searchTerm, updateSearch }) {\n\treturn (\n\t\t<div className={'wptb-table-search'}>\n\t\t\t<input\n\t\t\t\tvalue={searchTerm}\n\t\t\t\tonChange={(e) => updateSearch(e.target.value)}\n\t\t\t\ttype=\"text\"\n\t\t\t\tplaceholder={__('search for tables', 'wp-table-builder')}\n\t\t\t/>\n\t\t\t{searchTerm !== '' ? (\n\t\t\t\t<div className={'wptb-search-clear'} onClick={() => updateSearch('')}>\n\t\t\t\t\tX\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t''\n\t\t\t)}\n\t\t</div>\n\t);\n}\n","import React, { Fragment } from 'react';\nimport ReactDOM from 'react-dom';\nimport { __ } from '@wordpress/i18n';\nimport TableSearch from './TableSearch';\nimport TableList from './TableList';\nimport TablePreview from './TablePreview';\nimport BlockButton from './BlockButton';\n\nexport default function TableSelect({\n\tsearchTerm,\n\tupdateSearch,\n\tselectedId,\n\trowSelected,\n\tfilteredTables,\n\tselectedTable,\n\tsaveTable,\n\tfooterRightPortal,\n\tsavedId,\n\tsetSelectScreen,\n}) {\n\treturn (\n\t\t<div className={'wptb-table-select'}>\n\t\t\t<div className={'wptb-table-list-wrapper'}>\n\t\t\t\t<TableSearch searchTerm={searchTerm} updateSearch={updateSearch} />\n\t\t\t\t<TableList\n\t\t\t\t\tsearchTerm={searchTerm}\n\t\t\t\t\tselectedId={selectedId}\n\t\t\t\t\trowSelected={rowSelected}\n\t\t\t\t\ttables={filteredTables()}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<TablePreview scale={true} content={selectedTable ? selectedTable.content : null} />\n\t\t\t{footerRightPortal !== null\n\t\t\t\t? ReactDOM.createPortal(\n\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t{savedId >= 0 ? (\n\t\t\t\t\t\t\t\t<BlockButton onClick={() => setSelectScreen(false)} type={'negative'}>\n\t\t\t\t\t\t\t\t\t{__('cancel', 'wp-table-builder')}\n\t\t\t\t\t\t\t\t</BlockButton>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t''\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<BlockButton disabled={!selectedTable} onClick={saveTable}>\n\t\t\t\t\t\t\t\t{__('select', 'wp-table-builder')}\n\t\t\t\t\t\t\t</BlockButton>\n\t\t\t\t\t\t</Fragment>,\n\t\t\t\t\t\tfooterRightPortal.current\n\t\t\t\t  )\n\t\t\t\t: ''}\n\t\t</div>\n\t);\n}\n","import React from 'react';\n\nexport default function WptbOverlay({ show, children }) {\n\treturn (\n\t\t<div className={'wptb-block-overlay wptb-basic-appear-anim'} style={{ display: show ? 'flex' : 'none' }}>\n\t\t\t{children}\n\t\t</div>\n\t);\n}\n","import React from 'react';\nimport apiFetch from '@wordpress/api-fetch';\nimport { __ } from '@wordpress/i18n';\nimport { TableContext } from '../functions/withContext';\nimport TableBlock from '../components/TableBlock';\n\nexport default class TableBlockApp extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tconst { attributes, setAttributes, blockData } = props;\n\n\t\tthis.setSavedTable = this.setSavedTable.bind(this);\n\n\t\tthis.state = {\n\t\t\ttables: [],\n\t\t\tattributes,\n\t\t\tsetAttributes,\n\t\t\tsavedTable: null,\n\t\t\tsetSavedTable: this.setSavedTable,\n\t\t\tblockData,\n\t\t\tfetching: false,\n\t\t\tisFetching: () => {\n\t\t\t\treturn this.state.fetching;\n\t\t\t},\n\t\t\tsetFetch: (status) => {\n\t\t\t\tthis.setState({ fetching: status });\n\t\t\t},\n\t\t\tgetTables: () => {\n\t\t\t\tthis.state.setFetch(true);\n\t\t\t\treturn apiFetch({ path: '/wp/v2/wptb-tables?status=draft&per_page=-1' }).then((tables) => {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\ttables: tables.map((t) => {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t...t,\n\t\t\t\t\t\t\t\t...{\n\t\t\t\t\t\t\t\t\tid: t.id,\n\t\t\t\t\t\t\t\t\t// eslint-disable-next-line no-underscore-dangle\n\t\t\t\t\t\t\t\t\tcontent: t.meta._wptb_content_,\n\t\t\t\t\t\t\t\t\ttitle:\n\t\t\t\t\t\t\t\t\t\tt.title.rendered === ''\n\t\t\t\t\t\t\t\t\t\t\t? `${__('Table', 'wp-table-builder')} #${t.id}`\n\t\t\t\t\t\t\t\t\t\t\t: t.title.rendered,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}),\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.state.setFetch(false);\n\t\t\t\t});\n\t\t\t},\n\t\t};\n\t}\n\n\tsetSavedTable(id) {\n\t\tthis.setState({\n\t\t\tsavedTable: this.state.tables.filter((t) => {\n\t\t\t\treturn t.id === id;\n\t\t\t})[0],\n\t\t});\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.state.getTables().then(() => {\n\t\t\tthis.setSavedTable(this.state.attributes.id);\n\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<TableContext.Provider value={this.state}>\n\t\t\t\t<TableBlock />\n\t\t\t</TableContext.Provider>\n\t\t);\n\t}\n}\n","import React from 'react';\n\n/**\n * React context for table data.\n *\n * @type {React.Context<{attributes: {}, savedTable: null, setAttributes: setAttributes, setSavedTable: setSavedTable, blockData: {}}>}\n */\nexport const TableContext = React.createContext({\n\tattributes: {},\n\tsetAttributes: () => {},\n\tsavedTable: null,\n\tsetSavedTable: () => {},\n\tblockData: {},\n});\n\n/**\n * HOC for table context.\n *\n * @param {Function | Class} Component react component to be wrapped\n * @return {function(*): *}\n */\nexport function withContext(Component) {\n\treturn function WithTableContextComponent(props) {\n\t\treturn <TableContext.Consumer>{(context) => <Component {...context} {...props} />}</TableContext.Consumer>;\n\t};\n}\n","// extracted by mini-css-extract-plugin","import { registerBlockType } from '@wordpress/blocks';\nimport { __ } from '@wordpress/i18n';\nimport React from 'react';\nimport TableBlockApp from './containers/TableBlockApp';\n// eslint-disable-next-line no-unused-vars\nimport blockStyle from './style/block-style.sass';\n\nconst blockData = { ...wptbBlockData };\n\nwptbBlockData = undefined;\n\nregisterBlockType(blockData.blockName, {\n\ttitle: __('WP Table Builder', 'wp-table-builder'),\n\tdescription: __('WP Table Builder editor block', 'wp-table-builder'),\n\tcategory: 'widgets',\n\ticon: 'editor-table',\n\tattributes: {\n\t\tid: {\n\t\t\ttype: 'number',\n\t\t\tdefault: '-1',\n\t\t},\n\t},\n\ttransforms: {\n\t\tfrom: [\n\t\t\t{\n\t\t\t\ttype: 'shortcode',\n\t\t\t\ttag: 'wptb',\n\t\t\t\tattributes: {\n\t\t\t\t\tid: {\n\t\t\t\t\t\ttype: 'number',\n\t\t\t\t\t\tshortcode: ({ named }) => {\n\t\t\t\t\t\t\treturn Number.parseInt(named.id, 10);\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tpriority: 1,\n\t\t\t},\n\t\t],\n\t},\n\tedit: ({ attributes, setAttributes }) => {\n\t\treturn <TableBlockApp attributes={attributes} setAttributes={setAttributes} blockData={blockData} />;\n\t},\n\tsave: ({ attributes }) => {\n\t\treturn attributes.id >= 0 ? `[wptb id=${attributes.id}]` : '';\n\t},\n});\n","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","function _extends() {\n  module.exports = _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;","(function() { module.exports = this[\"wp\"][\"apiFetch\"]; }());","(function() { module.exports = this[\"wp\"][\"blockEditor\"]; }());","(function() { module.exports = this[\"wp\"][\"blocks\"]; }());","(function() { module.exports = this[\"wp\"][\"components\"]; }());","(function() { module.exports = this[\"wp\"][\"data\"]; }());","(function() { module.exports = this[\"wp\"][\"element\"]; }());","(function() { module.exports = this[\"wp\"][\"i18n\"]; }());","(function() { module.exports = this[\"React\"]; }());","(function() { module.exports = this[\"ReactDOM\"]; }());"],"sourceRoot":""}
=======
{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./inc/admin/js/core/gutenberg-src/components/BlockButton.js","webpack:///./inc/admin/js/core/gutenberg-src/components/Builder.js","webpack:///./inc/admin/js/core/gutenberg-src/components/BusyOverlay.js","webpack:///./inc/admin/js/core/gutenberg-src/components/SelectedTableView.js","webpack:///./inc/admin/js/core/gutenberg-src/components/TableBlock.js","webpack:///./inc/admin/js/core/gutenberg-src/components/TableBlockInfoItem.js","webpack:///./inc/admin/js/core/gutenberg-src/components/TableInspectorControls.js","webpack:///./inc/admin/js/core/gutenberg-src/components/TableList.js","webpack:///./inc/admin/js/core/gutenberg-src/components/TablePreview.js","webpack:///./inc/admin/js/core/gutenberg-src/components/TableSearch.js","webpack:///./inc/admin/js/core/gutenberg-src/components/TableSelect.js","webpack:///./inc/admin/js/core/gutenberg-src/components/WptbOverlay.js","webpack:///./inc/admin/js/core/gutenberg-src/containers/TableBlockApp.js","webpack:///./inc/admin/js/core/gutenberg-src/functions/withContext.js","webpack:///./inc/admin/js/core/gutenberg-src/style/block-style.sass","webpack:///./inc/admin/js/core/gutenberg-src/wptb-block.js","webpack:///./node_modules/@babel/runtime/helpers/arrayLikeToArray.js","webpack:///./node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack:///./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/createClass.js","webpack:///./node_modules/@babel/runtime/helpers/defineProperty.js","webpack:///./node_modules/@babel/runtime/helpers/extends.js","webpack:///./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/inherits.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack:///./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack:///./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/slicedToArray.js","webpack:///./node_modules/@babel/runtime/helpers/typeof.js","webpack:///./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","webpack:///external {\"this\":[\"wp\",\"apiFetch\"]}","webpack:///external {\"this\":[\"wp\",\"blockEditor\"]}","webpack:///external {\"this\":[\"wp\",\"blocks\"]}","webpack:///external {\"this\":[\"wp\",\"components\"]}","webpack:///external {\"this\":[\"wp\",\"data\"]}","webpack:///external {\"this\":[\"wp\",\"element\"]}","webpack:///external {\"this\":[\"wp\",\"i18n\"]}","webpack:///external {\"this\":\"React\"}","webpack:///external {\"this\":\"ReactDOM\"}"],"names":["BlockButton","type","onClick","children","disabled","Builder","builderUrl","show","builderVisibility","updateSelection","useState","gutenbergUrl","setUrl","frameLoaded","setFrameLoaded","ref","useRef","prepareUrl","val","parsedUrl","URL","searchParams","append","toString","useEffect","togglePreferenceValue","select","getPreference","fullscreenMode","dispatch","toggleFeature","current","addEventListener","refDocument","contentDocument","contentWindow","document","detail","display","BusyOverlay","SelectedTableView","selectedTable","footerRightPortal","changeToSelect","content","ReactDOM","createPortal","__","TableBlock","props","state","selectedId","Number","parseInt","attributes","id","savedId","searchTerm","fullPreview","showBuilder","selectScreen","expanded","toggleBlock","bind","slideMain","rowSelected","updateSearch","filteredTables","saveTable","setSelectScreen","openNewTableBuilder","openTableEditBuilder","setBuilderVisibility","mainRef","React","createRef","setState","getTables","then","e","preventDefault","direction","jQuery","tables","filter","t","regexp","RegExp","test","title","setAttributes","setSavedTable","blockData","url","savedTable","isFetching","length","Component","withContext","TableBlockInfoItem","label","value","TableBlockInspector","header","table","_x","wptb_table_tags","map","name","join","Intl","DateTimeFormat","format","Date","modified","TableList","indicateFoundTerm","parsedVal","replace","__html","TablePreview","scale","tableCssUrl","previewPadding","prepareStylesheet","handler","root","styleSheet","createElement","setAttribute","appendChild","undefined","elem","attachShadow","mode","Object","keys","prototype","hasOwnProperty","call","shadowRoot","range","createRange","setStart","contentElement","createContextualFragment","previewWrapper","previewTable","querySelector","maxWidth","dataset","wptbTableContainerMaxWidth","tableWidth","fullPreviewWidth","style","width","innerHTML","getBoundingClientRect","wrapperWidth","wrapperHeight","height","previewWidth","previewHeight","widthScale","heightScale","scaleVal","Math","min","transform","window","navigator","vendor","includes","borderCollapse","borderHorizontalSpacing","borderSpacingColumns","cellCount","wptbCellsWidthAutoCount","marginLeft","TableSearch","target","TableSelect","WptbOverlay","TableBlockApp","fetching","setFetch","status","apiFetch","path","meta","_wptb_prebuilt_","prebuiltStatus","_wptb_content_","rendered","TableContext","createContext","WithTableContextComponent","context","wptbBlockData","registerBlockType","blockName","description","category","icon","default","transforms","from","tag","shortcode","named","priority","edit","save"],"mappings":"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","file":"wptb-block.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./inc/admin/js/core/gutenberg-src/wptb-block.js\");\n","import React from 'react';\n\nexport default function BlockButton({ type, onClick, children, disabled }) {\n\treturn (\n\t\t<div\n\t\t\tonClick={onClick}\n\t\t\tclassName={`wptb-block-button wptb-unselectable ${type || 'primary'} ${\n\t\t\t\tdisabled ? 'wptb-block-button-disabled' : ''\n\t\t\t}`}\n\t\t>\n\t\t\t{children}\n\t\t</div>\n\t);\n}\n","import React, { Fragment, useState, useEffect, useRef } from 'react';\nimport { select, dispatch } from '@wordpress/data';\nimport BusyOverlay from './BusyOverlay';\n\nexport default function Builder({ builderUrl, show, builderVisibility, updateSelection }) {\n\tconst [gutenbergUrl, setUrl] = useState(builderUrl);\n\tconst [frameLoaded, setFrameLoaded] = useState(false);\n\tconst ref = useRef(null);\n\n\tfunction prepareUrl(val) {\n\t\tif (val) {\n\t\t\tconst parsedUrl = new URL(val);\n\t\t\tparsedUrl.searchParams.append('gutenberg', true);\n\t\t\tsetUrl(parsedUrl.toString());\n\t\t}\n\t}\n\n\tuseEffect(() => {\n\t\tprepareUrl(builderUrl);\n\n\t\tif (show) {\n\t\t\tconst togglePreferenceValue = select('core/edit-post').getPreference('features').fullscreenMode;\n\t\t\tif (!togglePreferenceValue) {\n\t\t\t\tdispatch('core/edit-post').toggleFeature('fullscreenMode');\n\t\t\t}\n\t\t\tsetFrameLoaded(false);\n\t\t\tref.current.addEventListener('load', () => {\n\t\t\t\tsetFrameLoaded(true);\n\t\t\t\tconst refDocument = ref.current.contentDocument || ref.current.contentWindow.document;\n\t\t\t\trefDocument.addEventListener('gutenbergClose', ({ detail }) => {\n\t\t\t\t\tif (detail !== true) {\n\t\t\t\t\t\tif (updateSelection && typeof updateSelection === 'function') {\n\t\t\t\t\t\t\tupdateSelection(detail);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbuilderVisibility(false);\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t});\n\n\treturn (\n\t\t<div className={`wptb-block-builder-wrapper ${show ? '' : 'hide'}`}>\n\t\t\t{show ? (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<div\n\t\t\t\t\t\tstyle={{ display: frameLoaded ? 'none' : 'flex' }}\n\t\t\t\t\t\tclassName={'wptb-block-builder-load-indicator'}\n\t\t\t\t\t>\n\t\t\t\t\t\t<BusyOverlay show={true} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<iframe ref={ref} className={'wptb-block-builder'} src={gutenbergUrl} />\n\t\t\t\t</Fragment>\n\t\t\t) : (\n\t\t\t\t''\n\t\t\t)}\n\t\t</div>\n\t);\n}\n","import React from 'react';\nimport WptbOverlay from './WptbOverlay';\n\nexport default function BusyOverlay({ show }) {\n\treturn (\n\t\t<WptbOverlay show={show}>\n\t\t\t<div className={'wptb-busy-overlay dashicons dashicons-update-alt'} />\n\t\t</WptbOverlay>\n\t);\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { __ } from '@wordpress/i18n';\nimport TablePreview from './TablePreview';\nimport BlockButton from './BlockButton';\n\nexport default function SelectedTableView({ selectedTable, footerRightPortal, changeToSelect }) {\n\treturn (\n\t\t<div className={'wptb-table-selected-view wptb-basic-appear-anim'}>\n\t\t\t<TablePreview scale={true} content={selectedTable ? selectedTable.content : null} />\n\t\t\t{footerRightPortal !== null\n\t\t\t\t? ReactDOM.createPortal(\n\t\t\t\t\t\t<BlockButton onClick={changeToSelect}>{__('change', 'wp-table-builder')}</BlockButton>,\n\t\t\t\t\t\tfooterRightPortal.current\n\t\t\t\t  )\n\t\t\t\t: ''}\n\t\t</div>\n\t);\n}\n","import React, { Fragment } from 'react';\nimport { __ } from '@wordpress/i18n';\nimport TableSelect from './TableSelect';\nimport SelectedTableView from './SelectedTableView';\nimport TablePreview from './TablePreview';\nimport Builder from './Builder';\nimport { withContext } from '../functions/withContext';\nimport BusyOverlay from './BusyOverlay';\nimport TableBlockInspector from './TableInspectorControls';\n\n/**\n * TableBlock component.\n *\n * This component handle UI part of the gutenberg block.\n */\nclass TableBlock extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tselectedId: Number.parseInt(this.props.attributes.id, 10),\n\t\t\tsavedId: Number.parseInt(this.props.attributes.id, 10),\n\t\t\tsearchTerm: '',\n\t\t\tfooterRightPortal: null,\n\t\t\tfullPreview: false,\n\t\t\tshowBuilder: false,\n\t\t\tbuilderUrl: props.builderUrl,\n\t\t};\n\n\t\tthis.state.selectScreen = this.state.savedId === -1;\n\t\tthis.state.expanded = this.state.savedId === -1;\n\n\t\tthis.toggleBlock = this.toggleBlock.bind(this);\n\t\tthis.slideMain = this.slideMain.bind(this);\n\t\tthis.rowSelected = this.rowSelected.bind(this);\n\t\tthis.selectedTable = this.selectedTable.bind(this);\n\t\tthis.updateSearch = this.updateSearch.bind(this);\n\t\tthis.filteredTables = this.filteredTables.bind(this);\n\t\tthis.saveTable = this.saveTable.bind(this);\n\t\tthis.changeToSelect = this.changeToSelect.bind(this);\n\t\tthis.setSelectScreen = this.setSelectScreen.bind(this);\n\t\tthis.openNewTableBuilder = this.openNewTableBuilder.bind(this);\n\t\tthis.openTableEditBuilder = this.openTableEditBuilder.bind(this);\n\t\tthis.setBuilderVisibility = this.setBuilderVisibility.bind(this);\n\t\tthis.updateSelection = this.updateSelection.bind(this);\n\n\t\tthis.mainRef = React.createRef();\n\t\tthis.footerRightPortal = React.createRef();\n\t}\n\n\t/**\n\t * Component mounted lifecycle hook.\n\t */\n\tcomponentDidMount() {\n\t\tthis.slideMain();\n\t\tthis.setState({ footerRightPortal: this.footerRightPortal });\n\t}\n\n\t// Update selection depending on builder sent id.\n\tupdateSelection(id) {\n\t\treturn this.props.getTables().then(() => {\n\t\t\tthis.setState({ selectedId: Number.parseInt(id, 10) });\n\t\t\tthis.saveTable();\n\t\t});\n\t}\n\n\t/**\n\t * Toggle visibility status of block main area.\n\t *\n\t * @param {Event} e html event\n\t */\n\ttoggleBlock(e) {\n\t\te.preventDefault();\n\t\tthis.setState((state) => {\n\t\t\treturn { expanded: !state.expanded };\n\t\t});\n\t}\n\n\t/**\n\t * Slide up/down main area of toggle depending on block toggle status.\n\t */\n\tslideMain() {\n\t\tconst direction = this.state.expanded ? 'slideDown' : 'slideUp';\n\t\tjQuery(this.mainRef.current)[direction]();\n\t}\n\n\t/**\n\t * Filter tables according to search term.\n\t *\n\t * @return {Array} filtered tables\n\t */\n\tfilteredTables() {\n\t\tif (this.state.searchTerm === '') {\n\t\t\treturn this.props.tables;\n\t\t}\n\n\t\treturn this.props.tables.filter((t) => {\n\t\t\tconst regexp = new RegExp(`(${this.state.searchTerm})`, 'gi');\n\n\t\t\treturn regexp.test(t.title) || regexp.test(`${t.id}`);\n\t\t});\n\t}\n\n\t/**\n\t * Component updated lifecycle hook.\n\t */\n\tcomponentDidUpdate() {\n\t\tthis.slideMain();\n\t\tthis.props.setAttributes({ id: this.state.savedId });\n\t}\n\n\t/**\n\t * Row selected callback function.\n\t *\n\t * @param {number} id selected table id\n\t * @return {function(*): void} click callback function\n\t */\n\trowSelected(id) {\n\t\treturn (e) => {\n\t\t\te.preventDefault();\n\t\t\tthis.setState({ selectedId: id });\n\t\t};\n\t}\n\n\t/**\n\t * Get selected table.\n\t *\n\t * @return {Object} selected table object\n\t */\n\tselectedTable() {\n\t\treturn this.props.tables.filter((t) => {\n\t\t\treturn this.state.selectedId === t.id;\n\t\t})[0];\n\t}\n\n\t/**\n\t * Get saved table for the block.\n\t *\n\t * @return {Object|undefined} saved table\n\t */\n\tsavedTable() {\n\t\treturn this.props.tables.filter((t) => {\n\t\t\treturn this.state.savedId === t.id;\n\t\t})[0];\n\t}\n\n\t/**\n\t * Set selected table as saved table to bind to block and its shortcode.\n\t */\n\tsaveTable() {\n\t\tthis.props.setSavedTable(this.state.selectedId);\n\t\tthis.setState({ savedId: this.state.selectedId, selectScreen: false });\n\t}\n\n\t/**\n\t * Update search term.\n\t *\n\t * @param {Event} e element event\n\t */\n\tupdateSearch(e) {\n\t\tthis.setState({ searchTerm: e });\n\t}\n\n\t/**\n\t * Change current screen to table select.\n\t */\n\tchangeToSelect() {\n\t\tthis.setState({ selectScreen: true });\n\t}\n\n\t/**\n\t * Change visibility of select screen.\n\t *\n\t * @param {boolean} val status\n\t */\n\tsetSelectScreen(val) {\n\t\tthis.setState({ selectScreen: val });\n\t}\n\n\t/**\n\t * Set visibility of builder page.\n\t *\n\t * @param {boolean} val show/hide\n\t */\n\tsetBuilderVisibility(val) {\n\t\tthis.setState({ showBuilder: val });\n\t}\n\n\t/**\n\t * Open builder page for new table.\n\t */\n\topenNewTableBuilder() {\n\t\tthis.setState({ builderUrl: this.props.blockData.builderUrl, showBuilder: true });\n\t}\n\n\t/**\n\t * Open builder page for table edit.\n\t */\n\topenTableEditBuilder() {\n\t\tconst url = new URL(this.props.blockData.builderUrl);\n\t\turl.searchParams.append('table', this.state.selectScreen ? this.state.selectedId : this.state.savedId);\n\n\t\tthis.setState({ builderUrl: url.toString(), showBuilder: true });\n\t}\n\n\t/**\n\t * Render component to DOM.\n\t *\n\t * @return {JSX.Element} rendered component\n\t */\n\trender() {\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<TableBlockInspector\n\t\t\t\t\theader={__('Info', 'wp-table-builder')}\n\t\t\t\t\ttable={this.state.selectScreen ? this.selectedTable() : this.props.savedTable}\n\t\t\t\t/>\n\t\t\t\t<div\n\t\t\t\t\tstyle={{ display: this.state.fullPreview ? 'none' : 'grid' }}\n\t\t\t\t\tclassName={'wptb-block-wrapper wptb-basic-appear-anim'}\n\t\t\t\t>\n\t\t\t\t\t<BusyOverlay show={this.props.isFetching()} />\n\t\t\t\t\t<div className={'wptb-block-header'}>\n\t\t\t\t\t\t<div className={'wptb-plugin-left-toolbox'}>\n\t\t\t\t\t\t\t<div className={'wptb-plugin-brand'}>WP Table Builder</div>\n\t\t\t\t\t\t\t<div className={'wptb-plugin-selected-header-info'}>\n\t\t\t\t\t\t\t\t{this.props.savedTable\n\t\t\t\t\t\t\t\t\t? this.props.savedTable.title\n\t\t\t\t\t\t\t\t\t: __('No table selected', 'wp-table-builder')}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={'wptb-header-toolbox'}>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName={'wptb-block-tool dashicons dashicons-insert'}\n\t\t\t\t\t\t\t\ttitle={__('new table', 'wp-table-builder')}\n\t\t\t\t\t\t\t\tonClick={this.openNewTableBuilder}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{this.filteredTables().length > 0 ? (\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName={'wptb-block-tool dashicons dashicons-edit-large'}\n\t\t\t\t\t\t\t\t\ttitle={__('edit table', 'wp-table-builder')}\n\t\t\t\t\t\t\t\t\tonClick={this.openTableEditBuilder}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t''\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{this.state.savedId >= 0 ? (\n\t\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclassName={'wptb-block-tool dashicons dashicons-fullscreen-alt'}\n\t\t\t\t\t\t\t\t\t\tonClick={() => this.setState({ fullPreview: true })}\n\t\t\t\t\t\t\t\t\t\ttitle={__('maximize preview', 'wp-table-builder')}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t''\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName={'wptb-block-toggle dashicons wptb-block-tool'}\n\t\t\t\t\t\t\t\taria-expanded={this.state.expanded}\n\t\t\t\t\t\t\t\tonClick={this.toggleBlock}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div ref={this.mainRef}>\n\t\t\t\t\t\t<div className={'wptb-block-main'}>\n\t\t\t\t\t\t\t{this.state.selectScreen ? (\n\t\t\t\t\t\t\t\t<TableSelect\n\t\t\t\t\t\t\t\t\tsearchTerm={this.state.searchTerm}\n\t\t\t\t\t\t\t\t\tupdateSearch={this.updateSearch}\n\t\t\t\t\t\t\t\t\tselectedId={this.state.selectedId}\n\t\t\t\t\t\t\t\t\trowSelected={this.rowSelected}\n\t\t\t\t\t\t\t\t\tfilteredTables={this.filteredTables}\n\t\t\t\t\t\t\t\t\tselectedTable={this.selectedTable()}\n\t\t\t\t\t\t\t\t\tsaveTable={this.saveTable}\n\t\t\t\t\t\t\t\t\tfooterRightPortal={this.state.footerRightPortal}\n\t\t\t\t\t\t\t\t\tsavedId={this.state.savedId}\n\t\t\t\t\t\t\t\t\tsetSelectScreen={this.setSelectScreen}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<SelectedTableView\n\t\t\t\t\t\t\t\t\tfooterRightPortal={this.state.footerRightPortal}\n\t\t\t\t\t\t\t\t\tselectedTable={this.props.savedTable}\n\t\t\t\t\t\t\t\t\tchangeToSelect={this.changeToSelect}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={'wptb-block-footer'}>\n\t\t\t\t\t\t\t<div className={'wptb-block-footer-left'} />\n\t\t\t\t\t\t\t<div ref={this.footerRightPortal} className={'wptb-block-footer-right'} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tstyle={{ display: this.state.fullPreview ? 'flex' : 'none' }}\n\t\t\t\t\tclassName={'wptb-block-full-preview wptb-basic-appear-anim'}\n\t\t\t\t>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t'dashicons dashicons-fullscreen-exit-alt wptb-block-minimize-button wptb-block-tool wptb-block-shadow'\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonClick={() => this.setState({ fullPreview: false })}\n\t\t\t\t\t\ttitle={__('minimize preview', 'wp-table-builder')}\n\t\t\t\t\t/>\n\t\t\t\t\t<TablePreview content={this.props.savedTable ? this.props.savedTable.content : null} />\n\t\t\t\t</div>\n\t\t\t\t<Builder\n\t\t\t\t\tbuilderVisibility={this.setBuilderVisibility}\n\t\t\t\t\tshow={this.state.showBuilder}\n\t\t\t\t\tbuilderUrl={this.state.builderUrl}\n\t\t\t\t\tupdateSelection={this.updateSelection}\n\t\t\t\t/>\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n\n/* @module TableBlock module */\nexport default withContext(TableBlock);\n","import React from 'react';\nimport { PanelRow } from '@wordpress/components';\n\nexport default function TableBlockInfoItem({ label, value }) {\n\treturn (\n\t\t<PanelRow>\n\t\t\t<div className={'wptb-block-info-label'}>{label}</div>\n\t\t\t<div className={'wptb-block-info-value'}>{value}</div>\n\t\t</PanelRow>\n\t);\n}\n","import React, { Fragment } from 'react';\nimport { InspectorControls } from '@wordpress/block-editor';\nimport { Panel, PanelBody, PanelRow } from '@wordpress/components';\nimport { __, _x } from '@wordpress/i18n';\nimport TableBlockInfoItem from './TableBlockInfoItem';\n\nexport default function TableBlockInspector({ header, table }) {\n\treturn (\n\t\t<InspectorControls>\n\t\t\t<Panel>\n\t\t\t\t<PanelBody title={header} initialOpen={true}>\n\t\t\t\t\t{table ? (\n\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t<TableBlockInfoItem label={__('ID', 'wp-table-builder')} value={table.id} />\n\t\t\t\t\t\t\t<TableBlockInfoItem label={__('title', 'wp-table-builder')} value={table.title} />\n\t\t\t\t\t\t\t<TableBlockInfoItem\n\t\t\t\t\t\t\t\tlabel={__('shortcode', 'wp-table-builder')}\n\t\t\t\t\t\t\t\tvalue={`[wptb id=${table.id}]`}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<TableBlockInfoItem\n\t\t\t\t\t\t\t\tlabel={_x('tags', 'modified date', 'wp-table-builder')}\n\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\ttable.wptb_table_tags.length > 0\n\t\t\t\t\t\t\t\t\t\t? table.wptb_table_tags.map((t) => t.name).join(',')\n\t\t\t\t\t\t\t\t\t\t: __('No Tags', 'wp-table-builder')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<TableBlockInfoItem\n\t\t\t\t\t\t\t\tlabel={_x('Modified at', 'modified date', 'wp-table-builder')}\n\t\t\t\t\t\t\t\tvalue={new Intl.DateTimeFormat('default').format(new Date(table.modified))}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<PanelRow>\n\t\t\t\t\t\t\t<i>{__('no table selected', 'wp-table-builder')}</i>\n\t\t\t\t\t\t</PanelRow>\n\t\t\t\t\t)}\n\t\t\t\t</PanelBody>\n\t\t\t</Panel>\n\t\t</InspectorControls>\n\t);\n}\n","import React from 'react';\nimport { __ } from '@wordpress/i18n';\nimport WptbOverlay from './WptbOverlay';\n\nexport default function TableList({ tables, rowSelected, selectedId, searchTerm }) {\n\tconst indicateFoundTerm = (value) => {\n\t\tconst parsedVal = `${value}`;\n\t\tconst regexp = new RegExp(`(${searchTerm})`, 'ig');\n\n\t\treturn parsedVal.replace(regexp, '<span class=\"wptb-block-search-indicator\">$&</span>');\n\t};\n\n\treturn (\n\t\t<div className={'wptb-table-list'}>\n\t\t\t{tables.map((table) => {\n\t\t\t\treturn (\n\t\t\t\t\t<div\n\t\t\t\t\t\tonClick={rowSelected(table.id)}\n\t\t\t\t\t\tclassName={`wptb-table-list-row wptb-basic-appear-anim ${\n\t\t\t\t\t\t\tselectedId === table.id ? 'selected' : ''\n\t\t\t\t\t\t}`}\n\t\t\t\t\t\tkey={table.id}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={'wptb-table-list-title'}\n\t\t\t\t\t\t\tdangerouslySetInnerHTML={{ __html: indicateFoundTerm(table.title) }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={'wptb-table-list-id'}\n\t\t\t\t\t\t\tdangerouslySetInnerHTML={{ __html: indicateFoundTerm(table.id) }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t})}\n\t\t\t<WptbOverlay show={tables.length <= 0}>{__('no tables found', 'wp-table-builder')}</WptbOverlay>\n\t\t</div>\n\t);\n}\n","import React, { useEffect } from 'react';\nimport { withContext } from '../functions/withContext';\n\nfunction TablePreview({ content, scale, blockData: { tableCssUrl } }) {\n\tconst ref = React.createRef();\n\tconst previewPadding = 40;\n\n\tfunction prepareStylesheet(handler, url, root) {\n\t\tconst styleSheet = document.createElement('link');\n\t\tstyleSheet.setAttribute('rel', 'stylesheet');\n\t\tstyleSheet.setAttribute('href', url);\n\t\tstyleSheet.setAttribute('media', 'all');\n\t\tstyleSheet.setAttribute('id', handler);\n\t\troot.appendChild(styleSheet);\n\t}\n\n\tuseEffect(() => {\n\t\tif (content !== null && tableCssUrl !== undefined) {\n\t\t\tconst elem = document.createElement('div');\n\n\t\t\telem.attachShadow({ mode: 'open' });\n\n\t\t\t// eslint-disable-next-line array-callback-return\n\t\t\tObject.keys(tableCssUrl).map((handler) => {\n\t\t\t\tif (Object.prototype.hasOwnProperty.call(tableCssUrl, handler)) {\n\t\t\t\t\tprepareStylesheet(handler, tableCssUrl[handler], elem.shadowRoot);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// add table content to shadowroot\n\t\t\tconst range = document.createRange();\n\t\t\trange.setStart(document, 0);\n\t\t\tconst contentElement = range.createContextualFragment(content);\n\t\t\telem.shadowRoot.appendChild(contentElement);\n\n\t\t\tconst previewWrapper = ref.current;\n\t\t\tconst previewTable = elem.shadowRoot.querySelector('table');\n\t\t\tconst maxWidth = previewTable.dataset.wptbTableContainerMaxWidth;\n\n\t\t\tlet tableWidth = '700px';\n\t\t\tlet fullPreviewWidth = '100%';\n\n\t\t\tif (maxWidth) {\n\t\t\t\ttableWidth = `${maxWidth}px`;\n\t\t\t\tfullPreviewWidth = `${maxWidth}px`;\n\t\t\t}\n\t\t\tpreviewTable.style.width = scale ? tableWidth : fullPreviewWidth;\n\n\t\t\t// clear content of preview wrapper\n\t\t\tpreviewWrapper.innerHTML = '';\n\t\t\tpreviewWrapper.appendChild(elem);\n\n\t\t\tif (scale) {\n\t\t\t\tconst { width: wrapperWidth, height: wrapperHeight } = previewWrapper.getBoundingClientRect();\n\t\t\t\tconst { width: previewWidth, height: previewHeight } = previewTable.getBoundingClientRect();\n\n\t\t\t\tconst widthScale = wrapperWidth / (previewWidth + previewPadding);\n\t\t\t\tconst heightScale = wrapperHeight / (previewHeight + previewPadding);\n\n\t\t\t\tconst scaleVal = Math.min(widthScale, heightScale);\n\t\t\t\tpreviewTable.style.transform = `scale(${scaleVal})`;\n\n\t\t\t\t// fix for chrome browsers where table previews are distorted for tables with separated columns and row\n\t\t\t\tif (window.navigator.vendor.includes('Google')) {\n\t\t\t\t\tif (previewTable.style.borderCollapse === 'separate') {\n\t\t\t\t\t\tconst borderHorizontalSpacing = parseInt(previewTable.dataset.borderSpacingColumns, 10);\n\t\t\t\t\t\tconst cellCount = parseInt(previewTable.dataset.wptbCellsWidthAutoCount, 10);\n\n\t\t\t\t\t\tpreviewTable.style.marginLeft = `${(cellCount + 1) * borderHorizontalSpacing * -1}px`;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n\treturn (\n\t\t<div ref={ref} className={'wptb-table-preview wptb-unselectable'}>\n\t\t\t<span className=\"dashicons dashicons-grid-view no-table-selected-preview\" />\n\t\t</div>\n\t);\n}\n\nexport default withContext(TablePreview);\n","import { __ } from '@wordpress/i18n';\nimport React from 'react';\n\n/**\n * Table search component.\n *\n * @param {string} searchTerm current search term\n * @param {Function} updateSearch function to update search term state on calling component\n * @return {JSX.Element} table search component\n * @class\n */\nexport default function TableSearch({ searchTerm, updateSearch }) {\n\treturn (\n\t\t<div className={'wptb-table-search'}>\n\t\t\t<input\n\t\t\t\tvalue={searchTerm}\n\t\t\t\tonChange={(e) => updateSearch(e.target.value)}\n\t\t\t\ttype=\"text\"\n\t\t\t\tplaceholder={__('search for tables', 'wp-table-builder')}\n\t\t\t/>\n\t\t\t{searchTerm !== '' ? (\n\t\t\t\t<div className={'wptb-search-clear'} onClick={() => updateSearch('')}>\n\t\t\t\t\tX\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t''\n\t\t\t)}\n\t\t</div>\n\t);\n}\n","import React, { Fragment } from 'react';\nimport ReactDOM from 'react-dom';\nimport { __ } from '@wordpress/i18n';\nimport TableSearch from './TableSearch';\nimport TableList from './TableList';\nimport TablePreview from './TablePreview';\nimport BlockButton from './BlockButton';\n\nexport default function TableSelect({\n\tsearchTerm,\n\tupdateSearch,\n\tselectedId,\n\trowSelected,\n\tfilteredTables,\n\tselectedTable,\n\tsaveTable,\n\tfooterRightPortal,\n\tsavedId,\n\tsetSelectScreen,\n}) {\n\treturn (\n\t\t<div className={'wptb-table-select'}>\n\t\t\t<div className={'wptb-table-list-wrapper'}>\n\t\t\t\t<TableSearch searchTerm={searchTerm} updateSearch={updateSearch} />\n\t\t\t\t<TableList\n\t\t\t\t\tsearchTerm={searchTerm}\n\t\t\t\t\tselectedId={selectedId}\n\t\t\t\t\trowSelected={rowSelected}\n\t\t\t\t\ttables={filteredTables()}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<TablePreview scale={true} content={selectedTable ? selectedTable.content : null} />\n\t\t\t{footerRightPortal !== null\n\t\t\t\t? ReactDOM.createPortal(\n\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t{savedId >= 0 ? (\n\t\t\t\t\t\t\t\t<BlockButton onClick={() => setSelectScreen(false)} type={'negative'}>\n\t\t\t\t\t\t\t\t\t{__('cancel', 'wp-table-builder')}\n\t\t\t\t\t\t\t\t</BlockButton>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t''\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<BlockButton disabled={!selectedTable} onClick={saveTable}>\n\t\t\t\t\t\t\t\t{__('select', 'wp-table-builder')}\n\t\t\t\t\t\t\t</BlockButton>\n\t\t\t\t\t\t</Fragment>,\n\t\t\t\t\t\tfooterRightPortal.current\n\t\t\t\t  )\n\t\t\t\t: ''}\n\t\t</div>\n\t);\n}\n","import React from 'react';\n\nexport default function WptbOverlay({ show, children }) {\n\treturn (\n\t\t<div className={'wptb-block-overlay wptb-basic-appear-anim'} style={{ display: show ? 'flex' : 'none' }}>\n\t\t\t{children}\n\t\t</div>\n\t);\n}\n","import React from 'react';\nimport apiFetch from '@wordpress/api-fetch';\nimport { __ } from '@wordpress/i18n';\nimport { TableContext } from '../functions/withContext';\nimport TableBlock from '../components/TableBlock';\n\nexport default class TableBlockApp extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tconst { attributes, setAttributes, blockData } = props;\n\n\t\tthis.setSavedTable = this.setSavedTable.bind(this);\n\n\t\tthis.state = {\n\t\t\ttables: [],\n\t\t\tattributes,\n\t\t\tsetAttributes,\n\t\t\tsavedTable: null,\n\t\t\tsetSavedTable: this.setSavedTable,\n\t\t\tblockData,\n\t\t\tfetching: false,\n\t\t\tisFetching: () => {\n\t\t\t\treturn this.state.fetching;\n\t\t\t},\n\t\t\tsetFetch: (status) => {\n\t\t\t\tthis.setState({ fetching: status });\n\t\t\t},\n\t\t\tgetTables: () => {\n\t\t\t\tthis.state.setFetch(true);\n\t\t\t\treturn apiFetch({ path: '/wp/v2/wptb-tables?status=draft&per_page=-1' }).then((tables) => {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\ttables: tables\n\t\t\t\t\t\t\t.filter((t) => {\n\t\t\t\t\t\t\t\t// filter out prebuilt tables from list\n\t\t\t\t\t\t\t\t// eslint-disable-next-line no-underscore-dangle\n\t\t\t\t\t\t\t\tconst [prebuiltStatus] = t.meta._wptb_prebuilt_;\n\t\t\t\t\t\t\t\treturn !prebuiltStatus;\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.map((t) => {\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t...t,\n\t\t\t\t\t\t\t\t\t...{\n\t\t\t\t\t\t\t\t\t\tid: t.id,\n\t\t\t\t\t\t\t\t\t\t// eslint-disable-next-line no-underscore-dangle\n\t\t\t\t\t\t\t\t\t\tcontent: t.meta._wptb_content_,\n\t\t\t\t\t\t\t\t\t\ttitle:\n\t\t\t\t\t\t\t\t\t\t\tt.title.rendered === ''\n\t\t\t\t\t\t\t\t\t\t\t\t? `${__('Table', 'wp-table-builder')} #${t.id}`\n\t\t\t\t\t\t\t\t\t\t\t\t: t.title.rendered,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.state.setFetch(false);\n\t\t\t\t});\n\t\t\t},\n\t\t};\n\t}\n\n\tsetSavedTable(id) {\n\t\tthis.setState({\n\t\t\tsavedTable: this.state.tables.filter((t) => {\n\t\t\t\treturn t.id === id;\n\t\t\t})[0],\n\t\t});\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.state.getTables().then(() => {\n\t\t\tthis.setSavedTable(this.state.attributes.id);\n\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<TableContext.Provider value={this.state}>\n\t\t\t\t<TableBlock />\n\t\t\t</TableContext.Provider>\n\t\t);\n\t}\n}\n","import React from 'react';\n\n/**\n * React context for table data.\n *\n * @type {React.Context<{attributes: {}, savedTable: null, setAttributes: setAttributes, setSavedTable: setSavedTable, blockData: {}}>}\n */\nexport const TableContext = React.createContext({\n\tattributes: {},\n\tsetAttributes: () => {},\n\tsavedTable: null,\n\tsetSavedTable: () => {},\n\tblockData: {},\n});\n\n/**\n * HOC for table context.\n *\n * @param {Function | Class} Component react component to be wrapped\n * @return {function(*): *}\n */\nexport function withContext(Component) {\n\treturn function WithTableContextComponent(props) {\n\t\treturn <TableContext.Consumer>{(context) => <Component {...context} {...props} />}</TableContext.Consumer>;\n\t};\n}\n","// extracted by mini-css-extract-plugin","import { registerBlockType } from '@wordpress/blocks';\nimport { __ } from '@wordpress/i18n';\nimport React from 'react';\nimport TableBlockApp from './containers/TableBlockApp';\n// eslint-disable-next-line no-unused-vars\nimport blockStyle from './style/block-style.sass';\n\nconst blockData = { ...wptbBlockData };\n\nwptbBlockData = undefined;\n\nregisterBlockType(blockData.blockName, {\n\ttitle: __('WP Table Builder', 'wp-table-builder'),\n\tdescription: __('WP Table Builder editor block', 'wp-table-builder'),\n\tcategory: 'widgets',\n\ticon: 'editor-table',\n\tattributes: {\n\t\tid: {\n\t\t\ttype: 'number',\n\t\t\tdefault: '-1',\n\t\t},\n\t},\n\ttransforms: {\n\t\tfrom: [\n\t\t\t{\n\t\t\t\ttype: 'shortcode',\n\t\t\t\ttag: 'wptb',\n\t\t\t\tattributes: {\n\t\t\t\t\tid: {\n\t\t\t\t\t\ttype: 'number',\n\t\t\t\t\t\tshortcode: ({ named }) => {\n\t\t\t\t\t\t\treturn Number.parseInt(named.id, 10);\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tpriority: 1,\n\t\t\t},\n\t\t],\n\t},\n\tedit: ({ attributes, setAttributes }) => {\n\t\treturn <TableBlockApp attributes={attributes} setAttributes={setAttributes} blockData={blockData} />;\n\t},\n\tsave: ({ attributes }) => {\n\t\treturn attributes.id >= 0 ? `[wptb id=${attributes.id}]` : '';\n\t},\n});\n","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","function _extends() {\n  module.exports = _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;","(function() { module.exports = this[\"wp\"][\"apiFetch\"]; }());","(function() { module.exports = this[\"wp\"][\"blockEditor\"]; }());","(function() { module.exports = this[\"wp\"][\"blocks\"]; }());","(function() { module.exports = this[\"wp\"][\"components\"]; }());","(function() { module.exports = this[\"wp\"][\"data\"]; }());","(function() { module.exports = this[\"wp\"][\"element\"]; }());","(function() { module.exports = this[\"wp\"][\"i18n\"]; }());","(function() { module.exports = this[\"React\"]; }());","(function() { module.exports = this[\"ReactDOM\"]; }());"],"sourceRoot":""}
>>>>>>> gutenberg-prebuilt-display-bug
