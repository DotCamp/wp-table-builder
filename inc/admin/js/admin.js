function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var WPTB_ActionsField=function o(){var l=this;this.wptbActions,0!=document.getElementsByClassName("wptb-actions").length&&(this.wptbActions=document.getElementsByClassName("wptb-actions")[0]),this.addActionField=function(e,t){var n=document.getElementsByTagName("body")[0],r=document.getElementsByClassName("wptb-actions");if(0!=r.length){var a=r[0].activeElem;for(a&&a.classList.remove("wptb-directlyhovered");0!=r.length;)r[0].parentNode.removeChild(r[0])}1==e&&(a=document.createElement("span"),e=document.createElement("span"),(r=document.createElement("div")).classList.add("wptb-actions"),a.classList.add("dashicons","dashicons-trash","wptb-delete-action"),e.classList.add("dashicons","dashicons-admin-page","wptb-duplicate-action"),r.appendChild(e),r.appendChild(a),n.appendChild(r),r.activeElem=t,r.type=1,a.onclick=function(e){var t=e.target.parentNode.activeElem,e=t.parentNode;t.className.match(/wptb-element-(.+)-(\d+)/i);t&&e.removeChild(t),t&&"object"===_typeof(t)&&t.hasOwnProperty("kind")&&"text"==t.kind&&(e=e.parentNode,!WPTB_Helper.rowIsTop(e)||(e=WPTB_Helper.findAncestor(e,"wptb-preview-table")).classList.contains("wptb-table-preview-head")&&WPTB_Helper.dataTitleColumnSet(e)),(new o).actionsRemove(),(new WPTB_TableStateSaveManager).tableStateSet(),WPTB_Helper.wptbDocumentEventGenerate("element:removed:dom",document,t)},e.onclick=function(e){var t,n,r=e.target.parentNode.activeElem,a=r.parentNode,e=r.className.match(/wptb-element-(.+)-(\d+)/i);e&&Array.isArray(e)?(e=e[1],(t={}).kind=e,t.elemProt=r,t.tinyMceClear=!0,(t=new WPTB_ElementObject(t)).getDOMElement().classList.remove("edit-active"),a.insertBefore(t.getDOMElement(),r.nextSibling)):(t={},(n=r.cloneNode(!0)).classList.remove("wptb-directlyhovered"),t.getDOMElement=function(){return n},applyGenericItemSettings(t),a.insertBefore(t.getDOMElement(),r.nextSibling),WPTB_Helper.wptbDocumentEventGenerate("wptb-inner-element:copy",r,t.getDOMElement())),WPTB_innerElementSet(t.getDOMElement()),(new o).setParameters(r),(new WPTB_TableStateSaveManager).tableStateSet()},t.classList.contains("wptb-ph-element")&&((t=document.createElement("span")).classList.add("dashicons","dashicons-move","wptb-move-action"),t.draggable=!0,r.appendChild(t),t.ondragstart=function(e){var t,n=wp.template("wptb-element-icons-directories")({}),r=JSON.parse(n),a=e.target.parentNode.activeElem,o=a.className.match(/wptb-element-(.+)-(\d+)/i);o&&Array.isArray(o)?(n=o[1],a.classList.add("wptb-moving-mode"),r&&"object"===_typeof(r)&&r[n]&&(t=WPTB_Helper.getElementIcon(r[n])),e.dataTransfer.effectAllowed="move",e.dataTransfer.setDragImage(t,0,0),e.dataTransfer.setData("node","wptb-element-"+o[1]+"-"+o[2]),e.dataTransfer.setData("wptb-moving-mode","wptb-element-"+o[1]+"-"+o[2]),e.dataTransfer.setData("wptbElIndic-"+o[1],"wptbElIndic-"+o[1]),"text"==(e=e.target.parentNode.activeElem).kind&&(e=e.parentNode.parentNode,!WPTB_Helper.rowIsTop(e)||(e=WPTB_Helper.findAncestor(e,"wptb-preview-table")).classList.contains("wptb-table-preview-head")&&WPTB_Helper.dataTitleColumnSet(e))):l.style.display="none",l.actionsHide()},t.ondragend=function(e){WPTB_Helper.elementDragEndClear()}),r.style.display="flex",l.wptbActions=r),WPTB_Helper.wptbDocumentEventGenerate("wptb:actionfield:generated",document)},this.setParameters=function(t){var e,n;l.wptbActions||(0<(n=document.getElementsByClassName("wptb-actions")).length?l.wptbActions=n[0]:l.wptbActions=!1),l.wptbActions&&l.wptbActions.classList.contains("wptb-actions")&&(l.wptbActions.style.display="flex",e=t.getBoundingClientRect(),n=document.getElementsByClassName("wptb-container")[0],l.wptbActions.style.top=parseFloat(e.top)-15+"px",l.wptbActions.style.left=parseFloat(e.right)-parseFloat(l.wptbActions.clientWidth)+1+"px",l.wptbActions.style.display="flex",t.classList.add("wptb-directlyhovered"),n.onscroll=function(){var e=t.getBoundingClientRect();l.wptbActions.style.top=parseFloat(e.top)-15+"px"})},this.leaveFromField=function(e,t,n){var r;if(l.wptbActions||(0<(r=document.getElementsByClassName("wptb-actions")).length?l.wptbActions=r[0]:l.wptbActions=!1),l.wptbActions){if(e.relatedTarget&&(e.relatedTarget.classList.contains("wptb-actions")||e.relatedTarget.classList.contains("wptb-move-action")||e.relatedTarget.classList.contains("wptb-duplicate-action")||e.relatedTarget.classList.contains("wptb-delete-action")||e.relatedTarget.classList.contains("wptb-prebuilt-mark-action")))return l.wptbActions||(l.wptbActions=document.getElementsByClassName("wptb-actions")[0]),void(l.wptbActions.onmouseleave=function(e){null!=e.relatedTarget&&(e.relatedTarget.classList.contains("wptb-ph-element")||WPTB_Helper.findAncestor(e.relatedTarget,"wptb-ph-element"))&&e.relatedTarget!=l.wptbActions.activeElem&&(WPTB_Helper.findAncestor(e.relatedTarget,"wptb-directlyhovered"),l.wptbActions.activeElem),(new o).leaveFromField(e,e.relatedTarget.parentNode.parentNode),e.target.activeElem.classList.remove("wptb-directlyhovered")});t.classList.remove("wptb-directlyhovered"),l.wptbActions.style.display="none",e.relatedTarget&&(e.relatedTarget.classList.contains("wptb-ph-element")||WPTB_Helper.findAncestor(e.relatedTarget,"wptb-ph-element"))&&(l.addActionField(1,e.relatedTarget.parentNode),l.setParameters(e.relatedTarget.parentNode))}},this.actionsRemove=function(){var e;l.wptbActions||0<(e=document.getElementsByClassName("wptb-actions")).length&&(l.wptbActions=e[0]),l.wptbActions&&l.wptbActions.parentNode.removeChild(l.wptbActions)},this.actionsHide=function(){var e;l.wptbActions||0<(e=document.getElementsByClassName("wptb-actions")).length&&(l.wptbActions=e[0]),l.wptbActions&&(l.wptbActions.style.opacity=0)}};function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(r=(l=i.next()).done)&&(n.push(l.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}}function _toArray(e){return _arrayWithHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithHoles(e){if(Array.isArray(e))return e}!function(e){(self||global)["WPTB_BackgroundMenu"]=e()}(function(){var e=new function(){var n=this;function l(){return document.querySelector(".wptb-table-setup .wptb-preview-table")}function r(){return document.querySelector(".wptb-bg-color-selectors")}this.initialized=!1;var o=null;function a(){Array.from(l().querySelectorAll("td")).map(function(e){e.classList.remove("wptb-highlighted")})}function i(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=e.nodeName.toLowerCase();t||a(),(e="td"!==n?e.parentNode:e).classList.add("wptb-highlighted")}function s(e){e.preventDefault(),e.stopPropagation();var t=e.target.nodeName.toLowerCase(),n=e.target;"td"!==t&&(n=e.target.parentNode),i(n),o.commit("setMenuSelectedTableElement",{type:o.state.types.selected.cell,item:n})}function c(){return document.querySelector(".wptb-col-selection")}function d(){return document.querySelector(".wptb-row-selection")}function t(e){o.commit("updateHoveredRowElement",e.target)}function p(e){var r=e.target,e=Array.from(r.parentNode.querySelectorAll("td")).reduce(function(e,t,n){return t===r?n:e},-1);o.commit("updateHoveredCellElement",{element:r,index:e})}function u(e){var t="number"==typeof e?e:Number.parseInt(e,10),n=[];return isNaN(t)||Array.from(l().querySelectorAll("tr")).map(function(e){e=Array.from(e.querySelectorAll("td")).splice(t,1),e=_slicedToArray(e,1)[0];e&&n.push(e)}),n}function m(){var e=document.createElement("div");return e.classList.add("wptb-bg-rail-mark"),e}function b(){var e=(n=l().getBoundingClientRect()).width,t=n.height,n=(a=document.querySelector(".wptb-bg-color-selectors .wptb-bg-column-rail")).getBoundingClientRect().height;a.style.top="-".concat(n,"px"),a.style.width="".concat(e,"px"),function(r){Array.from(r.querySelectorAll(".wptb-bg-rail-mark")).map(function(e){e.remove()});var e=l(),e=Array.from(e.querySelectorAll("tr")).reduce(function(e,t){if(null===e)return t;var n=t.querySelectorAll("td").length;return e.querySelectorAll("td").length<n?t:e},null);Array.from(e.querySelectorAll("td")).map(function(e){e=e.getBoundingClientRect();return{cellX:e.x,cellWidth:e.width}}).map(function(e,t){var n=m();n.style.width="".concat(e.cellWidth,"px"),n.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),o.commit("updateHoveredCellElement",{element:null,index:t})}),r.appendChild(n)})}(a);var r,a=(e=document.querySelector(".wptb-bg-color-selectors .wptb-bg-row-rail")).getBoundingClientRect().width;e.style.left="-".concat(a,"px"),e.style.height="".concat(t,"px"),r=e,Array.from(r.querySelectorAll(".wptb-bg-rail-mark")).map(function(e){e.remove()}),Array.from(l().querySelectorAll("tr")).map(function(e){var t=e.getBoundingClientRect();return{element:e,rowHeight:t.height}}).map(function(t){var e=m();e.style.height="".concat(t.rowHeight,"px"),e.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),o.commit("updateHoveredRowElement",t.element)}),r.appendChild(e)})}function f(){var e=document.createElement("div");e.classList.add("wptb-bg-color-selectors");var t=document.createElement("div");t.classList.add("wptb-bg-row-rail");var n=document.createElement("div");n.classList.add("wptb-row-selection","wptb-bg-selection-item"),n.title="Select row",WPTB_IconManager.getIcon("arrow-alt-circle-right","wptb-selector-icon-wrapper").then(function(e){n.appendChild(e)});var r=document.createElement("div");r.classList.add("wptb-bg-column-rail");var a=document.createElement("div");a.classList.add("wptb-col-selection","wptb-bg-selection-item"),a.title="Select column",WPTB_IconManager.getIcon("arrow-alt-circle-down","wptb-selector-icon-wrapper").then(function(e){a.appendChild(e)}),a.addEventListener("click",function(e){var t;e.preventDefault(),e.stopPropagation(),null!==(t=o.getters.hoveredCell.index)&&(t=(e=_toArray(u(t)))[0],e=e.slice(1),i(t),e.map(function(e){i(e,!0)}),o.commit("setMenuSelectedTableElement",{type:o.getters.types.selected.column,item:[t].concat(_toConsumableArray(e))}))}),t.appendChild(n),r.appendChild(a),e.appendChild(r),e.appendChild(t),document.querySelector(".wptb-builder-content .wptb-table-setup").appendChild(e)}function y(){d().addEventListener("click",function(e){var t,n;e.preventDefault(),e.stopPropagation(),(n=o.getters.hoveredRow)&&(e=(t=_toArray(Array.from(n.querySelectorAll("td"))))[0],t=t.slice(1),i(e),t.map(function(e){i(e,!0)}),o.commit("setMenuSelectedTableElement",{type:o.getters.types.selected.row,item:n}))}),Array.from(l().querySelectorAll("tr")).map(function(e){e.addEventListener("mouseenter",t)})}function h(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];r()&&(r().dataset.visible=e)}function g(){Array.from(l().querySelectorAll("td")).map(function(e){e.removeEventListener("click",s),e.removeEventListener("mouseenter",p)}),c().classList.remove("wptb-bg-selection-visible"),Array.from(l().querySelectorAll("tr")).map(function(e){e.removeEventListener("mouseenter",t)}),o.commit("updateHoveredRowElement",null),a(),o.dispatch("clearSelection"),o.dispatch("clearHoverStates")}function w(e){e.subscribe(function(e){var t,n,r,a,o=e.type,l=e.payload;switch(o){case"updateHoveredRowElement":l&&(t=l,n=document.querySelector(".wptb-table-setup").getBoundingClientRect().y,r=t.getBoundingClientRect(),a=r.height,t=r.y,(r=d()).classList.add("wptb-bg-selection-visible"),r.style.height="".concat(a,"px"),r.style.top="".concat(t-n,"px"));break;case"updateHoveredCellElement":a=l.index,0<(r=u(a)).length&&(t=c(),n=r.reduce(function(e,t){return e.offsetWidth>t.offsetWidth?t:e},r[0]),a=document.querySelector(".wptb-table-setup").getBoundingClientRect().x,n=(r=n.getBoundingClientRect()).width,r=r.x,t.classList.add("wptb-bg-selection-visible"),t.style.left="".concat(r-a,"px"),t.style.width="".concat(n,"px"))}})}this.applyOptions=function(){var e,t,a,o,n=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:null)||{row:{headerBg:(t=l()).dataset.wptbHeaderBackgroundColor,evenBg:t.dataset.wptbEvenRowBackgroundColor,oddBg:t.dataset.wptbOddRowBackgroundColor}};t=(e=n.row).headerBg,a=e.evenBg,o=e.oddBg,n=l(),n=(e=_toArray(Array.from(n.querySelectorAll("tr"))))[0],e=e.slice(1),n=n,""===(t=t)||null===t?n.style.removeProperty("background-color"):n.style.backgroundColor=t,e.map(function(e,t){var n=["",null,void 0],r=e.dataset.wptbBgColor,n=!n.includes(r);e.style.backgroundColor=n?r:t%2==0?a:o})},this.init=function(){document.addEventListener("wptbSectionChanged",function(e){var t=e.detail;n.initialized||"background_menu"!==t||(WPTB_ControlsManager.callControlScript("BackgroundMenu","wptb-background-menu"),n.initialized=!0),"background_menu"!==WPTB_Helper.getPreviousSection()&&"background_menu"===t&&(r()||f(),h(!0),Array.from(l().querySelectorAll("td")).map(function(e){e.addEventListener("click",s),e.addEventListener("mouseenter",p)}),y(),e=l(),Array.from(e.querySelectorAll(".edit-active")).map(function(e){e.classList.remove("edit-active")}),(e=document.querySelector(".wptb-actions"))&&(e.style.display="none"),b(),o.commit("updateHoveredCellElement",{element:null,index:0}),o.commit("updateHoveredRowElement",l().querySelector("tr"))),"background_menu"===WPTB_Helper.getPreviousSection()&&"background_menu"!==t&&(h(!1),g())}),document.addEventListener("wp-table-builder/table-changed/after",function(){n.applyOptions()})},this.addStore=function(e){o||w(o=e)}};return e.init(),e}),function(){var e=window.location.href;new RegExp("[?&]page=wptb-builder").exec(e)&&document.addEventListener("DOMContentLoaded",function(){var r,e,a=WPTB_Helper.detectMode();a?(r=new XMLHttpRequest,e=ajaxurl+"?action=get_table&id="+a,r.open("GET",e,!0),r.setRequestHeader("Content-type","application/x-www-form-urlencoded"),r.onreadystatechange=function(e){var t,n;4==this.readyState&&200==this.status&&(n=JSON.parse(r.responseText),document.getElementById("wptb-setup-name").value=n[0],n[1]?((t=document.getElementsByClassName("wptb-table-setup")[0]).appendChild(WPTB_Parser(n[1])),document.getElementsByTagName("body")[0],WPTB_Table(),(n=document.querySelector(".wptb-preview-table"))&&(n.className.match(/wptb-element-((.+-)\d+)/i)||n.classList.add("wptb-element-main-table_setting-"+a),n.dataset.wptbTableContainerMaxWidth&&(t.style.maxWidth=n.dataset.wptbTableContainerMaxWidth+"px",n.tdDefaultWidth())),WPTB_Settings(),(new WPTB_TableStateSaveManager).tableStateSet()):document.getElementsByClassName("wptb-table-generator")[0].style.display="table")},r.send(null)):(new WPTB_TableStateSaveManager).tableStateSet(),document.counter=new ElementCounters,document.select=new MultipleSelect;WPTB_Initializer();settings=WPTB_Settings()})}();var WPTB_Cell=function(e,n){var t;n||((n=document.createElement("td")).style.padding=jQuery("#wptb-table-padding-number").val()+"px",""!=(t=jQuery("#wptb-table-inner-border-number").val())&&0!=parseInt(t)&&(n.style.border=t+"px solid "+jQuery("#wptb-table-border-color").val()),n.classList.add("wptb-droppable","wptb-cell"),t=(t=WPTB_Helper.newElementProxy("text")).getDOMElement(),n.appendChild(t)),n.draggable=!1,e&&(n.onclick=e),n.ondblclick=function(e){e.stopPropagation();var t=document.querySelector(".wptb-table-setup");!t||t.classList.contains("wptb-preview-table-manage-cells")||"0"===e.target.dataset.yIndex&&"1"===t.dataset.wptbSortableTable||e.target!=e.currentTarget||(WPTB_Helper.wptbDocumentEventGenerate("table:cell:dblclick",e.target),e=(e=WPTB_Helper.newElementProxy("text")).getDOMElement(),n.appendChild(e),WPTB_innerElementSet(e))},WPTB_innerElementSet(n),WPTB_Helper.elementStartScript(n,"table_cell_setting");var o=n.getElementsByClassName("wptb-ph-element");if(0<o.length){function r(r){o[r].getDOMElement=function(){return o[r]},WPTB_innerElementSet(o[r]);var a=o[r].className.match(/wptb-element-((.+-)\d+)/i);a&&Array.isArray(a)&&function(){var e=a[1].split("-");o[r].kind=e[0],applyGenericItemSettings(o[r],a[1]);var n=o[r].getElementsByClassName("wptb-in-element");if(0<n.length)for(var t=0;t<n.length;t++)!function(e){var t={getDOMElement:function(){return n[e]}};applyGenericItemSettings(t)}(t)}()}for(var a=0;a<o.length;a++)r(a)}return this.getDOMElement=function(){return n},this.setCoords=function(e,t){var n=this.getDOMElement();n.dataset.yIndex=e,n.dataset.xIndex=t},this.getCoords=function(){var e,t=this.getDOMElement();return e.x=t.dataset.xIndex,e.y=t.dataset.yIndex,e},this.appendElement=function(e){getDOMElement().appendChild(e)},n.getCellDimensions=function(){var e=window.getComputedStyle(this,null),t=e.getPropertyValue("padding-left"),n=e.getPropertyValue("padding-right"),r=e.getPropertyValue("border-left-width"),a=e.getPropertyValue("border-right-width"),o=e.getPropertyValue("padding-top"),l=e.getPropertyValue("padding-bottom"),i=e.getPropertyValue("border-top-width"),s=e.getPropertyValue("border-bottom-width"),c=parseInt(this.offsetWidth,10)-parseInt(t,10)-parseInt(n,10),d=parseInt(this.offsetHeight,10)-parseInt(o,10)-parseInt(l,10),p=WPTB_Helper.findAncestor(this,"wptb-preview-table");return p&&("collapse"===p.style.borderCollapse?(c=c-parseInt(r,10)/2-parseInt(a,10)/2,d=d-parseInt(i,10)/2-parseInt(s,10)/2,t=(e=window.getComputedStyle(p,null)).getPropertyValue("border-left-width"),n=e.getPropertyValue("border-right-width"),o=e.getPropertyValue("border-top-width"),l=e.getPropertyValue("border-bottom-width"),(e=this.parentNode)&&"tr"===e.nodeName.toLowerCase()&&(e.firstChild&&e.firstChild.dataset.xIndex===this.dataset.xIndex&&parseInt(t,10)>parseInt(r,10)&&(c+=-(parseInt(t,10)-parseInt(r,10))/2),e.lastChild&&e.lastChild.dataset.xIndex===this.dataset.xIndex&&parseInt(n,10)>parseInt(a,10)&&(c+=-(parseInt(n,10)-parseInt(a,10))/2),(e=e.parentNode)&&"body"===e.nodeName.toLowerCase()&&(e.firstChild&&e.firstChild.firstChild.dataset.yIndex===this.dataset.yIndex&&parseInt(o,10)>parseInt(i,10)&&(d+=(parseInt(o,10)-parseInt(i,10))/2),e.lastChild&&e.lastChild.firstChild.dataset.yIndex===this.dataset.yIndex&&parseInt(l,10)>parseInt(s,10)&&(d+=(parseInt(l,10)-parseInt(s,10))/2)))):"separate"===p.style.borderCollapse&&(c=c-parseInt(r,10)-parseInt(a,10),d=d-parseInt(i,10)-parseInt(s,10))),{width:parseInt(c),height:parseInt(d)}},this};function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var WPTB_CutGlueTable={cutTableHorizontally:function(e,t){if(t&&t.rows[e])for(var n=0;n<e;n++)for(var r=t.rows[n].children,a=0;a<r.length;a++)if(1<r[a].rowSpan&&r[a].rowSpan>e-n){var o=r[a].rowSpan-e+n;r[a].rowSpan=e-n,r[a].dataset.sameCellBeforeDivision||(r[a].dataset.sameCellBeforeDivision="r"+n+"c"+a);var l=void 0,l=t.hasOwnProperty("wptbCell")?(l=new t.wptbCell(t.mark)).getDOMElement():document.createElement("td"),i=r[a].getAttribute("style");l.setAttribute("style",i),l.colSpan=r[a].colSpan,l.rowSpan=o,l.dataset.sameCellBeforeDivision=r[a].dataset.sameCellBeforeDivision;for(var o=r[a].dataset.xIndex,s=parseInt(o)+parseInt(r[a].colSpan),c=void 0;!c&&s<t.maxCols;)c=t.rows[e].querySelector('[data-x-index="'+s+'"]'),s++;t.rows[e].insertBefore(l,c),WPTB_RecalculateIndexes(t)}},glueTableHorizontally:function(e){if(e){for(var t=_toConsumableArray(e.getElementsByTagName("td")),n=0;n<t.length;n++)if(t[n].hasAttribute("data-same-cell-before-division"))for(var r=t[n].dataset.sameCellBeforeDivision,a=e.querySelectorAll('[data-same-cell-before-division="'+r+'"]'),o=0;o<a.length;o++)if(a[o]&&a[o+1]&&a[o].parentNode&&a[o+1].parentNode&&!a[o].parentNode.classList.contains("wptb-row-moving")&&!a[o+1].parentNode.classList.contains("wptb-row-moving")&&a[o+1].dataset.yIndex==parseInt(a[o].dataset.yIndex)+parseInt(a[o].rowSpan)){a[o].rowSpan+=a[o+1].rowSpan;for(var l=_toConsumableArray(a[o+1].children),i=0;i<l.length;i++)a[o].appendChild(l[i]);a[o+1].parentNode.removeChild(a[o+1])}WPTB_RecalculateIndexes(e)}},cutTableVertically:function(e,t){for(var n=0;n<t.rows.length;n++){if(e<t.maxCols&&0!=e&&!t.rows[n].querySelector('[data-x-index="'+e+'"]'))for(var r,a,o,l=t.rows[n].children,i=void 0,s=l.length,c=void 0,d=0;d<s;d++)if(1<l[d].colSpan&&parseInt(l[d].dataset.xIndex)<e&&parseInt(l[d].dataset.xIndex)+parseInt(l[d].colSpan)>e){i=t.hasOwnProperty("wptbCell")?(i=new t.wptbCell(t.mark)).getDOMElement():document.createElement("td"),r=l[d].rowSpan,a=l[d].colSpan,l[d].colSpan=e-l[d].dataset.xIndex,o=a-l[d].colSpan,l[d].dataset.sameCellBeforeDivision||(l[d].dataset.sameCellBeforeDivision="r"+n+"c"+d);var p=l[d].getAttribute("style");i.setAttribute("style",p);p=t.querySelector('[data-x-index="'+e+'"]');p&&(i.style.width=p.style.width);p=t.querySelector('[data-y-index="'+n+'"]');p&&(i.style.height=p.style.height),c=l[d+1]||null,t.rows[n].insertBefore(i,c),i.colSpan=o,i.rowSpan=r,i.dataset.sameCellBeforeDivision=l[d].dataset.sameCellBeforeDivision,n+=r-1;break}WPTB_RecalculateIndexes(t)}},glueTableVertically:function(e){if(e){for(var t=_toConsumableArray(e.getElementsByTagName("td")),n=0;n<t.length;n++)if(t[n].hasAttribute("data-same-cell-before-division"))for(var r=t[n].dataset.sameCellBeforeDivision,a=_toConsumableArray(e.querySelectorAll('[data-same-cell-before-division="'+r+'"]')),o=null,l=0;l<a.length;l++)if(a[l]&&a[l+1]&&!a[l].classList.contains("wptb-column-moving")&&!a[l+1].classList.contains("wptb-column-moving")&&a[l+1].dataset.xIndex==parseInt(a[l].dataset.xIndex)+parseInt(a[l].colSpan)){a[o=null==o?l:o].colSpan+=a[l+1].colSpan;for(var i=_toConsumableArray(a[l+1].children),s=0;s<i.length;s++)a[o].appendChild(i[s]);a[l+1].parentNode.removeChild(a[l+1])}WPTB_RecalculateIndexes(e)}}},WPTB_DropHandle=function(r,e){var a,o,t,n,l,i,s=2<arguments.length&&void 0!==arguments[2]&&arguments[2];function c(e){return"".concat(e,"px")}if("td_relative"===WPTB_Helper.getDragRelativeType()){var d=document.querySelector(".wptb-cell-related-drop-handle");if(s&&d)return void(d.style.display="none");null===d&&((u=document.createRange()).setStart(document.body,0),m=u.createContextualFragment('<div class="wptb-cell-related-drop-handle">Add to cell</div>').children[0],document.body.appendChild(m),d=m.children[0]);var p=WPTB_Helper.getParentOfType("td",r).getBoundingClientRect(),s=p.top,u=p.left,m=p.width,p=p.height;return d?(d.style.display="flex",d.style.top=c(s),d.style.width=c(m),d.style.height=c(p),void(d.style.left=c(u))):void 0}if(0==document.getElementsByClassName("wptb-drop-handle").length?((a=document.createElement("div")).classList.add("wptb-drop-handle"),(o=document.createElement("div")).classList.add("wptb-drop-border-marker"),t=document.createElement("div"),n=document.createElement("div"),l=document.createElement("div"),i=document.createElement("div"),t.classList.add("wptb-drop-border-marker-top"),n.classList.add("wptb-drop-border-marker-right"),l.classList.add("wptb-drop-border-marker-bottom"),i.classList.add("wptb-drop-border-marker-left"),o.appendChild(t),o.appendChild(n),o.appendChild(l),o.appendChild(i),0<(v=document.getElementsByTagName("body")).length&&(v[0].appendChild(a),v[0].appendChild(o)),a.ondragenter=function(){if(e.target.classList.contains("wptb-empty"))return e.preventDefault(),!1},a.ondragover=function(e){e.preventDefault()},a.ondragleave=function(){},a.ondrop=function(e){var t;e.preventDefault(),e.dataTransfer.getData("wptbElement")?t=(t=WPTB_Helper.newElementProxy(e.dataTransfer.getData("wptbElement"))).getDOMElement():((t=document.getElementsByClassName(e.dataTransfer.getData("node"))[0]).classList.remove("wptb-moving-mode"),t.classList.remove("wptb-moving-into-same-elem"),t.wptbMovingMode=1),"Drop Here"==a.dataset.text?"td"==(r=a.getDOMParentElement()).nodeName.toLowerCase()&&((n=a.getDOMParentElement()).appendChild(t),WPTB_Helper.wptbDocumentEventGenerate("element:mounted:dom",t)):(n=(e=a.getDOMParentElement()).parentNode,"Above Element"==a.dataset.text?(n.insertBefore(t,e),WPTB_Helper.wptbDocumentEventGenerate("element:mounted:dom",t)):"Below Element"==a.dataset.text&&(e=e.nextSibling,n.insertBefore(t,e),WPTB_Helper.wptbDocumentEventGenerate("element:mounted:dom",t)));var n=n.parentNode;!WPTB_Helper.rowIsTop(n)||(n=WPTB_Helper.findAncestor(n,"wptb-preview-table")).classList.contains("wptb-table-preview-head")&&WPTB_Helper.dataTitleColumnSet(n),a.style.display="none",o.style.display="none",WPTB_innerElementSet(t),t.classList.contains("wptb-image-container")&&1!=t.wptbMovingMode||((new WPTB_TableStateSaveManager).tableStateSet(),t.wptbMovingMode)},document.querySelector(".wptb-container").onscroll=function(){a.style.display="none",o.style.display="none"}):(a=document.getElementsByClassName("wptb-drop-handle")[0],o=document.getElementsByClassName("wptb-drop-border-marker")[0]),!(r&&"td"==r.nodeName.toLowerCase()&&0!=r.getElementsByClassName("wptb-ph-element").length||r&&"td"==r.nodeName.toLowerCase()&&r.classList.contains("wptb-empty"))){if("td"==r.localName?S=r.parentNode:"div"==r.localName&&r.classList.contains("wptb-ph-element")&&(S=r.parentNode.parentNode),WPTB_Helper.rowIsTop(S))if(WPTB_Helper.findAncestor(S,"wptb-preview-table").classList.contains("wptb-table-preview-head")){for(var b=e.dataTransfer.types,f=!1,y=0;y<b.length;y++){var h=b[y].match(/wptbelindic-([a-z]+)/i);if(h&&"text"!=h[1]){f=!0;break}}if(f)return}a.style.width=r.offsetWidth+"px";var g,w,u=r.offsetHeight,v=r.getBoundingClientRect(),S=parseFloat(v.left);a.style.left=S+"px",-1!=e.dataTransfer.types.indexOf("wptb-moving-mode")&&(g=document.getElementsByClassName("wptb-moving-mode")[0],r==g?(a.classList.add("wptb-moving-into-same-elem"),o.classList.add("wptb-moving-into-same-elem")):(a.classList.remove("wptb-moving-into-same-elem"),o.classList.remove("wptb-moving-into-same-elem"))),a.getDOMParentElement=function(){return r},a.style.display="block",o.style.display="block","td"!=r.nodeName.toLowerCase()?(g=null==e.offsetY?e.layerY:e.offsetY,w=parseFloat(v.top)-parseFloat(11),a.dataset.text="Above Element",u/2<g&&(w=parseFloat(v.top)+u-1,a.dataset.text="Below Element")):(a.dataset.text="Drop Here",w=parseFloat(v.top)+u/2-5),a.style.top=w+"px",o.style.top=v.top+"px",o.style.left=v.left+"px",(t=o.querySelector(".wptb-drop-border-marker-top")).style.width=parseFloat(r.offsetWidth)-parseFloat(1)+"px",(n=o.querySelector(".wptb-drop-border-marker-right")).style.height=parseFloat(v.bottom)-parseFloat(v.top)-1+"px",n.style.left=t.style.width,(l=o.querySelector(".wptb-drop-border-marker-bottom")).style.width=t.style.width,l.style.top=n.style.height,(i=o.querySelector(".wptb-drop-border-marker-left")).style.height=n.style.height}},ElementCounters=function(){var t=[];return t.text=0,t.image=0,t.list=0,t.button=0,this.increment=function(e){e in t&&t[e]++},this.nextIndex=function(e){if(e in t)return t[e]+1},this};!function(e){(self||global)["WPTB_ElementIdProvider"]=e()}(function(){return new function(){var a={};this.getNewId=function(e){var t,n,r;return void 0===a[e]&&(a[e]=(t=e,n=Array.from(document.querySelectorAll(".wptb-ph-element")),r=new RegExp("wptb-element-".concat(t,"-(\\d.+)"),"i"),n.reduce(function(e,t){t=r.exec(t.className);return null!==t&&void 0!==t[1]?Math.max(e,Number.parseInt(t[1],10)):e},0))),++a[e]}}});var WPTB_ElementObject=function(e){var t,n,r,a;e.elemProt?((t=e.elemProt.cloneNode(!0)).classList.remove("wptb-directlyhovered"),(a=e.elemProt.className.match(/wptb-element-((.+-)\d+)/i))&&Array.isArray(a)&&(n=a[1]),r=!0,e.tinyMceClear&&(t=WPTB_Helper.elementClearFromTinyMce(t))):(n=void 0,r=!1,(t=document.createElement("div")).classList.add("wptb-"+e.kind+"-container","wptb-ph-element"),a="wptb-"+e.kind+"-content",a=wp.template(a),e.node=t,a=(a=a(e)).replace(/\r|\n|\t/g,"").trim(),t.innerHTML=a);var o=t.querySelectorAll(".wptb-in-element");if(0<o.length)for(var l=0;l<o.length;l++)!function(e){var t={getDOMElement:function(){return o[e]}};applyGenericItemSettings(t)}(l);return window.addEventListener("item:onmouseenter",function(e){},!1),this.kind=e.kind,this.getDOMElement=function(){return t},applyGenericItemSettings(this,n,r),this},WPTB_ElementOptions=function(e,t,n){e.getDOMElement().addEventListener("click",function(){WPTB_Helper.elementOptionsSet(e.kind,this)},{capture:!0})};function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(r=(l=i.next()).done)&&(n.push(l.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,t,n){"undefined"!=typeof module&&"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=n():t[e]=n()}("WPTB_ExtraStyles",self||global,function(){return new function(){var e,l=this;function i(n,e){var e=e.replaceAll(/(\r?\n)|(\/\*.+?\*\/)|(\s*!important)/g,"").replaceAll(";"," !important;").split("}"),r=[];return e.map(function(e){var t=new RegExp(/(.+?)\{/g).exec(e);t&&r.push(e.replace(t[1],"".concat(n," ").concat(t[1])))}),"".concat(r.join("}"),"}")}function s(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=document.createElement("style");n.type="text/css",n.id="wptb-general-styles",t?t.insertAdjacentElement("beforebegin",n):(l.currentMode===l.modes.block?l.baseDocument:l.baseDocument.querySelector("head")).appendChild(n),t=i(".wptb-preview-table",e),n.appendChild(document.createTextNode(t))}function r(e){var t,n,r,a,o=e.dataset.wptbExtraStyles;o&&(a=atob(o),n=e.getAttribute("class").match(/wptb-element-main-table_setting-(?:startedid-)?(\d+)/),t="wptb-extra-styles-"+(r=_slicedToArray(n,2)[1]),(n=null==(o=l.baseDocument.querySelector("head"))?void 0:o.querySelector("#".concat(t)))||((n=document.createElement("style")).type="text/css",n.id=t,e.dataset.disableThemeStyles&&l.currentMode===l.modes.frontEnd||l.currentMode===l.modes.block?(e.insertAdjacentElement("beforebegin",n),l.modes.frontEnd&&l.generalStyles&&s(l.generalStyles,e)):o.appendChild(n)),r=".wptb-element-main-table_setting-".concat(r),a=i(r,a),n.innerHTML="",n.appendChild(document.createTextNode(a)))}this.modes={builder:"builder",frontEnd:"frontEnd",block:"block"},this.baseDocument=document,this.currentMode=this.modes.builder,this.generalStyles="";var a=(_defineProperty(e={},this.modes.builder,".wptb-table-setup .wptb-preview-table"),_defineProperty(e,this.modes.block,".wptb-block-table-setup .wptb-preview-table"),_defineProperty(e,this.modes.frontEnd,".wptb-table-container .wptb-preview-table"),e);this.applyStyles=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:l.modes.frontEnd,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:document;l.baseDocument=n,l.currentMode=e,l.generalStyles=t;n=Array.from(l.baseDocument.querySelectorAll(a[e]));n&&n.map(r),e!==l.modes.frontEnd&&e!==l.modes.block||!t||s(t)}}});var WPTB_GetDirectionAfterReconstruction=function(r,a,o,n,l){var i=0,s=r.maxCols,e={},c=[];return l&&l.getDirective(r)?e.switch=function(e){var t=l.getDirective(r),n="desktop";return e&&e.detail&&(n=e.detail.sizeRangeId),c=[a,1],"desktop"!==n?t.hasOwnProperty("modeOptions")&&(e=t.responsiveMode,(e=t.modeOptions[e]).hasOwnProperty("topRowAsHeader")&&e.topRowAsHeader.hasOwnProperty(n)&&e.topRowAsHeader[n]?e.hasOwnProperty("cellStackDirection")&&e.cellStackDirection.hasOwnProperty(n)&&("row"===e.cellStackDirection[n]?(c=[o,2],i=s-1):"column"===e.cellStackDirection[n]&&e.hasOwnProperty("cellsPerRow")&&(i=e.cellsPerRow[n])):i=0):i=0,{type:c,itemsPerHeader:i}}:e.switch=function(e){if(c=[a,1],r.classList.contains("wptb-mobile-view-active")){r.classList.contains("wptb-table-preview-head")&&(c=[o,2])===n&&(i=s-1);var t=r.parentNode.parentNode.querySelector(".wptb-preview-table-mobile");return{type:c,itemsPerHeader:i,newTable:t}}return{type:c,itemsPerHeader:i}},e},WPTB_HeaderToolbox=function(e){var n=this;this.wrapperQuery=e,this.element=document.querySelector(e),this.topMargin=2;function r(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=n.element.getBoundingClientRect().height;e&&(t=0),n.element.style.top="calc( 100% - ".concat(t+n.topMargin,"px)")}return{init:function(){Array.from(n.element.querySelectorAll("[data-button-type]")).map(function(e){e.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),WPTB_Helper.activateSection(e.target.dataset.buttonType)})}),document.addEventListener("wptb:table:generated",function(){n.element.style.display="flex";var e=n.element.getBoundingClientRect().width;n.element.style.left="calc( 50% - ".concat(e/2,"px)");var t=["table_responsive_menu","manage_cells","cell_settings"];document.addEventListener("wptbSectionChanged",function(e){e=e.detail;r(!t.includes(e))});e=WPTB_Helper.currentSection;r(!t.includes(e))})}}};function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var WPTB_Helper={hexToRgb:function(e){e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return e?"rgb(".concat(parseInt(e[1],16),",").concat(parseInt(e[2],16),",").concat(parseInt(e[3],16),")"):null},rgbToHex:function(e){if(e){if(WPTB_Helper.isHex(e))return e;var t=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?((?:[0-9]*[.])?[0-9]+)[\s+]?\)/i);return t&&5===t.length?"#".concat("0".concat(parseInt(t[1],10).toString(16).toUpperCase()).slice(-2)).concat("0".concat(parseInt(t[2],10).toString(16).toUpperCase()).slice(-2)).concat("0".concat(parseInt(t[3],10).toString(16).toUpperCase()).slice(-2)).concat("0".concat(Math.round(255*parseFloat(t[4],10)).toString(16).toUpperCase()).slice(-2)):(t=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===t.length?"#".concat("0".concat(parseInt(t[1],10).toString(16).toUpperCase()).slice(-2)).concat("0".concat(parseInt(t[2],10).toString(16).toUpperCase()).slice(-2)).concat("0".concat(parseInt(t[3],10).toString(16).toUpperCase()).slice(-2)):""}return""},isHex:function(e){return new RegExp("^#(?:[A-Fa-f0-9]{3}){1,2}(?:[0-9]?){1,2}$").test(e)},getElementIcon:function(e){"".concat(location.protocol,"//").concat(location.hostname);var t=document.createElement("img");return t.src=e,t},elementDragEndClear:function(){var e=document.getElementsByClassName("wptb-moving-mode");if(0<e.length)for(var t=0;t<e.length;t++)e[t].classList.remove("wptb-moving-mode");var n=document.getElementsByClassName("wptb-drop-handle");if(0<n.length)for(var r=0;r<n.length;r++)n[r].style.display="none";var a=document.getElementsByClassName("wptb-drop-border-marker");if(0<a.length)for(var o=0;o<a.length;o++)a[o].style.display="none"},linkHttpCheckChange:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(e){if(e.match(/^(javascript:)(.+)$/))return e;if(e.match(/^\/([\S]+)$/)){if(t){var n=document.location.origin;return n.match(/^(.+)\/$/)&&(n=n.slice(-1)),"".concat(n).concat(e)}return e}if(-1!=e.indexOf("http://")||-1!=e.indexOf("https://"))return e;var r,n=e.split("/");return Array.isArray(n)&&0<n.length&&(r=n[n.length-1]),"".concat(document.location.protocol,"//").concat(r)}return""},dataTitleColumnSet:function(e){},findAncestor:function(e,t){for(;(e=e.parentElement)&&!e.classList.contains(t););return e},rowIsTop:function(e){return e.parentNode.children[0]==e},getSelectionText:function(){return window.getSelection?window.getSelection().toString():document.selection.createRange().text},elementOptionsPanelClear:function(){var e=document.getElementById("element-options-group");e&&(e.innerHTML="")},wpColorPickerCheckChangeForTableStateSaving:function(e){"external"==e.originalEvent.type?(new WPTB_TableStateSaveManager).tableStateSet():WPTB_Helper.findAncestor(e.target,"wp-picker-container")&&("square"!=e.originalEvent.type&&"strip"!=e.originalEvent.type||((e=document.getElementsByTagName("body")[0]).removeEventListener("mouseup",WPTB_Helper.irisStripMouseUpStateSaveManager,!1),e.addEventListener("mouseup",WPTB_Helper.irisStripMouseUpStateSaveManager,!1)))},irisStripMouseUpStateSaveManager:function(){(new WPTB_TableStateSaveManager).tableStateSet(),document.getElementsByTagName("body")[0].removeEventListener("mouseup",WPTB_Helper.irisStripMouseUpStateSaveManager,!1)},wpColorPickerClear:function(e,t){var n;t?(n=[document.getElementById(e)]).length=1:n=document.getElementsByClassName(e);for(var r=0;r<n.length;r++){var a,o=WPTB_Helper.findAncestor(n[r],"wp-picker-container");o&&((a=o.parentNode).removeChild(o),o=document.createElement("input"),t?o.setAttribute("id",e):o.classList.add("wptb-element-property",e),o.value="",a.appendChild(o))}},detectMode:function(){var e=window.location.href,e=new RegExp("[?&]table(=([^&#]*)|&|#|$)").exec(e);return!!e&&(e[2]?decodeURIComponent(e[2].replace(/\+/g," ")):"")},getTableId:function(){return WPTB_Helper.detectMode()||"startedid-0"},getColumnWidth:function(e,t){for(var n=t.dataset.xIndex,r=e.querySelectorAll('[data-x-index="'.concat(n,'"]')),a=t.getCellDimensions().width,o=0;o<r.length;o++)a>r[o].getCellDimensions().width&&(a=r[o].getCellDimensions().width);return a},getRowHeight:function(e,t){for(var n=t.dataset.yIndex,r=e.querySelectorAll('[data-y-index="'.concat(n,'"]')),a=t.getCellDimensions().height,o=0;o<r.length;o++)a>r[o].getCellDimensions().height&&(a=r[o].getCellDimensions().height);return a},newElementProxy:function(e){if(e)return new WPTB_ElementObject({kind:e})},wpColorPickerChange:function(e,t){var n=t?t.color.toString():"",r=WPTB_Helper.findAncestor(e.target,"wp-picker-input-wrap").getElementsByClassName("wptb-color-picker")[0],t=r.dataset.element.match(/wptb-options-(.+)-(\d+)/i),e=t[1],t=t[2],t=document.getElementsByClassName("wptb-element-".concat(e,"-").concat(t))[0];if("button"==e)"button-text-color"==r.dataset.type?t.getElementsByClassName("wptb-button")[0].style.color=n:t.getElementsByClassName("wptb-button")[0].style.backgroundColor=n;else if("list"==e){var a=t.querySelectorAll("p");if(0<a.length)for(var o=0;o<a.length;o++)a[o].style.color=n}else if("star_rating"==e)if("star-color"==r.dataset.type)for(var l=t.querySelectorAll("li"),i=0;i<l.length;i++)for(var s=l[i].getElementsByTagName("span"),c=0;c<s.length;c++)s[c].style.fill=n;else"numeral-rating-color"==r.dataset.type&&(t.querySelector(".wptb-number-rating").style.color=n);else t.style.color=n},numberImputSize:function(e,t,n){e.onkeydown=function(){var e=this.value;0==(e=String(e))[0]?this.value="":(e=e.substring(0,t),this.value=e)},e.onkeyup=function(){var e=this.value;parseInt(e,10)>parseInt(n,10)&&(this.value=n),(new WPTB_TableStateSaveManager).tableStateSet()}},ucfirst:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},wptbDocumentEventGenerate:function(e,t,n){e&&t&&(n=n||!0,n=new CustomEvent(e,{detail:n,bubbles:!0}),t.dispatchEvent(n))},elementStartScript:function(e,t){var n;t||(n=e.className.match(/wptb-element-(.+)-(\d+)/i))&&Array.isArray(n)&&(t=n[1]),t&&t in WPTB_ElementsScriptsLauncher&&WPTB_ElementsScriptsLauncher[t](e)},deleteEventHandlers:function(e){if(e){jQuery(e).off();var t=e.children;if(t)for(var n=0;n<t.length;n++)WPTB_Helper.deleteEventHandlers(t[n])}},replaceAll:function(e,t,n){return e.split(t).join(n)},elementClearFromTinyMce:function(e){var t=e.querySelectorAll(".mce-content-body");if(0<t.length)for(var n=0;n<t.length;n++)t[n].classList.remove("mce-content-body");var r=e.querySelectorAll("[data-mce-style]");if(0<r.length)for(var a=0;a<r.length;a++)r[a].removeAttribute("data-mce-style");var o=e.querySelectorAll(".mce-edit-focus");if(0<o.length)for(var l=0;l<o.length;l++)o[l].classList.remove("mce-edit-focus");var i=e.querySelectorAll("[contenteditable]");if(0<i.length)for(var s=0;s<i.length;s++)i[s].removeAttribute("contenteditable");var c=e.querySelectorAll("[spellcheck]");if(0<c.length)for(var d=0;d<c.length;d++)c[d].removeAttribute("spellcheck");var p=e.querySelectorAll("[id^=mce_]");if(0<p.length)for(var u=0;u<p.length;u++)p[u].removeAttribute("id");return e},elementOptionContainerCustomClassSet:function(e,t){e&&t&&((e=WPTB_Helper.findAncestor(e,"wptb-element-option"))&&e.classList.add(t))},elementOptionContainerAdditionalStyles:function(e,t){if(e&&t){var n=WPTB_Helper.findAncestor(e,"wptb-element-option"),r=t.split(";");if(n&&r){function a(e,t){e&&(containerStyleStrArr=e.split(":"),containerStyleStrArr&&Array.isArray(containerStyleStrArr)&&(t.style[containerStyleStrArr[0]]=containerStyleStrArr[1]))}if(r&&Array.isArray(r))for(var o=0;o<r.length;o++)r[o]&&a(r[o],n);else a(r,n)}}},controlsInclude:function(l,i){var s=2<arguments.length&&void 0!==arguments[2]&&arguments[2];l&&"object"===_typeof(l)&&"function"==typeof i&&l.addEventListener("element:controls:active",function(){l.hasOwnProperty("controlConnectFunctionsName")&&Array.isArray(l.controlConnectFunctionsName)&&-1!=l.controlConnectFunctionsName.indexOf(i.name)||function(){var n,e=l.className.match(/wptb-element-(.+)-(\d+)/i);if(n=e&&Array.isArray(e)?e[1]:n){var t=l.optionsGroupIds;if(t&&Array.isArray(t))for(var r=0;r<t.length;r++){var a=t[r],a=document.getElementById(a).querySelectorAll(".wptb-element-property");(a=_toConsumableArray(a)).map(function(e){var a,t=new RegExp("wptb-el-".concat(n,"-(\\d+)-([a-zA-Z0-9_-]+)"),"i"),o=e.className.match(t);o&&Array.isArray(o)&&(a=o[0],l.addEventListener("wptb-control:".concat(a),function(e){var t={},n=o[2],r=document.getElementsByClassName(a);0<r.length&&n&&(r=WPTB_Helper.targetControlValueGet(r),t[n]=s?{targetValue:r,eventValue:e.detail.value}:r),i(t,l)},!1))})}l.controlConnectFunctionsName||Array.isArray(l.controlConnectFunctionsName)||(l.controlConnectFunctionsName=[]),l.controlConnectFunctionsName.push(i.name)}}()},!1)},oneControlInclude:function(n,r,e){if(!n||"object"!==_typeof(n)||"function"!=typeof r||"string"!=typeof e)return!1;var t,a,o=n.className.match(/wptb-element-((.+-)\d+)/i);o&&Array.isArray(o)&&(t=o[1].split("-")[0],t="wptb-".concat(t,"-control-stack"),t=wp.template(t)({container:".".concat(o[0])}),(t=JSON.parse(t))&&"object"===_typeof(t)&&t.hasOwnProperty(e)&&(a="wptb-el-".concat(o[1],"-").concat(e),n.addEventListener("wptb-control:".concat(a),function(e){var t=document.getElementsByClassName(a);0<t.length&&(t=WPTB_Helper.targetControlValueGet(t),r(t,n))},!1)))},innerElementCopyIncludeHandler:function(t,n){t&&"object"===_typeof(t)&&"function"==typeof n&&t.addEventListener("wptb-inner-element:copy",function(e){e=e.detail;e&&(WPTB_Helper.elementClearFromTinyMce(e),n(e,t))},!1)},valueDependOnControl:function(n,r,a,o,l){function i(e,n,t){"string"==typeof e&&(e=[e]);var r,a,o,l=n.match(/wptb-el-((.+-)\d+)-(.+)/i),i={},s=[];return l&&Array.isArray(l)&&(r=l[3],o={},Array.isArray(t)&&(Array.isArray(t[0])?t.map(function(e){o[e[0]]=[e[1],e[2]]}):o[t[0]]=[t[1],t[2]]),e.map(function(e){var t=n.replace(r,e);t&&0<(a=document.getElementsByClassName(t)).length&&a[0].type&&(i[e]=a[0].value,e in o&&("integer"===o[e][1]?i[e]=parseInt(i[e])+parseInt(o[e][0]):"string"===o[e][1]&&(i[e]=i[e]+o[e][0])),s.push(a[0]))})),[i,s]}var e=i(n,r,a);WPTB_Helper.elementOptionsSet(o,l,e[0],r),Object.keys(e[0]).forEach(function(e){var t=l.className.match(/wptb-element-((.+-)\d+)/i),e="wptb-el-".concat(t[1],"-").concat([e]);l.addEventListener("wptb-control:".concat(e),function(e){var t=i(n,r,a);WPTB_Helper.elementOptionsSet(o,l,t[0],r)},!1)})},appearDependOnControl:function(e,t){if(Array.isArray(e)){function a(e,t){var n,r="block";Object.keys(t).map(function(e){Object.prototype.hasOwnProperty.call(t,e)&&!1===t[e][0]&&(r="none",t[e][2][3]&&(n=t[e][2][3]))}),e.style.display!==r&&("none"===(e.style.display=r)&&n?(p[0].dataset.controlActiveVal=WPTB_Helper.targetControlValueGet(p),WPTB_Helper.targetControlValueGet(p,n)):"block"===r&&p[0].dataset.controlActiveVal&&WPTB_Helper.targetControlValueGet(p,p[0].dataset.controlActiveVal))}function o(e,t){for(var n=WPTB_Helper.targetControlValueGet(e),r=!1,a=1;a<=2;a++)if(t[a]&&Array.isArray(t[a])){for(var o=void 0,l=!1,i=0;i<t[a].length;i++)if("string"==typeof t[a][i]&&-1!==t[a][i].indexOf("numberAny >")){l=!0;if(!(parseInt(t[a][i].match(/\d+/))<n)){o=!1;break}o=!0}else if("string"==typeof t[a][i]&&-1!==t[a][i].indexOf("numberAny <")){if(l=!0,!(n<parseInt(t[a][i].match(/\d+/)))){o=!1;break}o=!0}else if(t[a][i]===n&&(o=!0,!l))break;if(o&&1===a){r=!0;break}if(o&&2===a){r=!1;break}}return r}if("string"==typeof e[0])e=[e];else if(!Array.isArray(e[0]))return;for(var l={},n=0;n<e.length;n++){var r=e[n],i=r[0],s=t.match(/wptb-el-((.+-)\d+)-(.+)/i);s&&Array.isArray(s)&&(s=s[3],!(i=t.replace(s,i))||0<(i=document.getElementsByClassName(i)).length&&(l[r[0]]=[o(i,r),i,r]))}var c,d,p=document.getElementsByClassName(t);0<p.length&&(c=p[0],(d=WPTB_Helper.findAncestor(c,"wptb-element-option"))&&(a(d,l),Object.keys(l).map(function(r){Object.prototype.hasOwnProperty.call(l,r)&&l[r][1][0].addEventListener("change",function(e){var t=l[r][2],n=l[r][1];l[t[0]]=[o(n,t),n,t],a(d,l)},!1)})))}},toggleSwitch:function(t,r){var a,o;Array.isArray(t)&&t[1]&&"object"===_typeof(t[1])&&(a=function(){var e=document.getElementsByClassName(r);e.length&&WPTB_Helper.targetControlValueGet(e)!==t[0]&&("unchecked"===t[0]?e[0].checked=!1:"checked"===t[0]&&(e[0].checked=!0),void 0!==t[2]&&!0!==t[2]||WPTB_Helper.wptbDocumentEventGenerate("change",e[0],{eventType:"toggleSwitch"}))},o=t[1],Object.keys(o).map(function(e){var t=o[e],n=r.match(/wptb-el-((.+-)\d+)-(.+)/i);n&&Array.isArray(n)&&(n=n[3],!(n=r.replace(n,e))||0<(e=document.getElementsByClassName(n)).length&&e[0].addEventListener("change",function(e,t){!e||0<(e=document.getElementsByClassName(e)).length&&WPTB_Helper.targetControlValueGet(e)===t&&a()}.bind(null,n,t),!1))}))},controlsStateManager:function(e,t){var n=document.getElementsByClassName(e);if(0<n.length){var r=e.match(/wptb-el-((.+-)\d+)-(.+)/i);if(r&&Array.isArray(r))if(document.querySelector(".wptb-element-".concat(r[1]))){var a,o={},l=document.getElementsByClassName("wptb-element-datas");if(0==l.length||""==l[0].innerHTML){var i=WPTB_Helper.targetControlValueGet(n);o["data-".concat(e)]=i,(a={})["tmpl-wptb-el-datas-".concat(r[1])]=o,a=JSON.stringify(a),0==l.length?((l=document.createElement("script")).setAttribute("type","text/html"),l.setAttribute("class","wptb-element-datas")):l=l[0],l.innerHTML=a,document.getElementsByTagName("body")[0].appendChild(l)}else if(l=l[0],a=l.innerHTML,a&&(a=a.trim(),(a=JSON.parse(a))&&"object"===_typeof(a)))if(t){var s=WPTB_Helper.targetControlValueGet(n);"tmpl-wptb-el-datas-".concat(r[1])in a&&"object"===_typeof(a["tmpl-wptb-el-datas-".concat(r[1])])||(a["tmpl-wptb-el-datas-".concat(r[1])]={}),a["tmpl-wptb-el-datas-".concat(r[1])]["data-".concat(e)]=s,l.innerHTML=JSON.stringify(a)}else if("tmpl-wptb-el-datas-".concat(r[1])in a&&"object"===_typeof(a["tmpl-wptb-el-datas-".concat(r[1])])&&"data-".concat(e)in a["tmpl-wptb-el-datas-".concat(r[1])]){if("tmpl-wptb-el-datas-".concat(r[1])in a&&"object"===_typeof(a["tmpl-wptb-el-datas-".concat(r[1])])&&"data-".concat(e)in a["tmpl-wptb-el-datas-".concat(r[1])])for(var c,d=0;d<n.length;d++)"checkbox"==n[d].type?(c=void 0,"checked"==(c=n[d].name?a["tmpl-wptb-el-datas-".concat(r[1])]["data-".concat(e)][n[d].name]:a["tmpl-wptb-el-datas-".concat(r[1])]["data-".concat(e)])?n[d].checked=!0:"unchecked"==c&&(n[d].checked=!1)):n[d].value=a["tmpl-wptb-el-datas-".concat(r[1])]["data-".concat(e)]}else{s=WPTB_Helper.targetControlValueGet(n);"tmpl-wptb-el-datas-".concat(r[1])in a&&"object"===_typeof(a["tmpl-wptb-el-datas-".concat(r[1])])||(a["tmpl-wptb-el-datas-".concat(r[1])]={}),a["tmpl-wptb-el-datas-".concat(r[1])]["data-".concat(e)]=s,l.innerHTML=JSON.stringify(a)}}}},targetControlValueGet:function(e,t){for(var n,r=0;r<e.length;r++)"checkbox"==e[r].type&&e[r].name?t?"checked"===t?e[r].checked=!0:"unchecked"===t&&(e[r].checked=!1):(n=n||{},1==e[r].checked?n[e[r].name]="checked":n[e[r].name]="unchecked"):"checkbox"==e[r].type?t?"checked"===t?e[r].checked=!0:"unchecked"===t&&(e[r].checked=!1):n=1==e[r].checked?"checked":"unchecked":e[r].type?t?e[r].value=t:n=e[r].value:e[r].dataset.alignmentValue&&e[r].classList.contains("selected")&&(t?e[r].dataset.alignmentValue=t:n=e[r].dataset.alignmentValue);return n},elementControlsStateCopy:function(e,t){var n,r,a,o;e&&t&&(e=e.className.match(/wptb-element-((.+-)\d+)/i),t=t.className.match(/wptb-element-((.+-)\d+)/i),e&&Array.isArray(e)&&t&&Array.isArray(t)&&(n=e[1],r=t[1],0<(e=document.getElementsByClassName("wptb-element-datas")).length&&((t=(e=e[0]).innerHTML)&&(t=t.trim(),!(t=JSON.parse(t))||"object"!==_typeof(t)||(a=t["tmpl-wptb-el-datas-".concat(n)])&&"object"===_typeof(a)&&(o={},Object.keys(a).forEach(function(e){var t=a[e],e=e.replace(n,r);o[e]=t}),0<Object.keys(o).length&&(t["tmpl-wptb-el-datas-".concat(r)]=o,t=JSON.stringify(t),e.innerHTML=t))))))},elementControlsStateDelete:function(e,t){var n=e.className.match(/wptb-element-(.+)-(\d+)/i),r=document.getElementsByTagName("body")[0],a=r.getElementsByClassName("wptb-element-datas");n&&Array.isArray(n)&&0<a.length&&((e=(a=a[0]).innerHTML)&&(e=e.trim(),(e=JSON.parse(e))&&"object"===_typeof(e)&&"tmpl-wptb-el-datas-".concat(n[1],"-").concat(n[2])in e&&(t?e["tmpl-wptb-el-datas-".concat(n[1],"-").concat(n[2])]&&"object"===_typeof(e["tmpl-wptb-el-datas-".concat(n[1],"-").concat(n[2])])&&"data-wptb-el-".concat(n[1],"-").concat(n[2],"-").concat(t)in e["tmpl-wptb-el-datas-".concat(n[1],"-").concat(n[2])]&&delete e["tmpl-wptb-el-datas-".concat(n[1],"-").concat(n[2])]["data-wptb-el-".concat(n[1],"-").concat(n[2],"-").concat(t)]:delete e["tmpl-wptb-el-datas-".concat(n[1],"-").concat(n[2])],0==Object.keys(e).length?r.removeChild(a):(e=JSON.stringify(e),a.innerHTML=e))))},elementOptionsSet:function(d,e,p,u){var t,m,b,f,y,a,h,n,r="wptb-".concat(d,"-control-stack"),r=wp.template(r),g=e.className.match(/wptb-element-((.+-)\d+)/i);if(g?(WPTB_Helper.editActionClassRemove(),e.classList.add("edit-active")):(n=(n=WPTB_Helper.detectMode())||"startedid-0",e.classList.contains("wptb-preview-table")?e.classList.add("wptb-element-main-table_setting-".concat(n)):e.classList.contains("wptb-cell")?document.querySelector(".wptb-element-table_cell_setting-".concat(e.dataset.xIndex,"-").concat(e.dataset.yIndex))||e.classList.add("wptb-element-table_cell_setting-".concat(e.dataset.xIndex,"-").concat(e.dataset.yIndex)):e.classList.contains("wptb-responsive")&&(n.startsWith("wptb_team")&&(n="startedid-0"),e.classList.add("wptb-element-table_responsive_setting-".concat(n))),g=e.className.match(/wptb-element-((.+-)\d+)/i)),t={container:".".concat(g[0]),valueDependOnControl:{}},p&&Object.keys(p).forEach(function(e){t.valueDependOnControl[e]=p[e]}),!u||(n=u.match(/wptb-el-((.+-)\d+)-(.+)/i))&&Array.isArray(n)&&(h=n[3]),m=g[0],b=g[1],!e.classList.contains("wptb-preview-table"))if(e.classList.contains("wptb-cell"))this.activateSection("cell_settings");else if(e.classList.contains("wptb-responsive"))elementOptionsGroupId="table-responsive-group",wptbelementOptionClass="wptb-element-option";else{for(var o=document.getElementById("element-options-group").childNodes,l=0;l<o.length;l++)o[l].style&&(o[l].style.display="none");this.activateSection("options_group")}var r=r(t),w=JSON.parse(r),v=[],S={},T={},_={},C=[],A=[],E=[];h&&((r={})[h]=w[h],w=r);Object.keys(w).forEach(function(e){var t=w[e];t.controlKey=e;var n=wp.template("wptb-".concat(t.type,"-control"));t.elemContainer=m,t.elementControlTargetUnicClass="wptb-el-".concat(b,"-").concat(t.controlKey),Object.keys(t).map(function(e){Object.prototype.hasOwnProperty.call(t,e)&&"control_param_calculate_value"===t[e]&&(t[e]=WPTB_Helper.controlParamCalculateValue(t.elementControlTargetUnicClass,e))});var r,a,o,l,e=n(t);if("appearDependOnControl"in t&&Array.isArray(t.appearDependOnControl)&&C.push([t.appearDependOnControl,t.elementControlTargetUnicClass]),"toggleSwitch"in t&&Array.isArray(t.toggleSwitch)&&A.push([t.toggleSwitch,t.elementControlTargetUnicClass]),"valueDependOnControl"in t&&!p&&!u&&(l="",t.valueDependOnControlCorrect&&(l=t.valueDependOnControlCorrect),E.push([t.valueDependOnControl,t.elementControlTargetUnicClass,l])),-1==v.indexOf(t.elementOptionsGroupId)&&!h){v.push(t.elementOptionsGroupId),f=document.getElementById(t.elementOptionsGroupId);for(var i=_toConsumableArray(f.children),s=0;s<i.length;s++)f.removeChild(i[s]);S[t.elementOptionsGroupId]=f}y=S[t.elementOptionsGroupId],"true"!==t.elementOptionsContainerOn||h||(r=t.elementOptionsGroupId,(a=T)[r]||((o=document.createElement("div")).classList.add("wptb-element-options","wptb-options-".concat(g[1])),document.getElementById(r).appendChild(o),a[r]=o),y=a[r]),"true"===t.elementOptionContainerOn&&((c=document.createElement("div")).classList.add(t.elementOptionClass,"wptb-settings-items"),t.customClassForContainer&&c.classList.add(t.customClassForContainer),t.containerAdditionalStyles&&c.setAttribute("style",t.containerAdditionalStyles),u?0<(n=document.getElementsByClassName(u)).length&&(n=n[0],(l=WPTB_Helper.findAncestor(n,"wptb-element-option"))&&((n=l.parentNode).insertBefore(c,l),n.removeChild(l))):y.appendChild(c),y=c),y.innerHTML+=e;var c=y.getElementsByTagName("wptb-template-script");0<c.length&&(e=(c=c[0]).innerText,y.removeChild(c),(c=document.createElement("script")).setAttribute("type","text/javascript"),c.setAttribute("id","".concat(d,"-").concat(t.controlKey)),c.innerHTML=e.replace(/\r|\n|\t/g,"").trim(),_[t.elementOptionsGroupId]&&Array.isArray(_[t.elementOptionsGroupId])||(_[t.elementOptionsGroupId]=[]),_[t.elementOptionsGroupId].push(c)),0}),e.optionsGroupIds=v,Object.keys(_).forEach(function(e){u||((a=document.createElement("div")).classList.add("wptb-element-options-scripts","wptb-options-".concat(g[1])),S[e].appendChild(a));var t=_[e];if(0<t.length)for(var n,r=0;r<t.length;r++)u?(n="".concat(d,"-").concat(h),n=document.getElementById(n),(a=n.parentNode).insertBefore(t[r],n),a.removeChild(n)):a.appendChild(t[r])});for(var i=0;i<A.length;i++)WPTB_Helper.toggleSwitch(A[i][0],A[i][1]);for(var s=0;s<C.length;s++)WPTB_Helper.appearDependOnControl(C[s][0],C[s][1]);WPTB_Helper.wptbDocumentEventGenerate("element:controls:active",e);for(var c=0;c<E.length;c++)WPTB_Helper.valueDependOnControl(E[c][0],E[c][1],E[c][2],d,e)},editActionClassRemove:function(){for(var e=document.querySelectorAll(".edit-active"),t=0;t<e.length;t++)e[t].classList.remove("edit-active")},controlParamCalculateValue:function(e,t){e=WPTB_Helper.replaceAll(e,"-","_");if(window["paramCalculateValue_".concat(e,"_").concat(t)]&&"function"==typeof window["paramCalculateValue_".concat(e,"_").concat(t)])return window["paramCalculateValue_".concat(e,"_").concat(t)]()},controlParamCalculateValueCreateFunction:function(e,t,n,r){var a=e.className.match(/wptb-element-((.+-)\d+)/i),t="wptb-el-".concat(a[1],"-").concat(t),t=WPTB_Helper.replaceAll(t,"-","_");window["paramCalculateValue_".concat(t,"_").concat(n)]=function(){return r(e)}},managerExternalCssStyles:function(e,t,n,r){var a=e.match(/wptb-element-main(.+)-(\d+)/i);a&&Array.isArray(a)||0<(a=document.getElementsByClassName("wptb-preview-table")).length&&((a=(a=a[0]).className.match(/wptb-element-main(.+)-(\d+)/i))&&Array.isArray(a)&&(t=".".concat(a[0]," ").concat(t)));var o=document.head;if(o){var l=o.querySelector("#styles-".concat(e));if(l){var i=l.innerHTML;if(i){var s=i.split("}");s.pop();for(var c=!1,d=0;d<s.length;d++){var p=s[d].split("{");if(p[0]===t){var u=p[1].split(";");u.pop();for(var m=!1,b=0;b<u.length;b++)if(u[b].split(":")[0]===n){r?u[b]="".concat(n,":").concat(r):u.splice(b,1),p[1]=u.join(";")?"".concat(u.join(";"),";"):"",m=!0;break}m||r&&(p[1]+="".concat(n,":").concat(r,";")),p[1]?s[d]="".concat(p[0],"{").concat(p[1]):s.splice(d,1),s.join("}")?l.innerHTML="".concat(s.join("}"),"}"):o.removeChild(l),c=!0;break}}c||(l.innerHTML=r?"".concat(i+t,"{").concat(n,":").concat(r,";}"):i)}else r?l.innerHTML="".concat(t,"{").concat(n,":").concat(r,";}"):o.removeChild(l)}else r&&((i=document.createElement("style")).setAttribute("id","styles-".concat(e)),i.classList.add("styles-wptb-elements"),i.innerHTML="".concat(t,"{").concat(n,":").concat(r,";}"),o.appendChild(i))}},registerSections:function(e){var n=this;this.sections={},this.previousSection=null,this.currentSection=null,(e=!Array.isArray(e)?[e]:e).map(function(e){var t=document.querySelector("[data-wptb-section=".concat(e,"]"));t&&(n.sections[e]=t)})},activateSection:function(n){var r=this,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"block";this.previousSection=this.currentSection,this.currentSection=n,this.triggerSectionEvent(n),Object.keys(this.sections).map(function(e){var t;Object.prototype.hasOwnProperty.call(r.sections,e)&&(t=n===e?a:"none",r.sections[e].style="display: ".concat(t," !important"))})},getCurrentSection:function(){return this.currentSection},getPreviousSection:function(){return this.previousSection},getSectionFromUrl:function(){var t=new URL(window.location.href).searchParams.get("wptb-builder-section");t&&Object.keys(this.sections).some(function(e){return e===t})&&this.activateSection(t)},setupSectionButtons:function(){var e=Array.from(document.querySelectorAll("[data-wptb-section-button]")),r=this;e.map(function(t){var n=t.dataset.wptbSectionButton;t.addEventListener("click",function(){var e=t.dataset.wptbSectionDisplayType;r.activateSection(n,e),WPTB_Helper.editActionClassRemove()}),document.addEventListener("wptbSectionChanged",function(e){e.detail===n?(t.classList.remove("disabled"),t.classList.add("active")):(t.classList.remove("active"),t.classList.add("disabled"))})})},setupPanelToggleButtons:function(){var t=jQuery;t(".wptb-panel-toggle-group").each(function(){var e=t(this);t(this).find(".toggle-icon").click(function(){e.find(".wptb-panel-toggle-target").slideToggle(),e.toggleClass("wptb-panel-toggle-content")})})},triggerSectionEvent:function(e){e=new CustomEvent("wptbSectionChanged",{detail:e});document.dispatchEvent(e)},setupSidebarToggle:function(e){e=document.querySelector(e);e&&e.addEventListener("click",function(e){e.preventDefault(),document.body.classList.toggle("collapsed")})},externalCssStylesDelete:function(e){var t=document.head;!t||(e=t.querySelector("#styles-".concat(e)))&&t.removeChild(e)},externalCssStylesCopy:function(e,t){var n,r,a;!e||(a=e.className.match(/wptb-element-(.+)-(\d+)/i))&&Array.isArray(a)&&(n=a[0],!(r=document.head)||(e=r.querySelector("#styles-".concat(n)))&&((a=e.cloneNode(!0)).removeAttribute("id","styles-".concat(n)),(t=t.className.match(/wptb-element-(.+)-(\d+)/i))&&Array.isArray(t)&&(a.setAttribute("id","styles-".concat(t[0])),e=e.innerHTML,t=WPTB_Helper.replaceAll(e,n,t[0]),a.innerHTML=t,r.appendChild(a))))},elementsStylesConvertToObject:function(){for(var e=document.head.querySelectorAll(".styles-wptb-elements"),t={},n=0;n<e.length;n++){var r=e[n].getAttribute("id");r&&e[n].innerHTML&&(t[r]=e[n].innerHTML)}return 0!=Object.keys(t).length?JSON.stringify(t):""},elementsStylesSetFromObject:function(e){var r,a=document.head;if(a){if(0<(t=a.querySelectorAll(".styles-wptb-elements")).length)for(var t=_toConsumableArray(t),n=0;n<t.length;n++)a.removeChild(t[n]);e&&(r=JSON.parse(e),0!=Object.keys(r).length&&Object.keys(r).forEach(function(e){var t=r[e],n=document.createElement("style");n.setAttribute("id",e),n.classList.add("styles-wptb-elements"),n.innerHTML=t,a.appendChild(n)}))}},saveTable:function(l,i,e){WPTB_Helper.tableSaveIndicator(!0),e||i||!l.target.dataset.wptbTableStateNumberSave&&0==window.wptbTableStateNumberShow||(window.wptbTableStateNumberShow,l.target.dataset.wptbTableStateNumberSave),e||(o=document.querySelector(".wptb-edit-bar"))&&o.classList.contains("visible")&&(document.getElementsByClassName("wptb-preview-table")[0],WPTB_Helper.toggleTableEditMode()),WPTB_Helper.wptbDocumentEventGenerate("wptb:save:before",document),WPTB_Helper.tableClean();var s,t,c=new XMLHttpRequest,n="".concat(wptb_admin_object?wptb_admin_object.ajaxurl:ajaxurl,"?action=save_table"),d=document.getElementById("wptb-setup-name").value.trim();r=document.getElementsByClassName("wptb-preview-table"),((rs=WPTB_Helper.detectMode())||(rs=document.wptbId))&&(t=rs);var r,a,o,p,u=!1;r=0<r.length?(a=(r=r[0]).cloneNode(!0),t&&a.classList.contains("wptb-element-main-table_setting-startedid-0")&&(a.classList.remove("wptb-element-main-table_setting-startedid-0"),a.classList.add("wptb-element-main-table_setting-".concat(t)),(o=document.querySelector(".wptb-table-setup"))&&(o.innerHTML="",o.appendChild(a),WPTB_Table()),u=!0),a.columns=r.columns,(r=WPTB_Stringifier(a)).outerHTML):"",e||(p="",0<(m=document.getElementsByClassName("wptb-element-datas")).length&&m[0].innerHTML&&(p=m[0].innerHTML,u&&(p=WPTB_Helper.replaceAll(p,"tmpl-wptb-el-datas-main-table_setting-startedid-0","tmpl-wptb-el-datas-main-table_setting-".concat(t)),p=WPTB_Helper.replaceAll(p,"data-wptb-el-main-table_setting-startedid-0","data-wptb-el-main-table_setting-".concat(t)))));var m=WPTB_Helper.elementsStylesConvertToObject();if(u&&(m=WPTB_Helper.replaceAll(m,".wptb-element-main-table_setting-startedid-0",".wptb-element-main-table_setting-".concat(t))),""===d&&""===r){u="";return""===d&&(u+="You must assign a name to the table before saving it.</br>"),""===r&&(u+="Table wasn't created"),(s=document.getElementById("wptb-messaging-area")).innerHTML='<div class="wptb-error wptb-message">Error: '.concat(u,"</div>"),s.classList.add("wptb-warning"),void setTimeout(function(){s.removeChild(s.firstChild)},4e3)}m={title:d,content:r,elements_datas:p,elements_styles:m,security_code:wptb_admin_object.security_code};e&&(m.preview_saving=e),t&&(m.id=t),WPTB_Helper.wptbDocumentEventGenerate("wptb:save:before",document,m),m=JSON.stringify(m),c.open("POST",n,!0),c.setRequestHeader("Content-type","application/json; charset=utf-8"),c.onreadystatechange=function(e){if(4==this.readyState&&(WPTB_Helper.tableSaveIndicator(!1),200==this.status)){var t=JSON.parse(c.responseText);if(s=document.getElementById("wptb-messaging-area"),"saved"!=t[0]){if("edited"==t[0]&&i){document.wptbId=t[1],s.innerHTML='<div class="wptb-success wptb-message">Table "'.concat(d,'" was successfully saved.</div>'),WPTB_NotificationManager.sendNotification({message:"Table ".concat(d," was successfully saved.")}),document.getElementsByClassName("wptb-embed-btn")[0].classList.remove("wptb-button-disable"),document.getElementById("wptb-embed-shortcode").value="[wptb id=".concat(t[1],"]");document.querySelector(".wptb-preview-table");var n=document.getElementsByClassName("wptb-preview-btn");0<n.length&&((n=n[0]).classList.remove("wptb-button-disable"),r=(r=n.dataset.previewHref).replace("empty",t[1]),n.setAttribute("href",r)),l.target.dataset.wptbTableStateNumberSave=window.wptbTableStateNumberShow;var r=document.getElementsByClassName("wptb-save-btn");0<r.length&&((r=r[0]).classList.add("wptb-save-disabled"),r.classList.remove("active"))}else if("edited"==t[0]){s.innerHTML='<div class="wptb-success wptb-message">Table "'.concat(d,'" was successfully updated.</div>'),WPTB_NotificationManager.sendNotification({message:"Table ".concat(d," was successfully updated.")}),l.target.dataset.wptbTableStateNumberSave=window.wptbTableStateNumberShow;var a=document.getElementsByClassName("wptb-save-btn");0<a.length&&((a=a[0]).classList.add("wptb-save-disabled"),a.classList.remove("active"))}else{if("preview_edited"==t[0])return;s.innerHTML='<div class="wptb-error wptb-message">Safety problems</div>'}s.classList.add("wptb-success"),setTimeout(function(){s.removeChild(s.firstChild)},4e3)}else{r=document.location.href.replace("#",""),a=new RegExp("&table=(.+)","i"),r=r.replace(a,"");window.history.pushState(null,null,"".concat(r,"&table=").concat(t[1])),document.wptbId=t[1],s.innerHTML='<div class="wptb-success wptb-message">Table "'.concat(d,'" was successfully saved.</div>'),WPTB_NotificationManager.sendNotification({message:"Table ".concat(d," was successfully saved.")}),document.getElementsByClassName("wptb-embed-btn")[0].classList.remove("wptb-button-disable"),document.getElementById("wptb-embed-shortcode").value="[wptb id=".concat(t[1],"]");document.querySelector(".wptb-preview-table");r=document.getElementsByClassName("wptb-preview-btn");0<r.length&&((r=r[0]).classList.remove("wptb-button-disable"),o=(o=r.dataset.previewHref).replace("empty",t[1]),r.setAttribute("href",o)),l.target.dataset.wptbTableStateNumberSave=window.wptbTableStateNumberShow;var o=document.getElementsByClassName("wptb-save-btn");0<o.length&&((o=o[0]).classList.add("wptb-save-disabled"),o.classList.remove("active"))}}},c.send(m)},clickOnFreeSpace:function(){var e;WPTB_Helper.editActionClassRemove(),"table_responsive_menu"!==this.getCurrentSection()&&((e=document.querySelector("#wptb-cell_mode_background"))&&e.classList.contains("visible")||(this.activateSection("elements"),(e=document.getElementById("wpcd_fixed_toolbar")).hasAttribute("data-toolbar-active-id")&&document.getElementById(e.getAttribute("data-toolbar-active-id")).classList.remove("toolbar-active"),(e=document.querySelector(".wptb-preview-table"))&&WPTB_Helper.elementOptionsSet("table_setting",e)))},elementAjax:function(e,n){var r=new XMLHttpRequest,t="".concat(wptb_admin_object?wptb_admin_object.ajaxurl:ajaxurl,"?action=wptb_element_ajax"),a=n.className.match(/wptb-element-(.+)-(\d+)/i),o={element_ajax_data:e,element_name:o=a&&Array.isArray(a)?a[1]:o,security_code:wptb_admin_object.security_code},o=JSON.stringify(o);r.open("POST",t,!0),r.setRequestHeader("Content-type","application/json; charset=utf-8"),r.onreadystatechange=function(e){var t;4==this.readyState&&200==this.status&&(t=(t=JSON.parse(r.responseText))&&Array.isArray(t)&&"element_ajax_responce"==t[0]?{value:t[1]}:"",WPTB_Helper.wptbDocumentEventGenerate("wptb-element:ajax-response",n,t))},r.send(o)},toggleTableEditMode:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=document.getElementsByClassName("wptb-edit-bar"),n=document.getElementById("wptb-cell_mode_background"),r=document.getElementById("wptb-left-scroll-panel-curtain"),a=document.getElementById("wptb-left-scroll-panel-cell-settings"),o=document.getElementsByClassName("wptb-preview-table");0<o.length&&(o=o[0]);var l=document.querySelector(".wptb-builder-panel");if(0<t.length){for(var i="",s=0;s<t.length;s++)if(e){document.select.deactivateMultipleSelectMode(),t[s].classList.remove("visible"),n.classList.remove("visible"),r.classList.remove("visible"),a.classList.remove("visible"),o.parentNode.classList.remove("wptb-preview-table-manage-cells");var c=o.getElementsByTagName("td");if(0<c.length)for(var d=0;d<c.length;d++)c[d].classList.remove("wptb-highlighted");i="closed",l.dataset.manageCellsActive=!1}else e||(document.select.activateMultipleSelectMode(),t[s].classList.add("visible"),n.classList.add("visible"),r.classList.add("visible"),o.parentNode.classList.add("wptb-preview-table-manage-cells"),i="opened",l.dataset.manageCellsActive=!0);WPTB_Helper.wptbDocumentEventGenerate("wp-table-builder/table-edit-mode/".concat(i),o)}},checkingDimensionValue:function(e,t){if(e=String(e),t=String(t),e&&t){var n=e.indexOf(t);return-1!=n&&n==e.length-t.length?!0:!1}return!1},checkSetGetStyleSizeValue:function(e,t,n,r){var a=e.style[t];if((a=String(a))&&!r||WPTB_Helper.checkingDimensionValue(a,r)){if(!r)return a}else{a=window.getComputedStyle(e);if(n&&a.getPropertyValue(n)&&r&&!WPTB_Helper.checkingDimensionValue(a.getPropertyValue(n),r)){if(!r)return!1;e.style[t]=null}else{if(!r)return a.getPropertyValue(n);e.style[t]=a.getPropertyValue(n)}}return e.style[t]},checkSetGetStyleColorValue:function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]&&arguments[3],a=e.style[t];if(a){if(!r)return a}else{var o=window.getComputedStyle(e,null);if(o&&o.getPropertyValue(n)){if(!r)return o.getPropertyValue(n);a=WPTB_Helper.rgbToHex(o.getPropertyValue(n)),WPTB_Helper.isHex(a)?e.style[t]=a:e.style[t]=""}else{if(!r)return"";e.style[t]=""}}},checkSetGetStyleValue:function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]&&arguments[3],a=e.style[t];if(a){if(!r)return a}else{a=window.getComputedStyle(e,null);if(a&&a.getPropertyValue(n)){if(!r)return a.getPropertyValue(n);e.style[t]=a.getPropertyValue(n)}else if(!r)return""}},getValueMaxCountSameElementsInArray:function(e){if(e&&Array.isArray(e)){for(var t,n,r={},a=0,o=0;o<e.length;o++)e[o]?r[e[o]]?r[e[o]]++:r[e[o]]=1:a++;for(n in r)(!t||r[t]<r[n])&&(t=n);return r[t]>=a?t:""}},recalculateIndexes:function(e){WPTB_RecalculateIndexes(e)},tableRowsColorsReinstall:function(e){var t,n,r;!e.rows.length||(t=e.className.match(/wptb-element-main(.+)-(\d+)/i))&&Array.isArray(t)&&(e="",e="0"==t[t.length-1]?"startedid-0":t[t.length-1],(t=document.querySelector(".wptb-el-main-table_setting-".concat(e,"-tableHeaderBackground")))&&(n={value:t.value},WPTB_Helper.wptbDocumentEventGenerate("controlColor:change",t,n)),(n=document.querySelector(".wptb-el-main-table_setting-".concat(e,"-tableEvenRowBackground")))&&(r={value:n.value},WPTB_Helper.wptbDocumentEventGenerate("controlColor:change",n,r)),(r=document.querySelector(".wptb-el-main-table_setting-".concat(e,"-tableOddRowBackground")))&&(e={value:r.value},WPTB_Helper.wptbDocumentEventGenerate("controlColor:change",r,e)))},getParentOfType:function(e,t){return t.nodeName===e.toUpperCase()?t:WPTB_Helper.getParentOfType(e,t.parentElement)},dragRelativeType:"",setDragRelativeType:function(e){this.dragRelativeType=e},getDragRelativeType:function(){return this.dragRelativeType},getElementColorStylesHex:function(e,t){t=e.style[t],t=WPTB_Helper.rgbToHex(t);return t=!WPTB_Helper.isHex(t)?"":t},showControlsOnElementMount:function(){document.addEventListener("element:mounted:dom",function(e){e.target.click()})},showElementsListOnRemove:function(){document.addEventListener("element:removed:dom",function(){WPTB_Helper.activateSection("elements")})},blockTinyMCE:function(){function n(e){var t=document.createElement("div");t.classList.add("wptb-plugin-blocker-element");var n=0<e.childNodes.length;e.appendChild(t),n||e.classList.add("wptb-plugin-blocker-element-empty")}function r(e){var t=e.querySelector(".wptb-plugin-blocker-element");t&&t.remove(),e.classList.remove("wptb-plugin-blocker-element-empty")}document.addEventListener("wptbSectionChanged",function(e){var t=e.detail,e=document.querySelector(".wptb-table-setup table.wptb-preview-table");e&&((e=Array.from(e.querySelectorAll("td"))).map(r),["manage_cells","cell_settings","background_menu"].includes(t)&&e.map(n))}),document.addEventListener("wptb:save:before",function(){var e=document.querySelector(".wptb-table-setup table.wptb-preview-table");Array.from(e.querySelectorAll("td")).map(r)})},calledByBlock:function(){new URL(window.location.href).searchParams.get("gutenberg")&&document.querySelector(".wptb-plugin-header-close a").addEventListener("click",function(e){e.preventDefault(),e.stopPropagation();var t=document.querySelector(".wptb-save-disabled"),e=new URL(window.location.href).searchParams.get("table");(t||window.confirm(wptb_admin_object.strings.dirtyConfirmation))&&WPTB_Helper.wptbDocumentEventGenerate("gutenbergClose",document,e)},{capture:!0})},tableClean:function(){Array.from(document.querySelectorAll(".wptb-directlyhovered")).map(function(e){e.classList.remove("wptb-directlyhovered")}),Array.from(document.querySelectorAll(".wptb-text-container p")).map(function(e){e.removeAttribute("data-placeholder")})},tableSaveIndicator:function(e){var t=document.querySelector("#wptb_builder");t&&(e?t.dataset.wptbSaving=!0:delete t.dataset.wptbSaving)}},WPTB_Initializer=function(){var e=document.body;columnsDecrementButton=e.getElementsByClassName("wptb-input-number-decrement")[0],columnsIncrementButton=e.getElementsByClassName("wptb-input-number-increment")[0],rowsDecrementButton=e.getElementsByClassName("wptb-input-number-decrement")[1],rowsIncrementButton=e.getElementsByClassName("wptb-input-number-increment")[1],columnsInput=document.getElementById("wptb-columns-number"),rowsInput=document.getElementById("wptb-rows-number"),WPTB_Helper.registerSections(["elements","table_settings","cell_settings","options_group","table_responsive_menu","manage_cells","background_menu"]),WPTB_Helper.setupSectionButtons(),WPTB_Helper.activateSection("elements"),WPTB_Helper.setupSidebarToggle(".wptb-panel-toggle-section .wptb-panel-drawer-icon"),WPTB_Helper.setupPanelToggleButtons(),new WptbResponsive("table_responsive_menu","wptbResponsiveApp",".wptb-builder-content"),WPTB_Helper.getSectionFromUrl(),WPTB_Helper.showControlsOnElementMount(),WPTB_Helper.showElementsListOnRemove(),WPTB_Helper.blockTinyMCE(),new WPTB_HeaderToolbox(".wptb-plugin-header-toolbar").init(),document.addEventListener("wp-table-builder/table-edit-mode/closed",function(){WPTB_Helper.activateSection("elements")}),WPTB_Helper.calledByBlock(),WPTB_ControlsManager.callControlScript("WhatIsNew"),WPTB_NotificationManager.init(),document.addEventListener("wptb:table:generated",function(){WPTB_ExtraStyles.applyStyles(WPTB_ExtraStyles.modes.builder),WPTB_ControlsManager.subscribeToControl("extraStyles","extraTableStyles",function(){WPTB_ExtraStyles.applyStyles(WPTB_ExtraStyles.modes.builder)},!0)})},WPTB_LeftPanel=function(){for(var e=document.getElementsByClassName("wptb-preview-table")[0],t=document.getElementsByClassName("wptb-element"),n=0;n<t.length;n++)t[n].ondragstart=function(e){e.dataTransfer.setData("wptbElement",this.dataset.wptbElement),e.dataTransfer.setData("wptbElIndic-"+this.dataset.wptbElement,"wptbElIndic-"+this.dataset.wptbElement)};e&&(document.querySelector("#wptb-left-scroll-panel-curtain .wptb-table-edit-mode-close").addEventListener("click",function(){WPTB_Helper.toggleTableEditMode(!0)}),document.addEventListener("wptbSectionChanged",function(e){"manage_cells"===e.detail&&Array.from(document.querySelectorAll(".wptb-management_table_container .wptb-table-edit-mode-close")).map(function(e){e.addEventListener("click",function(){WPTB_Helper.toggleTableEditMode(!0)})})})),document.getElementsByClassName("wptb-builder-panel")[0].onclick=function(e){e.target.classList.contains("wptb-ph-element")||WPTB_Helper.findAncestor(e.target,"wptb-ph-element")||e.target.classList.contains("wptb-fixed-toolbar")||WPTB_Helper.findAncestor(e.target,"wptb-fixed-toolbar")||"manage_cells"!==WPTB_Helper.currentSection&&WPTB_Helper.clickOnFreeSpace()};e=document.getElementsByClassName("wptb-header");(e=0<e.length?e[0]:e).onclick=function(){WPTB_Helper.clickOnFreeSpace()}};function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,t,n){"undefined"!=typeof module&&"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=n():t[e]=n()}("WPTB_Logger",self||global,function(){var t={normal:"#48BB78"};return{prepareMessage:function(e){return"%c WP Table Builder %c {message} ".replace("{message}",e)},prepareMessageStyle:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"normal";return"background-color: {bgColor} ; padding: 3px; color: #FFF; border-radius: 0 5px 5px 0;".replace("{bgColor}",t[t[e]?e:"normal"])},log:function(e){console.log(this.prepareMessage(e),"border-radius:5px 0 0 5px; background-color: #3299D1; padding: 3px; color: #FFF; font-weight: bold;",this.prepareMessageStyle("normal"))}}});var MultipleSelect=function(){var a=[],n=!1;return this.activateMultipleSelectMode=function(){a=[];for(var e=document.getElementsByClassName("wptb-preview-table")[0].getElementsByTagName("td"),t=0;t<e.length;t++)e[t].classList.remove("wptb-highlighted");n=!0},this.deactivateMultipleSelectMode=function(){n=!1},this.isActivated=function(){return n},this.pushSelectedCell=function(e){n&&(a.push(e),e.classList.add("wptb-highlighted"))},this.selectedCells=function(){return a},this.flushSelectedCells=function(){a=[]},this.getFirst=function(){for(var e,t=1e3,n=1e3,r=a.length-1;0<=r;r--)t>=a[r].dataset.xIndex&&n>=a[r].dataset.yIndex&&(e=a[r],t=a[r].dataset.xIndex,n=a[r].dataset.yIndex);return e},this.getLast=function(){for(var e,t=-1,n=-1,r=a.length-1;0<=r;r--)t<=a[r].dataset.xIndex&&n<=a[r].dataset.yIndex&&(e=a[r],t=a[r].dataset.xIndex,n=a[r].dataset.yIndex);return e},this.removeAllButFirst=function(){for(var e=this.getFirst(),t=1;t<a.length;t++)a[t].classList.add("wptb-fused-cell-"+e.dataset.xIndex+"-"+e.dataset.yIndex)},this},_this=this;function ownKeys(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach(function(e){_defineProperty(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}!function(e){(self||global)["WPTB_NotificationManager"]=e()}(function(){var r=!1;_this.store=null;return new function(){var e,t=this;this.types={};var n=null===(e=(self||global).wptb_admin_object)||void 0===e?void 0:e.notificationManager;this.sendNotification=function(e){var n,r;t.store.dispatch("addNotification",(n=e,r=t.store.getters.defaults,e=Object.keys(n).reduce(function(e,t){return Object.prototype.hasOwnProperty.call(n,t)&&r[t]&&(e[t]=n[t]),e},{}),_objectSpread(_objectSpread({},r),e)))},this.init=function(){r||(WPTB_ControlsManager.setControlData("NotificationManager",n),WPTB_ControlsManager.callControlScript("NotificationManager","NotificationManager"),t.notificationTypes=t.store.getters.notificationTypes,t.queueTypes=t.store.getters.queueTypes,t.revealTypes=t.store.getters.revealTypes,t.revealTypes=t.store.getters.revealTypes,t.dismissTypes=t.store.getters.dismissTypes,r=!0)}}});var WPTB_Parser=function(e){var t=document.createElement("div");t.innerHTML=e;for(var t=t.children[0],n=_toConsumableArray(t.querySelectorAll(".wptb-column-title-mobile-container")),r=0;r<n.length;r++)n[r].parentNode.removeChild(n[r]);for(var a=t.querySelectorAll("td"),o=0;o<a.length;o++)a[o].classList.add("wptb-droppable"),a[o].classList.remove("wptb-column-title-mobile-not-elements");return t};function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.keys||(Object.keys=function(){"use strict";var a=Object.prototype.hasOwnProperty,o=!{toString:null}.propertyIsEnumerable("toString"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],i=l.length;return function(e){if("object"!==_typeof(e)&&("function"!=typeof e||null===e))throw new TypeError("Object.keys called on non-object");var t,n,r=[];for(t in e)a.call(e,t)&&r.push(t);if(o)for(n=0;n<i;n++)a.call(e,l[n])&&r.push(l[n]);return r}}());var WPTB_RecalculateIndexes=function(e){for(var t,n=e.getElementsByTagName("tr"),r=0,a=0,o=[],l=0;l<n.length;l++){t=n[l].getElementsByTagName("td"),null==o[l]&&(o[l]=[]);for(var i=0,s=0;s<t.length;s++){if(null!=o[l][s])for(var c=0;c<100;c++){if(null==o[l][i]){o[l][i]=t[s],t[s].dataset.xIndex=i;break}i++}else o[l][s]=t[s],t[s].dataset.xIndex=i;if(t[s].dataset.yIndex=l,1<t[s].colSpan)for(var d=1;d<t[s].colSpan;d++)i++,o[l][i]="tdDummy";if(1<t[s].rowSpan)for(var p=1;p<t[s].rowSpan;p++){null==o[l+p]&&(o[l+p]=[]);for(var u=0;u<t[s].colSpan;u++)o[l+p][i-t[s].colSpan+1+u]="tdDummy"}i++}t.length>r&&(r=t.length),0==l&&(a=i)}e.columns=r,e.maxCols=a};function WptbResponsive(e,t,n){var r=this;this.sectionName=e,this.responsiveWrapperId=t,this.responsiveTable=null,this.loaded=!1,this.addContainerToDom=function(){if(!document.querySelector("#".concat(r.responsiveWrapperId))){var e=document.querySelector(n);if(!e)throw new Error("[WPTB_Responsive]: no parent container is found with the given query of [".concat(n,"]"));var t=document.createRange();t.setStart(e,0);t=t.createContextualFragment('<div class="wptb-responsive" id="'.concat(r.responsiveWrapperId,'">responsive element</div>'));e.appendChild(t),r.loaded=!0}r.responsiveTable=document.querySelector("#".concat(r.responsiveWrapperId))},this.load=function(){r.loaded||(r.addContainerToDom(),WPTB_Helper.elementStartScript(r.responsiveTable,"table_responsive_menu"),WPTB_Helper.elementOptionsSet("table_responsive_menu",r.responsiveTable),WPTB_ControlsManager.callControlScript("ResponsiveTable",r.responsiveWrapperId))},this.startUp=function(){document.addEventListener("wptbSectionChanged",function(e){var t=document.querySelector(".wptb-table-setup .wptb-preview-table");e.detail===r.sectionName&&t&&r.load()}),document.addEventListener("wptb:table:generated",function(){"table_responsive_menu"===WPTB_Helper.getCurrentSection()&&r.load()})},this.startUp()}var WPTB_Settings=function(){for(var e=document.getElementsByClassName("wptb-element"),t=0;t<e.length;t++)e[t].ondragstart=function(e){e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("wptbElement",e.target.dataset.wptbElement),e.dataTransfer.setData("wptbElIndic-"+e.target.dataset.wptbElement,"wptbElIndic-"+e.target.dataset.wptbElement),WPTB_Helper.setDragRelativeType(this.dataset.wptbRelativeElements||"")},e[t].ondragend=function(){WPTB_Helper.elementDragEndClear()};var n=new WPTB_TableStateSaveManager,r=document.getElementsByClassName("wptb-undo");0<r.length&&((r=r[0]).onclick=function(e){var t;this.classList.contains("wptb-undoredo-disabled")||(n.tableStateGet(this.dataset.wptbUndoredo),0<(t=document.getElementsByClassName("wptb-undo-redo-container")).length&&((t=t[0]).onmouseleave=function(e){e.target.onmouseleave="";document.querySelector(".wptb-preview-table");WPTB_Table()}))});r=document.getElementsByClassName("wptb-redo");0<r.length&&((r=r[0]).onclick=function(e){var t;this.classList.contains("wptb-undoredo-disabled")||(n.tableStateGet(this.dataset.wptbUndoredo),0<(t=document.getElementsByClassName("wptb-undo-redo-container")).length&&((t=t[0]).onmouseleave=function(e){e.target.onmouseleave="";document.querySelector(".wptb-preview-table");WPTB_Table()}))});var a=document.getElementsByClassName("wptb-popup-window-modal")[0];document.getElementsByClassName("wptb-embed-btn")[0].onclick=function(){this.classList.contains("wptb-button-disable")||a.classList.add("wptb-popup-show")},window.onbeforeunload=function(e){return 0==document.getElementsByClassName("wptb-save-disabled").length||null},document.getElementsByClassName("wptb-popup-dark-area")[0].onclick=function(){a.classList.remove("wptb-popup-show")},document.getElementsByClassName("wptb-popup-window-close-icon")[0].onclick=function(){a.classList.remove("wptb-popup-show")},document.getElementsByClassName("wptb-preview-btn")[0].onclick=function(e){var t,n;this.classList.contains("wptb-button-disable")||(t=Math.floor(1e4*Math.random()),(n=new URL(e.target.href)).searchParams.set("preview_id",t),e.target.href=n.toString(),WPTB_Helper.saveTable(e,!1,t))},document.getElementsByClassName("wptb-save-btn")[0].onclick=function(e){this.classList.contains("wptb-save-disabled")||WPTB_Helper.saveTable(e)};r=document.querySelector("#wptb-setup-name");r&&(r.onchange=function(){(new WPTB_TableStateSaveManager).tableStateSet()})};function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}!function(e,t,n){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=n():t[e]=n()}("WPTB_SortableTable",self||global,function(){return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},$=this.table=e.table;WPTB_RecalculateIndexes($);var o=this;function t(e,t,n){var r,a,o;"TD"===e.target.tagName?(r=null==e.offsetX?e.layerX:e.offsetX,a=null==e.offsetY?e.layerY:e.offsetY,o=!1,(o="vertical"===t&&e.target.clientWidth-r<=35||"horizontal"===t&&r<=35?!0:o)&&(e.target.clientHeight-35)/2<a&&(e.target.clientHeight+35)/2>a?n.classList.add("sortable-hover"):n.classList.remove("sortable-hover")):n.classList.remove("sortable-hover")}function c(e){t(e,"vertical",this)}function d(e){t(e,"horizontal",this)}function p(){this.classList.remove("sortable-hover")}function n(e,t){if(e.target&&"TD"===e.target.tagName&&!$.parentNode.classList.contains("wptb-preview-table-manage-cells")){var n=e.currentTarget,r=!1;if("vertical"===t&&e.target.dataset.hasOwnProperty("sortedVertical")){var a=[],o=[];if(this.itemsPerHeader&&this.itemsPerHeader<n.rows.length){WPTB_RecalculateIndexes(n);for(var l=_toConsumableArray(n.rows),i=n.querySelector("tbody")?n.querySelector("tbody"):n,s=0;s<l.length;s++)s<e.target.dataset.yIndex?(a.push(l[s]),i.removeChild(l[s])):s>parseInt(e.target.dataset.yIndex,10)+this.itemsPerHeader&&(o.push(l[s]),i.removeChild(l[s]));WPTB_RecalculateIndexes(n)}var c,d,p=n.querySelectorAll('[data-x-index="'.concat(e.target.dataset.xIndex,'"]'));(p=_toConsumableArray(p)).map(function(e){(c=parseInt(e.rowSpan,10))||(c=1),d=e.dataset.yIndex,WPTB_CutGlueTable.cutTableHorizontally(d,n),d+=c,WPTB_CutGlueTable.cutTableHorizontally(d,n)});for(var u,m=[],b=0,f=[],y=0;y<p.length;y++){var h=X(e,n,p,y,b,"vertical");if(h&&h.hasOwnProperty("i"))p=h.tds,y=h.i;else{for(var g=(p=h?h.tds:p)[y],w=(w=parseInt(g.rowSpan,10))||1,b=parseInt(g.dataset.yIndex,10)+w,h=Q(g),v=[],S=0;S<w;S++)v.push(n.rows[parseInt(g.dataset.yIndex,10)+S]),f.push(parseInt(g.dataset.yIndex,10)+S);0<g.dataset.yIndex?m.push({rowsTd:v,value:h}):u=v}}var T=J(e,"sortedVertical");if(!T)return;if(m.length&&m.sort(function(e,t){return K(T,e,t)}),m.unshift({rowsTd:u}),m.length<n.rows.length)for(var _,C=0;C<n.rows.length;C++)-1<f.indexOf(C)||((_=[]).push(n.rows[C]),m.push({rowsTd:_}));var A,E,B,x=n.querySelector("tbody");x.innerHTML="",m.map(function(e){e.rowsTd.map(function(e){x.appendChild(e)})}),!a.length||(A=n.querySelector("tbody")?n.querySelector("tbody"):n)&&(E=A.querySelector("tr"),a.map(function(e){A.insertBefore(e,E)})),o.length&&(B=n.querySelector("tbody")?n.querySelector("tbody"):n,x&&o.map(function(e){B.appendChild(e)})),WPTB_RecalculateIndexes(n),WPTB_CutGlueTable.glueTableHorizontally(n),r=!0}else if("horizontal"===t&&"0"===e.target.dataset.xIndex){var P,L,W=n.querySelectorAll('[data-y-index="'.concat(e.target.dataset.yIndex,'"]'));(W=_toConsumableArray(W)).map(function(e){(P=parseInt(e.colSpan,10))||(P=1),L=e.dataset.xIndex,WPTB_CutGlueTable.cutTableVertically(L,n),L+=P,WPTB_CutGlueTable.cutTableVertically(L,n)});for(var I,O=[],N=0,H=0;H<W.length;H++){var M=X(e,n,W,H,N,"horizontal");if(M&&M.hasOwnProperty("i"))W=M.tds,H=M.i;else{for(var k=(W=M?M.tds:W)[H],j=(j=parseInt(k.colSpan,10))||1,N=parseInt(k.dataset.xIndex,10)+j,M=Q(k),D=[],q=0;q<j;q++){var R=_toConsumableArray(n.querySelectorAll('[data-x-index="'.concat(parseInt(k.dataset.xIndex,10)+q,'"]')));D.push(R)}0<k.dataset.xIndex?O.push({columnsTd:D,value:M}):I=D}}var F=J(e,"sortedHorizontal");if(!F)return;if(O.length&&O.sort(function(e,t){return K(F,e,t)}),O.unshift({columnsTd:I}),O.length<n.maxCols)for(var G=n.maxCols-O.length,V=0;V<G;V++){var z=_toConsumableArray(n.querySelectorAll('[data-x-index="'.concat(parseInt(n.maxCols,10)-parseInt(G,10)+V,'"]')));O.push({columnsTd:[z]})}for(var U=0;U<n.rows.length;U++)n.rows[U].innerHTML="";O.map(function(e){e.columnsTd.map(function(e){e.map(function(e){n.rows[e.dataset.yIndex].appendChild(e)})})}),WPTB_RecalculateIndexes(n),WPTB_CutGlueTable.glueTableVertically(n),r=!0}r&&(function(){for(var e=_toConsumableArray(n.getElementsByTagName("td")),t=0;t<e.length;t++)e[t].hasAttribute("data-same-cell-before-division")&&e[t].removeAttribute("data-same-cell-before-division")}(),n.hasOwnProperty("tableSM")&&(new(n.tableSM())).tableStateSet(),this.reassignElementsStyles("td"),this.reassignElementsStyles("tr"))}}function J(e,t){return!(!e.currentTarget||!e.currentTarget.classList.contains("wptb-preview-table")&&!e.currentTarget.classList.contains("wptb-preview-table-mobile"))&&(e.target.dataset[t]&&"ask"!==e.target.dataset[t]?e.target.dataset[t]="ask":e.target.dataset[t]="desk",e.target.dataset[t])}function K(e,t,n){var r=0<arguments.length&&void 0!==e?e:"ask",a=1<arguments.length?t:void 0,o=2<arguments.length?n:void 0,a=a.value,o=o.value;return parseInt(a)&&parseInt(o)&&(a=parseInt(a),o=parseInt(o)),"ask"===r?a<o?-1:a===o?0:1:a<o?1:a===o?0:-1}function Q(e){for(var t=e.querySelectorAll(".wptb-text-container"),t=_toConsumableArray(t),n="",r=0;r<t.length;r++)n+=t[r].innerText,r!==t.length-1&&(n+=" ");return n}function X(e,t,n,r,a,o){var l,i,s,c,d,p,u=n[r],m=!1;if("vertical"===o?(i="colSpan",s="data-y-index",c="yIndex",d="xIndex",y="rowSpan",p=t.rows.length):"horizontal"===o&&(i="rowSpan",s="data-x-index",c="xIndex",d="yIndex",y="colSpan",p=t.maxCols),0<u.dataset[c]-a)for(var b=t.querySelectorAll("[".concat(s,'="').concat(a,'"]')),f=0;f<b.length;f++)if(l=(l=b[f][i])||1,b[f].dataset[d]<e.target.dataset[d]&&parseInt(b[f].dataset[d],10)+parseInt(l,10)>e.target.dataset[d]){n.splice(r,0,b[f]),m=!0,r--;break}if(m)return{tds:n,i:r};var y=(y=parseInt(u[y],10))||1;if(r==n.length-1&&parseInt(u.dataset[c],10)+y<p){b=t.querySelectorAll("[".concat(s,'="').concat(parseInt(u.dataset[c],10)+y,'"]'));for(var h=0;h<b.length;h++)if(l=(l=b[h][i])||1,b[h].dataset[d]<e.target.dataset[d]&&parseInt(b[h].dataset[d],10)+parseInt(l,10)>e.target.dataset[d]){n.push(b[h]),m=!0;break}}return!!m&&{tds:n}}return this.itemsPerHeader=0,this.tableMaxCols=$.maxCols,this.cellsStylesScheme={},this.rowsStylesScheme={},this.sortModeSwitcher=function(e,t){t&&(this.sortModeSwitcher("horizontal",!1),this.sortModeSwitcher("vertical",!1)),"vertical"===e?(this.table.removeEventListener("click",this.sortableTableVerticalStart,!1),t?(this.sortingCellMouseMoveSwitcher("vertical",!0),this.table.addEventListener("click",this.sortableTableVerticalStart,!1),this.table.dataset.wptbSortableTableVertical="1",this.createTableElementsStylesScheme("td"),this.createTableElementsStylesScheme("tr")):(this.sortingCellMouseMoveSwitcher("vertical",!1),delete this.table.dataset.wptbSortableTableVertical)):"horizontal"===e&&(this.table.removeEventListener("click",this.sortableTableHorizontalStart,!1),t?(this.sortingCellMouseMoveSwitcher("horizontal",!0),this.table.addEventListener("click",this.sortableTableHorizontalStart,!1),this.table.dataset.wptbSortableTableHorizontal="1",this.createTableElementsStylesScheme("td"),this.createTableElementsStylesScheme("tr")):(this.sortingCellMouseMoveSwitcher("horizontal",!1),delete this.table.dataset.wptbSortableTableHorizontal))},this.tableObjectChange=function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];return this.table.classList.contains("wptb-mobile-view-active")&&e?this.table=$.parentNode.parentNode.querySelector(".wptb-preview-table-mobile"):this.table.classList.contains("wptb-preview-table-mobile")&&!e&&(this.table=$.parentNode.querySelector(".wptb-preview-table")),this.table},this.createTableElementsStylesScheme=function(e){this.tableObjectChange();var t=this.table.querySelectorAll(e);if(t.length)for(var n=0;n<t.length;n++){var r=t[n],a=window.getComputedStyle(r,null).getPropertyValue("background-color"),o="";"td"===e?(o=r.dataset.xIndex+"-"+r.dataset.yIndex,this.cellsStylesScheme[o]={backgroundColor:a}):"tr"===e&&(o=String(n),this.rowsStylesScheme[o]={backgroundColor:a})}this.tableObjectChange(!1)},this.reassignElementsStyles=function(e){this.tableObjectChange();var t,n=this.table.querySelectorAll(e);if("td"===e?t=this.cellsStylesScheme:"tr"===e&&(t=this.rowsStylesScheme),n.length)for(var r=0;r<n.length;r++){var a=n[r],o="";if("td"===e?o=a.dataset.xIndex+"-"+a.dataset.yIndex:"tr"===e&&(o=r),t.hasOwnProperty(o)){var l,i=t[o];for(l in i)a.style[l]=i[l]}}this.tableObjectChange(!1)},this.sortableTableInitialization=function(e){var t,n,r,a;this.table.dataset.wptbSortableTableVertical&&"1"===this.table.dataset.wptbSortableTableVertical?(t="vertical",n="horizontal"):this.table.dataset.wptbSortableTableHorizontal&&"1"===this.table.dataset.wptbSortableTableHorizontal&&(t="horizontal",n="vertical"),t&&"string"==typeof t&&n&&"string"==typeof n&&(r=WPTB_GetDirectionAfterReconstruction(this.table,t,n,"vertical",e),"object"===_typeof(r)&&r.hasOwnProperty("switch")&&((a=function(e){var t=r.switch(e);"object"===_typeof(t)&&(this.itemsPerHeader=t.itemsPerHeader,t.hasOwnProperty("newTable")?(e=this.table,this.table=t.newTable,this.sortModeSwitcher(t.type[0],!0),this.table=e):this.sortModeSwitcher(t.type[0],!0))}).call(o),this.table.addEventListener("table:rebuilt",function(e){a.call(o,e)},!1)))},this.sortingCellMouseMoveSwitcher=function(e,t){var n=this;function r(e,t,n){e.removeEventListener("mousemove",t,!1),e.removeEventListener("mouseleave",p,!1),n&&(e.addEventListener("mousemove",t,!1),e.addEventListener("mouseleave",p,!1))}function a(e,t,n){n?e.dataset[t]&&"desk-disabled"===e.dataset[t]?e.dataset[t]="desk":e.dataset[t]="ask":"ask"===e.dataset[t]?e.dataset[t]="ask-disabled":"desk"===e.dataset[t]&&(e.dataset[t]="desk-disabled")}var o=this.table.querySelectorAll("td");if(o.length&&(o=_toConsumableArray(o)).map(function(e){r(e,c,!1),a(e,"sortedVertical",!1),r(e,d,!1),a(e,"sortedHorizontal",!1)}),t)if("vertical"===e)for(var l=this.table.rows.length,i=0;0<l;){var s=this.table.querySelectorAll('[data-y-index="'.concat(i,'"]'));(s=_toConsumableArray(s)).map(function(e){r(e,c,t),a(e,"sortedVertical",t)}),this.itemsPerHeader?(l-=this.itemsPerHeader+1,i+=this.itemsPerHeader+1):l=0}else"horizontal"===e&&(e=this.table.querySelectorAll('[data-x-index="0"]'),(e=_toConsumableArray(e)).map(function(e){2<n.table.querySelectorAll('[data-y-index="'.concat(e.dataset.yIndex,'"]')).length&&(r(e,d,t),a(e,"sortedHorizontal",t))}))},this.sortableTableVerticalStart=function(e){n.call(o,e,"vertical")},this.sortableTableHorizontalStart=function(e){n.call(o,e,"horizontal")},this}});var WPTB_Stringifier=function(e){if(e){var t=e.cloneNode(!0);t.dataset.tableColumns=e.columns,t.style.width=null,t.style.minWidth=null,t.style.maxWidth=null;var n=t.getElementsByTagName("td");if(0<n.length)for(var r=0;r<n.length;r++){n[r].removeAttribute("draggable"),n[r].classList.remove("wptb-droppable");var a=n[r].className.match(/wptb-element-((.+-)\d+)/i);a&&n[r].classList.remove(a[0]);var o=n[r].getElementsByClassName("wptb-ph-element");if(0<o.length)for(var l=0;l<o.length;l++){var i=o[l].querySelectorAll(".mce-content-body");if(0<i.length)for(var s=0;s<i.length;s++)i[s].classList.remove("mce-content-body");var c=o[l].querySelectorAll("[data-mce-style]");if(0<c.length)for(var d=0;d<c.length;d++)c[d].removeAttribute("data-mce-style");var p=o[l].querySelectorAll("[contenteditable]");if(0<p.length)for(var u=0;u<p.length;u++)p[u].removeAttribute("contenteditable");var m=o[l].querySelectorAll("[spellcheck]");if(0<m.length)for(var b=0;b<m.length;b++)m[b].removeAttribute("spellcheck");var f=o[l].querySelectorAll("[id^=mce_]");if(0<f.length)for(var y=0;y<f.length;y++)f[y].removeAttribute("id");for(var h=o[l].querySelectorAll(".wptb-actions"),g=h.length;0<g&&h[0]&&h[0].parentNode;)h[0].parentNode.removeChild(h[0]),g--;if(0<(w=o[l].querySelectorAll("[data-mce-bogus]")).length)for(var w=_toConsumableArray(w),v=0;v<w.length;v++)w[v]&&w[v].parentNode&&w[v].parentNode.removeChild(w[v])}}return t}};function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(r=(l=i.next()).done)&&(n.push(l.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}var array=[],WPTB_Table=function(e,t,n){function v(e){var t=e.currentTarget,n=t.rowSpan,r=t.colSpan,a=document.getElementsByClassName("wptb-no-cell-action"),o=document.getElementsByClassName("wptb-single-action"),l=document.getElementsByClassName("wptb-multiple-select-action"),i=document.getElementById("wptb-left-scroll-panel-cell-settings");function s(e,t){var n=1<arguments.length&&void 0!==t&&t,r=n?"add":"remove";e.classList[r]("wptb-highlighted");for(var r=C(e),r=_slicedToArray(r,2),a=r[0],o=r[1],l=e.rowSpan,i=e.colSpan,s=0;s<l;s++)for(var c=0;c<i;c++)array[a+s][o+c]=n?1:0}if((d=C(t))[0],d[1],document.select.isActivated()){d=e.shiftKey;t.className.match(/wptb-highlighted/)?!(1<(e=Array.from(document.querySelectorAll(".wptb-highlighted"))).length)||d?s(t,!1):(s(t,!0),e.map(function(e){e!==t&&s(e,!1)})):(d||Array.from(document.querySelectorAll(".wptb-highlighted")).map(function(e){e!==t&&s(e,!1)}),s(t,!0));var c=document.getElementsByClassName("wptb-highlighted"),d=c.length;if(0===d){for(var p=0;p<l.length;p++)l[p].classList.remove("visible"),l[p].setAttribute("disabled","disabled");for(p=0;p<a.length;p++)a[p].classList.add("visible"),a[p].removeAttribute("disabled");for(p=0;p<o.length;p++)o[p].classList.remove("visible"),o[p].setAttribute("disabled","disabled");i.classList.remove("visible")}else if(1===d){for(p=0;p<l.length;p++)l[p].classList.remove("visible"),l[p].setAttribute("disabled","disabled");for(p=0;p<a.length;p++)a[p].classList.remove("visible"),a[p].setAttribute("disabled","disabled");for(p=0;p<o.length;p++)o[p].classList.add("visible"),o[p].removeAttribute("disabled");c=c[0],WPTB_Helper.elementOptionsSet("table_cell_setting",c);var u=c.className.match(/wptb-element-((.+-)\d+)/i);["cellWidth","cellHeight"].map(function(e){var t,n,r,a="wptb-el-".concat(u[1],"-").concat(e),o="wptb-el-".concat(u[1],"-").concat(e,"Fixed");"cellWidth"!==e&&"cellHeight"!==e||(n=t="","cellWidth"===e?(t="width",n="getColumnWidth"):"cellHeight"===e&&(t="height",n="getRowHeight"),r=c.style[t],a=document.querySelectorAll("."+a),o=document.querySelector("."+o),a=_toConsumableArray(a),r||c.dataset["wptbFixed".concat(t.toUpperCase())]?(a.map(function(e){r?e.value=parseFloat(r,10):c.dataset["wptbFixed".concat(t.toUpperCase())]&&(e.value=c.dataset["wptbFixed".concat(t.toUpperCase())])}),o.checked=!0):(r=WPTB_Helper[n](A,c),a.map(function(e){e.value=r}),o.checked=!1))}),i.classList.add("visible")}else{for(p=0;p<l.length;p++)A.isSquare(array)?(l[p].classList.add("visible"),l[p].removeAttribute("disabled")):(l[p].classList.remove("visible"),l[p].setAttribute("disabled","disabled"));for(p=0;p<a.length;p++)a[p].classList.remove("visible"),a[p].setAttribute("disabled","disabled");for(p=0;p<o.length;p++)o[p].classList.remove("visible"),o[p].setAttribute("disabled","disabled");i.classList.remove("visible")}i=t.className.match(/wptb-element-table_cell_setting-((.+-)\d+)/i);i&&1<i.length&&(m="wptb-el-table_cell_setting-".concat(i[1],"-").concat("emptyCell"),(m=document.getElementById(m))&&(m.querySelector('input[type="checkbox"]').checked=t.classList.contains("wptb-empty")));var m={countMarkedCells:d};WPTB_Helper.wptbDocumentEventGenerate("wp-table-builder/cell/mark",t,m);m=document.querySelector("#wptb-split-cell");m&&(1===d&&(1!==n||1!==r)?(m.classList.add("visible"),m.removeAttribute("disabled")):(m.classList.remove("visible"),m.setAttribute("disabled","disabled")))}}function S(e){for(var t=0;t<e.length;t++){for(var n=0;n<e[t].length;n++)e[t][n];0}A.isSquare(e)}function T(){for(var e=document.getElementsByClassName("wptb-no-cell-action"),t=document.getElementsByClassName("wptb-single-action"),n=document.getElementsByClassName("wptb-multiple-select-action"),r=document.getElementById("wptb-left-scroll-panel-cell-settings"),a=A.getElementsByClassName("wptb-highlighted");a.length;)a[0].classList.remove("wptb-highlighted");r.classList.remove("visible");for(var o=0;o<array.length;o++)for(var l=0;l<array[o].length;l++)array[o][l]=0;for(var i=0;i<n.length;i++)n[i].classList.remove("visible"),n[i].setAttribute("disabled","disabled");for(var s=0;s<e.length;s++)e[s].classList.add("visible"),e[s].removeAttribute("disabled");for(var c=0;c<t.length;c++)t[c].classList.remove("visible"),t[c].setAttribute("disabled","disabled");WPTB_Helper.wptbDocumentEventGenerate("wp-table-builder/undo-select/active",A)}function r(){for(var e=[],t=[],n=0;n<A.rows.length;n++){for(var r=A.rows[n].getElementsByTagName("td"),a=0,o=0;o<r.length;o++)a+=r[o].colSpan;e.push(a)}u=Math.max.apply(null,e);for(var l=A.rows.length,n=0;n<l;n++){t[n]=[];for(o=0;o<u;o++)t[n].push(0)}return S(t),t}var a,o,u,l=document.getElementsByClassName("wptb-settings-items"),_=document.getElementsByClassName("wptb-table-setup")[0],C=function(e){for(var t=[],n=0;n<u;n++)t[n]=0;for(n=0;n<A.rows.length;n++)for(var r=A.rows[n].getElementsByTagName("td"),a=cellPointer=0;a<u;a+=stepsToMove)if(stepsToMove=1,t[a])t[a]--;else{var o=r[cellPointer++];if(o==e)return[n,a];if(1<o.rowSpan){for(var l=0;l<o.colSpan;l++)t[a+l]=o.rowSpan-1;stepsToMove=o.colSpan}else 1<o.colSpan&&(stepsToMove=o.colSpan)}};if(jQuery("#wptb-table-border-color").val(""),jQuery("#wptb-table-padding-number,#wptb-table-padding-slider").val("15"),e||t){for(var i=0;i<l.length;i++)"wptb-apply-inner-border"!==l[i].id&&l[i].classList.add("visible");(A=document.createElement("table")).classList.add("wptb-preview-table","wptb-element-main-table_setting-startedid-0"),A.style.border="1px solid #d1d1d1",A.dataset.reconstraction=1;for(i=0;i<t;i++){(a=A.insertRow(-1)).classList.add("wptb-row");for(var f=0;f<e;f++)(o=new WPTB_Cell(v)).setCoords(i,f),o.getDOMElement().style.border="1px solid #d1d1d1",a.appendChild(o.getDOMElement())}}else{if(!(n=n||document.querySelector(".wptb-preview-table")))return;var A,s=(A=n).getElementsByTagName("td");if(0<s.length)for(var c=0;c<s.length;c++)WPTB_Cell(v,s[c])}A.mark=function(e){v(e)},A.wptbCell=function(e,t){return WPTB_Cell(e,t)},A.tableSM=function(){return WPTB_TableStateSaveManager},A.undoSelect=function(){T()},A.setMaxAmountOfCells=function(e){u=e},A.getMaxAmountOfCells=function(){return u},A.fillTableArray=r,A.recalculateIndexes=function(){WPTB_Helper.recalculateIndexes(this)},A.addColumnWidth=function(p,u){var e=A.getElementsByClassName("wptb-highlighted");if(0<e.length){for(var t=0;t<e.length;t++){var n=e[t].dataset.xIndex;n&&!function e(t,n){for(var r=A.rows,a=!1,o=[],l=0;l<r.length;l++)for(var i=r[l].children,s=0;s<i.length;s++){var c=i[s];if(c.dataset.xIndex==t){if(p)c.colSpan==n?(c.style.width=p+"px",c.removeAttribute("data-wptb-fixed-width"),a=!0):(c.style.width=null,c.dataset.wptbFixedWidth=p,l!=r.length-1||a||e(t,n+1));else if(u)c.style.width=null,c.removeAttribute("data-wptb-fixed-width");else if(c.dataset.wptbFixedWidth)c.colSpan==n&&(c.style.width=c.dataset.wptbFixedWidth+"px",c.removeAttribute("data-wptb-fixed-width"));else if(c.style.width){for(var d=0;d<o.length;d++)o[d].style.width=c.style.width;o=[]}else o.push(c);break}}}(n,1)}A.tdDefaultWidth(),WPTB_Helper.wptbDocumentEventGenerate("wp-table-builder/table-changed/after",A)}},A.tdDefaultWidth=function(){for(var e=A.rows,t=0,n=0,r=0,a=document.getElementsByClassName("wptb-table-setup")[0],o=a.offsetWidth,l=[],i=[],s=0,c=0,d="",p=window.getComputedStyle(A,null),u=p.getPropertyValue("border-left-width"),p=p.getPropertyValue("border-right-width"),m=parseFloat(u,10)+parseFloat(p,10),b=0;b<e.length;b++)for(var f=e[b].children,y=0;y<f.length;y++){var h,g,w,v=f[y];l[parseFloat(v.dataset.xIndex)]||i[parseFloat(v.dataset.xIndex)]?i[parseFloat(v.dataset.xIndex)]?v.dataset.wptbFixedWidth||(v.dataset.wptbCssTdAutoWidth=!0):l[parseFloat(v.dataset.xIndex)]&&v.removeAttribute("data-wptb-css-td-auto-width"):(v.style.width?(l[parseFloat(v.dataset.xIndex)]=parseFloat(v.style.width),v.removeAttribute("data-wptb-css-td-auto-width")):v.dataset.wptbFixedWidth||(i[parseFloat(v.dataset.xIndex)]=A.dataset.wptbTdWidthAuto?parseFloat(A.dataset.wptbTdWidthAuto,10):100,v.dataset.wptbCssTdAutoWidth=!0),window.getComputedStyle(v,null)&&(h=(w=window.getComputedStyle(v,null)).getPropertyValue("padding-left"),g=w.getPropertyValue("padding-right"),s=parseFloat(h,10)+parseFloat(g,10),g=w.getPropertyValue("border-left-width"),w=w.getPropertyValue("border-right-width"),c=parseFloat(g,10)+parseFloat(w,10),c/=2,l[parseFloat(v.dataset.xIndex)]?(l[parseFloat(v.dataset.xIndex)]+=s,l[parseFloat(v.dataset.xIndex)]+=c,0==y&&m/2<=parseFloat(g,10)?l[parseFloat(v.dataset.xIndex)]+=parseFloat(g,10)/2:0==y&&m/2>parseFloat(g,10)&&(l[parseFloat(v.dataset.xIndex)]+=m/2-parseFloat(w,10)/2),y==f.length-1&&m/2<=parseFloat(w,10)?l[parseFloat(v.dataset.xIndex)]+=parseFloat(w,10)/2:y==f.length-1&&m/2>parseFloat(w,10)&&(l[parseFloat(v.dataset.xIndex)]+=m/2-parseFloat(w,10)/2)):i[parseFloat(v.dataset.xIndex)]&&(i[parseFloat(v.dataset.xIndex)]+=s,i[parseFloat(v.dataset.xIndex)]+=c,0==y&&m/2<=parseFloat(g,10)?i[parseFloat(v.dataset.xIndex)]+=parseFloat(g,10)/2:0==y&&m/2>parseFloat(g,10)&&(i[parseFloat(v.dataset.xIndex)]+=m/2-parseFloat(g,10)/2),y==f.length-1&&m/2<=parseFloat(w,10)?i[parseFloat(v.dataset.xIndex)]+=parseFloat(w,10)/2:y==f.length-1&&m/2>parseFloat(w,10)&&(i[parseFloat(v.dataset.xIndex)]+=m/2-parseFloat(g,10)/2))))}for(var S=0;S<l.length;S++)l[S]&&(n+=l[S]);for(var T=0,_=0;_<i.length;_++)i[_]&&(r+=i[_],T++);t=n+r,A.dataset.wptbTableTdsSumMaxWidth=t,T?(A.dataset.wptbCellsWidthAutoCount=T,A.mergingellsHorizontally?A.dataset.wptbFixedWidthSize=n:A.removeAttribute("data-wptb-fixed-width-size")):(A.removeAttribute("data-wptb-fixed-width-size"),A.removeAttribute("data-wptb-cells-width-auto-count"));var C,p=!1;t<o?T?(A.style.minWidth="100%",A.mergingellsHorizontally?(A.style.width="auto",C=(C=(o-n)/T)-s-c,p=!0):A.style.width="100%"):(A.style.width="auto",A.style.minWidth=null,A.style.maxWidth=null):(A.style.maxWidth=null,A.style.minWidth=t+"px",A.style.width="auto",C=A.dataset.wptbTdWidthAuto||"100",p=!0);o=document.head;!o||(t=o.querySelector('style[data-wptb-td-auto-width="true"]'))&&o.removeChild(t),p&&((d=document.createElement("style")).setAttribute("data-wptb-td-auto-width",!0),d.innerHTML="[data-wptb-css-td-auto-width=true]{width:"+C+"px}",o&&o.appendChild(d)),A.dataset.wptbTableAlignment?(d=A.dataset.wptbTableAlignment,a.offsetWidth<A.offsetWidth?A.style.float=null:A.style.float="center"==d?null:d,a.style.float="center"==d?null:d,C&&A.dataset.wptbTableContainerMaxWidth&&A.offsetWidth<A.dataset.wptbTableContainerMaxWidth&&(A.style.width="100%")):A.style.float=null},A.addRowHeight=function(p,u){var e=A.getElementsByClassName("wptb-highlighted");if(0<e.length){for(var t=0;t<e.length;t++){var n=e[t].dataset.yIndex;n&&!function e(t,n){for(var r=A.rows,a=!1,o=[],l=0;l<r.length;l++)for(var i=r[l].children,s=0;s<i.length;s++){var c=i[s];if(c.dataset.yIndex==t)if(p)c.rowSpan!=n?(c.style.height=null,c.dataset.wptbFixedHeight=p,s!=i.length-1||a||e(t,n+1)):(c.style.height=p+"px",c.removeAttribute("data-wptb-fixed-heidht"),a=!0);else if(u)c.style.height=null,c.removeAttribute("data-wptb-fixed-heidht");else if(c.dataset.wptbFixedHeight)(c.rowSpan=n)&&(c.style.height=c.dataset.wptbFixedHeight+"px",c.removeAttribute("data-wptb-fixed-width"));else if(c.style.height){for(var d=0;d<o.length;d++)o[d].style.height=c.style.height;o=[]}else o.push(c)}}(n,1)}WPTB_Helper.wptbDocumentEventGenerate("wp-table-builder/table-changed/after",A)}},A.reconstraction=function(){var e=A.getElementsByTagName("td");A.mergingellsHorizontally=!1,A.mergingCellsVertically=!1,A.dataset.reconstraction=1;for(var t=0,n=0;n<e.length&&(1<e[n].colSpan&&(A.dataset.reconstraction=0,A.mergingellsHorizontally=!0,t++),1<e[n].rowSpan&&(A.dataset.reconstraction=0,A.mergingCellsVertically=!0,t++),2!=t);n++);},A.addColumnEnd=function(){var e,t,n,r=document.getElementsByClassName("wptb-preview-table");(t=0<r.length?r[0].querySelector("td"):t)&&(n=t.getAttribute("style"));for(var a=0;a<A.rows.length;a++)e=new WPTB_Cell(v),n&&(e.getDOMElement().setAttribute("style",n),e.getDOMElement().style.width=null,e.getDOMElement().style.height=null,e.getDOMElement().style.borderColor=WPTB_TableSettingsData.getTableSetting("borderColor")),A.rows[a].appendChild(e.getDOMElement()),array[a].push(0);u++,A.recalculateIndexes(),A.tdDefaultWidth(),A.addRowHeight(),WPTB_Helper.dataTitleColumnSet(A),T(),WPTB_Helper.wptbDocumentEventGenerate("wp-table-builder/table-changed/after",A),(new WPTB_TableStateSaveManager).tableStateSet()},A.addColumnStart=function(){var e,t,n,r,a=document.getElementsByClassName("wptb-preview-table");(n=0<a.length?a[0].querySelector("td"):n)&&(r=n.getAttribute("style"));for(var o=0;o<A.rows.length;o++)e=new WPTB_Cell(v),r&&(e.getDOMElement().setAttribute("style",r),e.getDOMElement().style.width=null,e.getDOMElement().style.height=null,e.getDOMElement().style.borderColor=WPTB_TableSettingsData.getTableSetting("borderColor")),(t=A.rows[o].getElementsByTagName("td")[0])?A.rows[o].insertBefore(e.getDOMElement(),t):A.rows[o].appendChild(e.getDOMElement()),array[o].push(0);u++,A.recalculateIndexes(),A.tdDefaultWidth(),A.addRowHeight(),WPTB_Helper.dataTitleColumnSet(A),T(),WPTB_Helper.wptbDocumentEventGenerate("wp-table-builder/table-changed/after",A),(new WPTB_TableStateSaveManager).tableStateSet()},A.addColumnAfter=function(e){var t,n,r,a=A.rows;if(null!=e&&"number"==typeof e?(r=e,t=document.querySelector('[data-x-index="'+r+'"]')):(t=document.querySelector(".wptb-highlighted"),r=C(t)[1]),t)if(n=t.getAttribute("style"),u-r-t.colSpan+1==1)A.addColumnEnd();else{function o(e){var t=new WPTB_Cell(v);return e&&(t.getDOMElement().setAttribute("style",e),t.getDOMElement().style.width=null,t.getDOMElement().style.height=null),t.getDOMElement().style.borderColor=WPTB_TableSettingsData.getTableSetting("borderColor"),t}for(var l=0;l<a.length;l++)for(var i=a[l].children,s=0;s<i.length;s++)if(parseInt(i[s].dataset.xIndex)<=r){if(parseInt(i[s].dataset.xIndex)+i[s].colSpan==r+t.colSpan){var c=o(n),d=i[s].nextSibling;d?a[l].insertBefore(c.getDOMElement(),d):a[l].appendChild(c.getDOMElement());break}if(parseInt(i[s].dataset.xIndex)+i[s].colSpan>r+t.colSpan){i[s].colSpan++,1<i[s].rowSpan&&(l+=i[s].rowSpan-1);break}}else if(parseInt(i[s].dataset.xIndex)>r){c=o(n);a[l].insertBefore(c.getDOMElement(),i[s]);break}for(var p=0;p<array.length;p++)array[p].push(0);u++,S(array),A.recalculateIndexes(),A.addColumnWidth(),A.addRowHeight(),WPTB_Helper.dataTitleColumnSet(A),T(),WPTB_Helper.wptbDocumentEventGenerate("wp-table-builder/table-changed/after",A),(new WPTB_TableStateSaveManager).tableStateSet()}},A.addColumnBefore=function(){var e=document.querySelector(".wptb-highlighted"),e=C(e)[1];0===e?A.addColumnStart():A.addColumnAfter(e-1)},A.addRowToTheEnd=function(){var e,t=A.insertRow(-1),n=document.getElementsByClassName("wptb-preview-table");if(t.classList.add("wptb-row"),0<n.length){for(var n=n[0],r=0;r<u;r++){var a=new WPTB_Cell(v),o=n.querySelector('[data-x-index="'+r+'"]');o&&(o=o.getAttribute("style"),a.getDOMElement().setAttribute("style",o),a.getDOMElement().style.height=null),t.appendChild(a.getDOMElement())}e=Array.from(array[0]),array.push(e),S(array),A.recalculateIndexes(),WPTB_Helper.tableRowsColorsReinstall(A),A.addColumnWidth(),WPTB_Helper.dataTitleColumnSet(A),T(),WPTB_Helper.wptbDocumentEventGenerate("wp-table-builder/table-changed/after",A),(new WPTB_TableStateSaveManager).tableStateSet()}},A.addRowToTheStart=function(){var e,t=A.insertRow(0),n=document.getElementsByClassName("wptb-preview-table");if(t.classList.add("wptb-row"),0<n.length){for(var n=n[0],r=0;r<u;r++){var a=new WPTB_Cell(v),o=n.querySelector('[data-x-index="'+r+'"]');o&&(o=o.getAttribute("style"),a.getDOMElement().setAttribute("style",o),a.getDOMElement().style.height=null),t.appendChild(a.getDOMElement())}e=Array.from(array[0]),array.push(e),S(array),A.recalculateIndexes(),WPTB_Helper.tableRowsColorsReinstall(A),A.addColumnWidth(),WPTB_Helper.dataTitleColumnSet(A),T(),WPTB_Helper.wptbDocumentEventGenerate("wp-table-builder/table-changed/after",A),(new WPTB_TableStateSaveManager).tableStateSet()}},A.addRowBefore=function(){for(var e,t=document.querySelector(".wptb-highlighted"),n=t.getAttribute("style"),r=C(t)[0],a=(r=0===r?-1:r)-1;0<=a;a--){var o=A.rows[a].children,l=o.length;if(0<l)for(var i=0;i<l;i++)if(1==o[i].rowSpan){r=a,e=!0;break}if(e)break}-1===r?A.addRowToTheStart():A.addRowAfter(r,n)},A.addRowAfter=function(e,t){var n,r=null!=e&&"number"==typeof e||null!=t?e:(t=(n=document.querySelector(".wptb-highlighted")).getAttribute("style"),(e=C(n)[0])+n.rowSpan-1),a=0;if(r<A.rows.length-1){for(var o=0;o<=r;o++){var l=A.rows[o].children,i=l.length;if(0<i)for(var s=0;s<i;s++)r<l[s].rowSpan-1+o&&l[s].rowSpan++}var c=A.rows[r+1].children,d=c.length;if(0<d)for(var p=0;p<d;p++)a+=c[p].colSpan}else a=array[0].length;var u=A.insertRow(r+1);for(u.classList.add("wptb-row"),f=0;f<a;f++){var m=new WPTB_Cell(v),b=A.querySelector('[data-x-index="'+f+'"]');b&&(b=b.getAttribute("style"),m.getDOMElement().setAttribute("style",b),m.getDOMElement().style.height=null),u.appendChild(m.getDOMElement())}n=Array.from(array[0]),array.push(n),S(array),A.recalculateIndexes(),WPTB_Helper.tableRowsColorsReinstall(A),A.addColumnWidth(),WPTB_Helper.dataTitleColumnSet(A),T(),WPTB_Helper.wptbDocumentEventGenerate("wp-table-builder/table-changed/after"),(new WPTB_TableStateSaveManager).tableStateSet()},A.isSquare=function(e){for(var t,n,r=-1,a=-1,o=-1,l=-1,i=0,s=0;s<e.length;s++)for(var c=0;c<e[s].length;c++)1==e[s][c]&&((c<a||-1==a)&&(a=c),(s<r||-1==r)&&(r=s));for(s=e.length-1;-1<s;s--)for(c=e[s].length-1;-1<c;c--)1==e[s][c]&&(l<c&&(l=c),o<s&&(o=s));for(s=r;s<o;s++)for(c=a;c<l;c++)if(0==e[s][c]||null==e[s][c])return!1;for(s=0;s<e.length;s++)for(c=0;c<e[s].length;c++)1==e[s][c]&&i++;return(t=o-r+1)*(n=l-a+1)===i&&[t,n]},A.mergeCells=function(){for(var e=A.isSquare(array),t=e[0],e=e[1],n=document.querySelector(".wptb-highlighted"),r=[].slice.call(document.getElementsByClassName("wptb-highlighted"),1),a=[],o=0;o<r.length;o++){var l=r[o].getElementsByClassName("wptb-ph-element");if(0<l.length)for(var i=l.length,s=0;s<i;s++)a.push(l[s]);r[o].parentNode.removeChild(r[o])}if(0<a.length)for(var c=0;c<a.length;c++)n.appendChild(a[c]);n.colSpan=e,n.rowSpan=t,A.recalculateIndexes(),A.reconstraction();e=n.style.width,t=n.dataset.wptbFixedWidth;e?A.addColumnWidth(parseFloat(e,10)):t?A.addColumnWidth():A.addColumnWidth(!1,!0);e=n.style.height,t=n.dataset.wptbFixedHeight;e?A.addRowHeight(parseFloat(e,10)):t?A.addRowHeight():A.addRowHeight(!1,!0),WPTB_Helper.dataTitleColumnSet(A),T(),WPTB_Helper.wptbDocumentEventGenerate("wp-table-builder/table-changed/after",A),(new WPTB_TableStateSaveManager).tableStateSet()},A.splitCell=function(){var e=document.getElementsByClassName("wptb-highlighted")[0],t=e.rowSpan,n=e.colSpan,r=e.getAttribute("style"),a=C(e)[0],o=A.rows[a],l=e.dataset.xIndex;e.rowSpan=1;for(var i=e.colSpan=1;i<n;i++){var s=new WPTB_Cell(v);s.getDOMElement().setAttribute("style",r),s.getDOMElement().classList.add("wptb-highlighted"),e.nextSibling?o.insertBefore(s.getDOMElement(),e.nextSibling):o.appendChild(s.getDOMElement())}if(1<t)for(var c=1;c<t;c++){var d=void 0,p=A.rows[a+c],u=p.children,m=u.length;if(0<m)for(var b=0;b<m;b++)if(Number(u[b].dataset.xIndex)>Number(l)){d=u[b];break}for(var f=0;f<n;f++){var y=new WPTB_Cell(v);y.getDOMElement().setAttribute("style",r),null!=d?p.insertBefore(y.getDOMElement(),d):p.appendChild(y.getDOMElement())}}A.recalculateIndexes(),A.reconstraction(),A.addColumnWidth(),A.addRowHeight(),WPTB_Helper.dataTitleColumnSet(A),T(),WPTB_Helper.wptbDocumentEventGenerate("wp-table-builder/table-changed/after",A),(new WPTB_TableStateSaveManager).tableStateSet()},A.findRowspannedCells=function(e){var t=[];if(actualPoints=function(e){for(var t=A.rows[e].getElementsByTagName("td"),n=0,r=0;r<t.length;r++)n+=t[r].colSpan;return n}(e),actualPoints===u)return[];for(var n=u-actualPoints,r=e-1;0<=r&&n;r--)for(var a=A.rows[r].getElementsByTagName("td"),r=0;r<a.length;r++)1<a[r].rowSpan&&(t.push(a[r]),n-=a[r].colSpan);return t},A.addLackingCells=function(){for(var e=[],t=0;t<A.rows.length;t++)e.push(0);for(t=0;t<A.rows.length;t++)for(var n=A.rows[t].getElementsByTagName("td"),r=0;r<n.length;r++)if(1<n[r].rowSpan)for(var a=1;a<n[r].rowSpan;a++)e[t+a]++;for(t=0;t<A.rows.length;t++){for(var n=A.rows[t].getElementsByTagName("td"),o=0,r=0;r<n.length;r++)o+=n[r].colSpan;o+=e[t],difference=u-o;for(r=0;r<difference;r++){var l=new WPTB_Cell(v);A.rows[t].appendChild(l.getDOMElement())}}},A.deleteRow=function(){var e=document.querySelector(".wptb-highlighted"),t=e.getAttribute("style"),n=e.rowSpan,r=C(e)[0];null==n&&(n=1);for(var a=0;a<n;a++){var o=A.rows[r].children,l=A.rows[r+1],i=void 0,s=[];if(null!=l){for(var c=(i=l.children).length,d=0;d<o.length;d++)if(1<o[d].rowSpan){var p=new WPTB_Cell(v);p.getDOMElement().setAttribute("style",t),p.getDOMElement().colSpan=o[d].colSpan,p.getDOMElement().rowSpan=o[d].rowSpan-1;for(var u=void 0,m=0;m<c;m++)if(Number(i[m].dataset.xIndex)>Number(o[d].dataset.xIndex)){u=i[m];break}u?s.push([p,u]):s.push([p])}if(0<s.length)for(var b=0;b<s.length;b++)null!=s[b][1]?l.insertBefore(s[b][0].getDOMElement(),s[b][1]):l.appendChild(s[b][0].getDOMElement())}var f,y=A.rows;if(0<y.length)for(var h=0;h<r;h++){var g=y[h].children;if(0<g.length)for(var w=0;w<g.length;w++)g[w].rowSpan-1>=r-h&&g[w].rowSpan--}f=Array.from(array[0]),array.pop(f),S(array),A.getElementsByTagName("tbody")[0].removeChild(A.rows[r]),0==A.rows.length?(WPTB_Helper.toggleTableEditMode(),_.innerHTML="",document.getElementsByClassName("wptb-table-generator")[0].style.display="table",0<(f=document.getElementsByClassName("wptb-save-btn")).length&&((f=f[0]).classList.add("wptb-save-disabled"),f.classList.remove("active"))):(A.recalculateIndexes(),WPTB_Helper.tableRowsColorsReinstall(A),WPTB_Helper.dataTitleColumnSet(A),A.reconstraction())}T(),WPTB_Helper.wptbDocumentEventGenerate("wp-table-builder/table-changed/after",A),(new WPTB_TableStateSaveManager).tableStateSet()},A.deleteColumn=function(){for(var e=document.querySelector(".wptb-highlighted"),t=e.dataset.xIndex,n=e.colSpan,r=0;r<n;r++){for(var a=0;a<A.rows.length;a++){var o=A.rows[a].children,l=o.length;if(0<l)for(var i=l-1;0<=i;i--){if(Number(o[i].dataset.xIndex)==Number(t)){1<o[i].colSpan?o[i].colSpan--:A.rows[a].removeChild(o[i]);break}if(Number(o[i].dataset.xIndex)<Number(t)&&Number(o[i].dataset.xIndex)+Number(o[i].colSpan-1)>=t){1<o[i].colSpan&&o[i].colSpan--;break}}}for(var s,c=0;c<A.rows.length;c++)null!=array[c]&&array[c].pop();u--,0==A.querySelectorAll("td").length?(WPTB_Helper.toggleTableEditMode(),_.innerHTML="",document.getElementsByClassName("wptb-table-generator")[0].style.display="table",0<(s=document.getElementsByClassName("wptb-save-btn")).length&&((s=s[0]).classList.add("wptb-save-disabled"),s.classList.remove("active"))):(A.recalculateIndexes(),A.tdDefaultWidth(),WPTB_Helper.dataTitleColumnSet(A),A.reconstraction())}T(),WPTB_Helper.wptbDocumentEventGenerate("wp-table-builder/table-changed/after",A),(new WPTB_TableStateSaveManager).tableStateSet()},array=r(),T(),S(array),_.appendChild(A),A.recalculateIndexes(!0),A.reconstraction(),A.tdDefaultWidth(),_.onresize=function(){A.tdDefaultWidth()},WPTB_LeftPanel(),WPTB_Helper.wptbDocumentEventGenerate("wptb:table:generated",document),WPTB_Helper.elementStartScript(A,"table_setting"),WPTB_Helper.elementOptionsSet("table_setting",A)},WPTB_TableSettingsData={borderColor:"",setTableSetting:function(e,t){this[e]=t},getTableSetting:function(e){return this[e]}};function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var WPTB_TableStateSaveManager=function(){this.tableStateSet=function(e){if(!(e&&window.wptbTableStateSaving&&Array.isArray(window.wptbTableStateSaving))){var t=document.getElementsByClassName("wptb-table-setup"),n="";0<t.length?n=(t=t[0]).querySelector(".wptb-preview-table"):t="",window.wptbTableStateSaving||Array.isArray(window.wptbTableStateSaving)||(window.wptbTableStateSaving=[]),window.wptbTableStateSaving.length>window.wptbTableStateNumberShow&&(window.wptbTableStateSaving=window.wptbTableStateSaving.slice(0,window.wptbTableStateNumberShow+1));var r="";if(t){for(var a=(r=t.cloneNode(!0)).getElementsByClassName("wptb-highlighted"),o=0;o<a.length;o++)a[o].classList.remove("wptb-highlighted");for(var l=r.getElementsByClassName("wptb-directlyhovered"),i=0;i<l.length;i++)l[i].classList.remove("wptb-directlyhovered");var s=r.querySelectorAll(".mce-content-body");if(0<s.length)for(var c=0;c<s.length;c++)s[c].classList.remove("mce-content-body");var d=r.querySelectorAll("[data-mce-style]");if(0<d.length)for(var p=0;p<d.length;p++)d[p].removeAttribute("data-mce-style");var u=r.querySelectorAll("[id^=mce_]");if(0<u.length)for(var m=0;m<u.length;m++)u[m].removeAttribute("id")}e="",t=document.head;!t||(b=t.querySelector('style[data-wptb-td-auto-width="true"]'))&&(e=b.innerHTML);var t="",b=document.getElementById("wptb-setup-name");b&&(t=b.value),window.wptbTableStateSaving.push([r,e,t]),window.wptbTableStateNumberShow=window.wptbTableStateSaving.length-1,0<window.wptbTableStateSaving.length-1&&(0<(f=document.getElementsByClassName("wptb-undo")).length&&(f=f[0]).classList.remove("wptb-undoredo-disabled"));var f=document.getElementsByClassName("wptb-redo");0<f.length&&(f=f[0]).classList.add("wptb-undoredo-disabled");f=document.getElementsByClassName("wptb-save-btn");0<f.length&&(!(f=f[0]).dataset.wptbTableStateNumberSave&&0==window.wptbTableStateNumberShow||window.wptbTableStateNumberShow==f.dataset.wptbTableStateNumberSave||!n?(f.classList.add("wptb-save-disabled"),f.classList.remove("active")):(f.classList.remove("wptb-save-disabled"),f.classList.add("active")))}},this.tableStateGet=function(e){if(e&&window.wptbTableStateSaving&&0<window.wptbTableStateSaving.length){if("undo"==e){if(!(0<window.wptbTableStateNumberShow))return!1;window.wptbTableStateNumberShow--}else if("redo"==e){if(!(window.wptbTableStateNumberShow<window.wptbTableStateSaving.length))return!1;window.wptbTableStateNumberShow++}var t=document.getElementsByClassName("wptb-undo");0<t.length&&(t=t[0],0==window.wptbTableStateNumberShow?t&&t.classList.add("wptb-undoredo-disabled"):0<window.wptbTableStateNumberShow&&t&&t.classList.remove("wptb-undoredo-disabled"));e=document.getElementsByClassName("wptb-redo");0<e.length&&(e=e[0],window.wptbTableStateNumberShow==window.wptbTableStateSaving.length-1?e&&e.classList.add("wptb-undoredo-disabled"):window.wptbTableStateNumberShow<window.wptbTableStateSaving.length-1&&e&&e.classList.remove("wptb-undoredo-disabled"));t=document.getElementsByClassName("wptb-save-btn");0<t.length&&(!(t=t[0]).dataset.wptbTableStateNumberSave&&0==window.wptbTableStateNumberShow||window.wptbTableStateNumberShow==t.dataset.wptbTableStateNumberSave?(t.classList.add("wptb-save-disabled"),t.classList.remove("active")):(t.classList.add("active"),t.classList.remove("wptb-save-disabled")));var n,e=document.getElementsByClassName("wptb-table-setup");0<e.length&&(e=e[0],window.wptbTableStateSaving[window.wptbTableStateNumberShow]&&(window.wptbTableStateSaving[window.wptbTableStateNumberShow][0]&&"object"===_typeof(window.wptbTableStateSaving[window.wptbTableStateNumberShow][0])&&"outerHTML"in window.wptbTableStateSaving[window.wptbTableStateNumberShow][0]&&(e.outerHTML=window.wptbTableStateSaving[window.wptbTableStateNumberShow][0].outerHTML),(e=document.querySelector(".wptb-table-setup"))&&0==e.children.length&&(t.classList.add("wptb-save-disabled"),t.classList.remove("active")),(e=document.head)&&((t=e.querySelector('style[data-wptb-td-auto-width="true"]'))&&e.removeChild(t),window.wptbTableStateSaving[window.wptbTableStateNumberShow][1]&&((n=document.createElement("style")).setAttribute("data-wptb-td-auto-width",!0),n.innerHTML=window.wptbTableStateSaving[window.wptbTableStateNumberShow][1],e.appendChild(n))),n=document.getElementById("wptb-setup-name"),void 0!==window.wptbTableStateSaving[window.wptbTableStateNumberShow][2]&&n&&(n.value=window.wptbTableStateSaving[window.wptbTableStateNumberShow][2])),0<(n=document.getElementsByTagName("body")).length&&(n=n[0]),WPTB_Helper.elementOptionsPanelClear(),WPTB_LeftPanel(),(n=document.getElementById("wptb-left-scroll-panel-cell-settings"))&&n.classList.remove("visible"))}},this.tableStateClear=function(){delete window.wptbTableStateSaving,delete window.wptbTableStateNumberShow;var e=document.getElementsByClassName("wptb-save-btn");0<e.length&&(e=e[0]).removeAttribute("data-wptb-table-state-number-save");e=document.getElementsByClassName("wptb-undo");0<e.length&&(e=e[0]).classList.add("wptb-undoredo-disabled");e=document.getElementsByClassName("wptb-redo");0<e.length&&(e=e[0]).classList.add("wptb-undoredo-disabled")}};document.addEventListener("wptb:table:generated",function(){Array.from(document.querySelectorAll(".wptb-left-panel .wptb-upsells-anchor")).map(function(e){e&&(e.style.display="unset")})});var WPTB_innerElementSet=function l(t){t.ondragenter=function(e){-1==e.dataTransfer.types.indexOf("wptbelement")&&-1==e.dataTransfer.types.indexOf("wptb-moving-mode")||(WPTB_DropHandle(this,e),t.classList.add("wptb-ondragenter"))},t.ondragover=function(e){e.preventDefault(),WPTB_DropHandle(this,e)},t.ondragleave=function(e){WPTB_DropHandle(this,e,!0)},t.ondrop=function(e){var t,n,r,a;if(this.classList.remove("wptb-ondragenter"),e.preventDefault(),e.stopPropagation(),e.dataTransfer.getData("wptbElement")||e.dataTransfer.getData("node")){if(0<document.getElementsByClassName("wptb-drop-handle").length&&(n=document.getElementsByClassName("wptb-drop-handle")[0]),0<document.getElementsByClassName("wptb-drop-border-marker").length&&(r=document.getElementsByClassName("wptb-drop-border-marker")[0]),t=e.dataTransfer.getData("wptbElement")?(t=WPTB_Helper.newElementProxy(e.dataTransfer.getData("wptbElement"))).getDOMElement():(a=e.dataTransfer.getData("node"),document.getElementsByClassName(a)[0]),"td_relative"===WPTB_Helper.getDragRelativeType())WPTB_DropHandle(this,e,!0),WPTB_Helper.getParentOfType("td",e.target).appendChild(t),WPTB_Helper.wptbDocumentEventGenerate("element:mounted:dom",t);else{if("block"!=n.style.display)return;"Drop Here"==n.dataset.text?((o=n.getDOMParentElement()).appendChild(t),WPTB_Helper.wptbDocumentEventGenerate("element:mounted:dom",t)):(o=(a=n.getDOMParentElement()).parentNode,"Above Element"==n.dataset.text?(o.insertBefore(t,a),WPTB_Helper.wptbDocumentEventGenerate("element:mounted:dom",t)):"Below Element"==n.dataset.text&&(a=a.nextSibling,o.insertBefore(t,a),WPTB_Helper.wptbDocumentEventGenerate("element:mounted:dom",t)));var o=o.parentNode;!WPTB_Helper.rowIsTop(o)||(o=WPTB_Helper.findAncestor(o,"wptb-preview-table")).classList.contains("wptb-table-preview-head")&&WPTB_Helper.dataTitleColumnSet(o);t.className.match(/wptb-element-(.+)-(\d+)/i)[1];e.dataTransfer.getData("wptbElement")}return n&&(n.style.display="none",r.style.display="none"),l(t),t.classList.contains("wptb-image-container")&&!t.classList.contains("wptb-moving-mode")||(t.classList.remove("wptb-moving-mode"),(new WPTB_TableStateSaveManager).tableStateSet()),!0}},t.onmouseover=function(e){t.classList.remove("wptb-ondragenter")}};function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var applyGenericItemSettings=function(e,t){var n,r=2<arguments.length&&void 0!==arguments[2]&&arguments[2],a=e.getDOMElement();if(a.classList.contains("wptb-ph-element")){if(null==t||1==r){if(n=WPTB_ElementIdProvider.getNewId(e.kind),r)for(var o,l,i=_toConsumableArray(a.attributes),s=0;s<i.length;s++)i[s]&&"object"===_typeof(i[s])&&i[s].nodeName&&(o=new RegExp("data-wptb-el-"+e.kind+"-(\\d+)-([a-zA-Z0-9_-]+)","i"),(l=i[s].nodeName.match(o))&&Array.isArray(l)&&(o=i[s].nodeName.replace(e.kind+"-"+l[1],e.kind+"-"+n),l=i[s].nodeValue,a.removeAttribute(i[s].nodeName),a.setAttribute(o,l)))}else t&&!r&&(n=(c=t.split("-"))[c.length-1]);var c=a.className.match(/wptb-element-(.+)-(\d+)/i);c&&a.classList.remove(c[0]),a.classList.contains("wptb-ph-element")||a.classList.add("wptb-ph-element"),a.classList.contains("wptb-element-"+e.kind+"-"+n)||a.classList.add("wptb-element-"+e.kind+"-"+n),WPTB_Helper.elementStartScript(e.getDOMElement()),new WPTB_ElementOptions(e,n,t),document.counter.increment(e.kind)}a.onmouseenter=function(e){var t;e.target.classList.contains("wptb-text-container")&&(1!==a.children.length||1===(t=a.children[0].lastChild).children.length&&"<br>"===t.innerHTML&&(t.innerHTML="")),e.target.classList.contains("wptb-moving-mode")||((e=new WPTB_ActionsField).addActionField(1,a),e.setParameters(a),a.classList.remove("wptb-ondragenter"))},a.onmouseleave=function(e){(new WPTB_ActionsField).leaveFromField(e,a)}};function _typeof2(e){return(_typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}parcelRequire=function(a,o,e){var t,l="function"==typeof parcelRequire&&parcelRequire,i="function"==typeof require&&require;function s(t,e){if(!o[t]){if(!a[t]){var n="function"==typeof parcelRequire&&parcelRequire;if(!e&&n)return n(t,!0);if(l)return l(t,!0);if(i&&"string"==typeof t)return i(t);n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}r.resolve=function(e){return a[t][1][e]||e},r.cache={};n=o[t]=new s.Module(t);a[t][0].call(n.exports,r,n,n.exports,this)}return o[t].exports;function r(e){return s(r.resolve(e))}}s.isParcelRequire=!0,s.Module=function(e){this.id=e,this.bundle=s,this.exports={}},s.modules=a,s.cache=o,s.parent=l,s.register=function(e,n){a[e]=[function(e,t){t.exports=n},{}]};for(var n,r=0;r<e.length;r++)try{s(e[r])}catch(e){t=t||e}if(e.length&&(n=s(e[e.length-1]),"object"===("undefined"==typeof exports?"undefined":_typeof2(exports))&&"undefined"!=typeof module?module.exports=n:"function"==typeof define&&define.amd&&define(function(){return n})),parcelRequire=s,t)throw t;return s}({"../../../../../node_modules/vuex/dist/vuex.esm.js":[function(e,t,n){var r=arguments[3];Object.defineProperty(n,"__esModule",{value:!0}),n.createLogger=L,n.install=S,n.mapState=n.mapMutations=n.mapGetters=n.mapActions=n.createNamespacedHelpers=n.Store=n.default=void 0;var c=("undefined"!=typeof window?window:void 0!==r?r:{}).__VUE_DEVTOOLS_GLOBAL_HOOK__;function p(t,n){if(void 0===n&&(n=[]),null===t||"object"!==_typeof2(t))return t;var e,e=(e=function(e){return e.original===t},n.filter(e)[0]);if(e)return e.copy;var r=Array.isArray(t)?[]:{};return n.push({original:t,copy:r}),Object.keys(t).forEach(function(e){r[e]=p(t[e],n)}),r}function i(t,n){Object.keys(t).forEach(function(e){return n(t[e],e)})}function a(e){return null!==e&&"object"===_typeof2(e)}function d(e,t){if(!e)throw new Error("[vuex] "+t)}function o(e,t){this.runtime=t,this._children=Object.create(null),e=(this._rawModule=e).state,this.state=("function"==typeof e?e():e)||{}}var l={namespaced:{configurable:!0}};l.namespaced.get=function(){return!!this._rawModule.namespaced},o.prototype.addChild=function(e,t){this._children[e]=t},o.prototype.removeChild=function(e){delete this._children[e]},o.prototype.getChild=function(e){return this._children[e]},o.prototype.hasChild=function(e){return e in this._children},o.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},o.prototype.forEachChild=function(e){i(this._children,e)},o.prototype.forEachGetter=function(e){this._rawModule.getters&&i(this._rawModule.getters,e)},o.prototype.forEachAction=function(e){this._rawModule.actions&&i(this._rawModule.actions,e)},o.prototype.forEachMutation=function(e){this._rawModule.mutations&&i(this._rawModule.mutations,e)},Object.defineProperties(o.prototype,l);function u(e){this.register([],e,!1)}u.prototype.get=function(e){return e.reduce(function(e,t){return e.getChild(t)},this.root)},u.prototype.getNamespace=function(e){var n=this.root;return e.reduce(function(e,t){return e+((n=n.getChild(t)).namespaced?t+"/":"")},"")},u.prototype.update=function(e){!function e(t,n,r){m(t,r);n.update(r);if(r.modules)for(var a in r.modules){if(!n.getChild(a))return void console.warn("[vuex] trying to add a new module '"+a+"' on hot reloading, manual reload is needed");e(t.concat(a),n.getChild(a),r.modules[a])}}([],this.root,e)},u.prototype.register=function(n,e,r){var a=this;void 0===r&&(r=!0),m(n,e);var t=new o(e,r);0===n.length?this.root=t:this.get(n.slice(0,-1)).addChild(n[n.length-1],t),e.modules&&i(e.modules,function(e,t){a.register(n.concat(t),e,r)})},u.prototype.unregister=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1],e=t.getChild(n);e?e.runtime&&t.removeChild(n):console.warn("[vuex] trying to unregister module '"+n+"', which is not registered")},u.prototype.isRegistered=function(e){var t=this.get(e.slice(0,-1)),e=e[e.length-1];return!!t&&t.hasChild(e)};var b,r={assert:function(e){return"function"==typeof e},expected:"function"},s={getters:r,mutations:r,actions:{assert:function(e){return"function"==typeof e||"object"===_typeof2(e)&&"function"==typeof e.handler},expected:'function or object with "handler" function'}};function m(a,e){Object.keys(s).forEach(function(n){var r;e[n]&&(r=s[n],i(e[n],function(e,t){d(r.assert(e),function(e,t,n,r,a){n=t+" should be "+a+' but "'+t+"."+n+'"';0<e.length&&(n+=' in module "'+e.join(".")+'"');return n+=" is "+JSON.stringify(r)+"."}(a,n,t,e,r.expected))}))})}l=function e(t){var n=this;void 0===t&&(t={}),!b&&"undefined"!=typeof window&&window.Vue&&S(window.Vue),d(b,"must call Vue.use(Vuex) before creating a store instance."),d("undefined"!=typeof Promise,"vuex requires a Promise polyfill in this browser."),d(this instanceof e,"store must be called with the new operator.");var r=t.plugins;void 0===r&&(r=[]);var a=t.strict;void 0===a&&(a=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new u(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new b,this._makeLocalGettersCache=Object.create(null);var o=this,l=this.dispatch,i=this.commit;this.dispatch=function(e,t){return l.call(o,e,t)},this.commit=function(e,t,n){return i.call(o,e,t,n)},this.strict=a;var s,a=this._modules.root.state;g(this,a,[],this._modules.root),h(this,a),r.forEach(function(e){return e(n)}),(void 0!==t.devtools?t:b.config).devtools&&(s=this,c&&((s._devtoolHook=c).emit("vuex:init",s),c.on("vuex:travel-to-state",function(e){s.replaceState(e)}),s.subscribe(function(e,t){c.emit("vuex:mutation",e,t)},{prepend:!0}),s.subscribeAction(function(e,t){c.emit("vuex:action",e,t)},{prepend:!0})))};n.Store=l;r={state:{configurable:!0}};function f(t,n,e){return n.indexOf(t)<0&&(e&&e.prepend?n.unshift(t):n.push(t)),function(){var e=n.indexOf(t);-1<e&&n.splice(e,1)}}function y(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;g(e,n,[],e._modules.root,!0),h(e,n,t)}function h(a,e,t){var n=a._vm;a.getters={},a._makeLocalGettersCache=Object.create(null);var r=a._wrappedGetters,o={};i(r,function(e,t){var n,r;o[t]=(n=e,r=a,function(){return n(r)}),Object.defineProperty(a.getters,t,{get:function(){return a._vm[t]},enumerable:!0})});var l,r=b.config.silent;b.config.silent=!0,a._vm=new b({data:{$$state:e},computed:o}),b.config.silent=r,a.strict&&(l=a)._vm.$watch(function(){return this._data.$$state},function(){d(l._committing,"do not mutate vuex store state outside mutation handlers.")},{deep:!0,sync:!0}),n&&(t&&a._withCommit(function(){n._data.$$state=null}),b.nextTick(function(){return n.$destroy()}))}function g(o,n,r,e,a){var t,l,i=!r.length,s=o._modules.getNamespace(r);e.namespaced&&(o._modulesNamespaceMap[s]&&console.error("[vuex] duplicate namespace "+s+" for the namespaced module "+r.join("/")),o._modulesNamespaceMap[s]=e),i||a||(t=w(n,r.slice(0,-1)),l=r[r.length-1],o._withCommit(function(){l in t&&console.warn('[vuex] state field "'+l+'" was overridden by a module with the same name at "'+r.join(".")+'"'),b.set(t,l,e.state)}));var c,d,p,u,m=e.context=(c=o,p=r,i={dispatch:(u=""===(d=s))?c.dispatch:function(e,t,n){var r=v(e,t,n),e=r.payload,t=r.options,n=r.type;if(t&&t.root||(n=d+n,c._actions[n]))return c.dispatch(n,e);console.error("[vuex] unknown local action type: "+r.type+", global type: "+n)},commit:u?c.commit:function(e,t,n){var r=v(e,t,n),e=r.payload,t=r.options,n=r.type;t&&t.root||(n=d+n,c._mutations[n])?c.commit(n,e,t):console.error("[vuex] unknown local mutation type: "+r.type+", global type: "+n)}},Object.defineProperties(i,{getters:{get:u?function(){return c.getters}:function(){return function(n,r){{var a,o;n._makeLocalGettersCache[r]||(a={},o=r.length,Object.keys(n.getters).forEach(function(e){var t;e.slice(0,o)===r&&(t=e.slice(o),Object.defineProperty(a,t,{get:function(){return n.getters[e]},enumerable:!0}))}),n._makeLocalGettersCache[r]=a)}return n._makeLocalGettersCache[r]}(c,d)}},state:{get:function(){return w(c.state,p)}}}),i);e.forEachMutation(function(e,t){var n,r,a;t=s+t,r=e,a=m,((n=o)._mutations[t]||(n._mutations[t]=[])).push(function(e){r.call(n,a.state,e)})}),e.forEachAction(function(e,t){var n,r,a,t=e.root?t:s+t,e=e.handler||e;t=t,r=e,a=m,((n=o)._actions[t]||(n._actions[t]=[])).push(function(e){var t=r.call(n,{dispatch:a.dispatch,commit:a.commit,getters:a.getters,state:a.state,rootGetters:n.getters,rootState:n.state},e);return(e=t)&&"function"==typeof e.then||(t=Promise.resolve(t)),n._devtoolHook?t.catch(function(e){throw n._devtoolHook.emit("vuex:error",e),e}):t})}),e.forEachGetter(function(e,t){var n,r;t=s+t,n=e,r=m,(e=o)._wrappedGetters[t]?console.error("[vuex] duplicate getter key: "+t):e._wrappedGetters[t]=function(e){return n(r.state,r.getters,e.state,e.getters)}}),e.forEachChild(function(e,t){g(o,n,r.concat(t),e,a)})}function w(e,t){return t.reduce(function(e,t){return e[t]},e)}function v(e,t,n){return a(e)&&e.type&&(n=t,e=(t=e).type),d("string"==typeof e,"expects string as the type, but found "+_typeof2(e)+"."),{type:e,payload:t,options:n}}function S(e){var t;function n(){var e=this.$options;e.store?this.$store="function"==typeof e.store?e.store():e.store:e.parent&&e.parent.$store&&(this.$store=e.parent.$store)}b&&e===b?console.error("[vuex] already installed. Vue.use(Vuex) should be called only once."):(e=b=e,2<=Number(e.version.split(".")[0])?e.mixin({beforeCreate:n}):(t=e.prototype._init,e.prototype._init=function(e){(e=void 0===e?{}:e).init=e.init?[n].concat(e.init):n,t.call(this,e)}))}r.state.get=function(){return this._vm._data.$$state},r.state.set=function(e){d(!1,"use store.replaceState() to explicit replace store state.")},l.prototype.commit=function(e,t,n){var r=this,t=v(e,t,n),n=t.type,a=t.payload,t=t.options,o={type:n,payload:a},l=this._mutations[n];l?(this._withCommit(function(){l.forEach(function(e){e(a)})}),this._subscribers.slice().forEach(function(e){return e(o,r.state)}),t&&t.silent&&console.warn("[vuex] mutation type: "+n+". Silent option has been removed. Use the filter functionality in the vue-devtools")):console.error("[vuex] unknown mutation type: "+n)},l.prototype.dispatch=function(e,t){var n=this,e=v(e,t),t=e.type,r=e.payload,a={type:t,payload:r},e=this._actions[t];if(e){try{this._actionSubscribers.slice().filter(function(e){return e.before}).forEach(function(e){return e.before(a,n.state)})}catch(e){console.warn("[vuex] error in before action subscribers: "),console.error(e)}var o=1<e.length?Promise.all(e.map(function(e){return e(r)})):e[0](r);return new Promise(function(t,e){o.then(function(e){try{n._actionSubscribers.filter(function(e){return e.after}).forEach(function(e){return e.after(a,n.state)})}catch(e){console.warn("[vuex] error in after action subscribers: "),console.error(e)}t(e)},function(t){try{n._actionSubscribers.filter(function(e){return e.error}).forEach(function(e){return e.error(a,n.state,t)})}catch(e){console.warn("[vuex] error in error action subscribers: "),console.error(e)}e(t)})})}console.error("[vuex] unknown action type: "+t)},l.prototype.subscribe=function(e,t){return f(e,this._subscribers,t)},l.prototype.subscribeAction=function(e,t){return f("function"==typeof e?{before:e}:e,this._actionSubscribers,t)},l.prototype.watch=function(e,t,n){var r=this;return d("function"==typeof e,"store.watch only accepts a function."),this._watcherVM.$watch(function(){return e(r.state,r.getters)},t,n)},l.prototype.replaceState=function(e){var t=this;this._withCommit(function(){t._vm._data.$$state=e})},l.prototype.registerModule=function(e,t,n){void 0===n&&(n={}),"string"==typeof e&&(e=[e]),d(Array.isArray(e),"module path must be a string or an Array."),d(0<e.length,"cannot register the root module by using registerModule."),this._modules.register(e,t),g(this,this.state,e,this._modules.get(e),n.preserveState),h(this,this.state)},l.prototype.unregisterModule=function(t){var n=this;"string"==typeof t&&(t=[t]),d(Array.isArray(t),"module path must be a string or an Array."),this._modules.unregister(t),this._withCommit(function(){var e=w(n.state,t.slice(0,-1));b.delete(e,t[t.length-1])}),y(this)},l.prototype.hasModule=function(e){return"string"==typeof e&&(e=[e]),d(Array.isArray(e),"module path must be a string or an Array."),this._modules.isRegistered(e)},l.prototype.hotUpdate=function(e){this._modules.update(e),y(this,!0)},l.prototype._withCommit=function(e){var t=this._committing;this._committing=!0,e(),this._committing=t},Object.defineProperties(l.prototype,r);var T=x(function(a,e){var n={};return B(e)||console.error("[vuex] mapState: mapper parameter must be either an Array or an Object"),E(e).forEach(function(e){var t=e.key,r=e.val;n[t]=function(){var e=this.$store.state,t=this.$store.getters;if(a){var n=P(this.$store,"mapState",a);if(!n)return;e=n.context.state,t=n.context.getters}return"function"==typeof r?r.call(this,e,t):e[r]},n[t].vuex=!0}),n});n.mapState=T;var _=x(function(o,e){var n={};return B(e)||console.error("[vuex] mapMutations: mapper parameter must be either an Array or an Object"),E(e).forEach(function(e){var t=e.key,a=e.val;n[t]=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=this.$store.commit;if(o){var r=P(this.$store,"mapMutations",o);if(!r)return;n=r.context.commit}return"function"==typeof a?a.apply(this,[n].concat(e)):n.apply(this.$store,[a].concat(e))}}),n});n.mapMutations=_;var C=x(function(r,e){var a={};return B(e)||console.error("[vuex] mapGetters: mapper parameter must be either an Array or an Object"),E(e).forEach(function(e){var t=e.key,n=e.val,n=r+n;a[t]=function(){if(!r||P(this.$store,"mapGetters",r)){if(n in this.$store.getters)return this.$store.getters[n];console.error("[vuex] unknown getter: "+n)}},a[t].vuex=!0}),a});n.mapGetters=C;var A=x(function(o,e){var n={};return B(e)||console.error("[vuex] mapActions: mapper parameter must be either an Array or an Object"),E(e).forEach(function(e){var t=e.key,a=e.val;n[t]=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=this.$store.dispatch;if(o){var r=P(this.$store,"mapActions",o);if(!r)return;n=r.context.dispatch}return"function"==typeof a?a.apply(this,[n].concat(e)):n.apply(this.$store,[a].concat(e))}}),n});n.mapActions=A;r=function(e){return{mapState:T.bind(null,e),mapGetters:C.bind(null,e),mapMutations:_.bind(null,e),mapActions:A.bind(null,e)}};function E(t){return B(t)?Array.isArray(t)?t.map(function(e){return{key:e,val:e}}):Object.keys(t).map(function(e){return{key:e,val:t[e]}}):[]}function B(e){return Array.isArray(e)||a(e)}function x(n){return function(e,t){return"string"!=typeof e?(t=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),n(e,t)}}function P(e,t,n){e=e._modulesNamespaceMap[n];return e||console.error("[vuex] module namespace not found in "+t+"(): "+n),e}function L(e){var o=(e=void 0===e?{}:e).collapsed;void 0===o&&(o=!0);var l=e.filter;void 0===l&&(l=function(e,t,n){return!0});var i=e.transformer;void 0===i&&(i=function(e){return e});var s=e.mutationTransformer;void 0===s&&(s=function(e){return e});var r=e.actionFilter;void 0===r&&(r=function(e,t){return!0});var c=e.actionTransformer;void 0===c&&(c=function(e){return e});var t=e.logMutations;void 0===t&&(t=!0);var n=e.logActions;void 0===n&&(n=!0);var d=e.logger;return void 0===d&&(d=console),function(e){var a=p(e.state);void 0!==d&&(t&&e.subscribe(function(e,t){var n,r=p(t);l(e,a,r)&&(n=O(),t=s(e),n="mutation "+e.type+n,W(d,n,o),d.log("%c prev state","color: #9E9E9E; font-weight: bold",i(a)),d.log("%c mutation","color: #03A9F4; font-weight: bold",t),d.log("%c next state","color: #4CAF50; font-weight: bold",i(r)),I(d)),a=r}),n&&e.subscribeAction(function(e,t){var n;r(e,t)&&(n=O(),t=c(e),n="action "+e.type+n,W(d,n,o),d.log("%c action","color: #03A9F4; font-weight: bold",t),I(d))}))}}function W(t,n,e){var r=e?t.groupCollapsed:t.group;try{r.call(t,n)}catch(e){t.log(n)}}function I(t){try{t.groupEnd()}catch(e){t.log(" log end ")}}function O(){var e=new Date;return" @ "+N(e.getHours(),2)+":"+N(e.getMinutes(),2)+":"+N(e.getSeconds(),2)+"."+N(e.getMilliseconds(),3)}function N(e,t){return n="0",t=t-e.toString().length,new Array(t+1).join(n)+e;var n}n.createNamespacedHelpers=r;r={Store:l,install:S,version:"3.6.2",mapState:T,mapMutations:_,mapGetters:C,mapActions:A,createNamespacedHelpers:r,createLogger:L};n.default=r},{}],"../../../../../node_modules/deepmerge/dist/cjs.js":[function(e,t,n){"use strict";var a=function(e){return!(!(t=e)||"object"!==_typeof2(t)||(t=e,"[object RegExp]"===(e=Object.prototype.toString.call(t))||"[object Date]"===e||function(e){return e.$$typeof===r}(t)));var t};var r="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function i(e,t){return!1!==t.clone&&t.isMergeableObject(e)?d((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function o(e,t,n){return e.concat(t).map(function(e){return i(e,n)})}function s(e){return Object.keys(e).concat((t=e,Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(e){return t.propertyIsEnumerable(e)}):[]));var t}function c(e,t){try{return t in e}catch(e){return!1}}function l(r,a,o){var l={};return o.isMergeableObject(r)&&s(r).forEach(function(e){l[e]=i(r[e],o)}),s(a).forEach(function(e){var t,n;(!c(t=r,n=e)||Object.hasOwnProperty.call(t,n)&&Object.propertyIsEnumerable.call(t,n))&&(c(r,e)&&o.isMergeableObject(a[e])?l[e]=(t=e,((n=o).customMerge&&"function"==typeof(t=n.customMerge(t))?t:d)(r[e],a[e],o)):l[e]=i(a[e],o))}),l}function d(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||o,n.isMergeableObject=n.isMergeableObject||a,n.cloneUnlessOtherwiseSpecified=i;var r=Array.isArray(t);return r===Array.isArray(e)?r?n.arrayMerge(e,t,n):l(e,t,n):i(t,n)}d.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(e,t){return d(e,t,n)},{})},t.exports=d},{}],"stores/general.js":[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.mutationWatchFunction=n.createBasicStore=n.objectDeepMerge=void 0;var r=o(e("vuex")),a=o(e("deepmerge"));function o(e){return e&&e.__esModule?e:{default:e}}function l(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function i(r){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach(function(e){var t,n;t=r,e=a[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(a,e))})}return r}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.objectDeepMerge=function(t,n){return Object.keys(n).map(function(e){Object.prototype.hasOwnProperty.call(n,e)&&(Object.prototype.hasOwnProperty.call(t,e)&&"object"===s(t[e])?t[e]=i(i({},t[e]),n[e]):t[e]=n[e])}),t};n.createBasicStore=function(e,t){return new r.default.Store((0,a.default)(e,t))};n.mutationWatchFunction=function(a,o){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];a[r.type]&&a[r.type].apply(a,t.concat([o]))}}},{vuex:"../../../../../node_modules/vuex/dist/vuex.esm.js",deepmerge:"../../../../../node_modules/deepmerge/dist/cjs.js"}],"WPTB_Store.js":[function(e,t,n){var r,a=arguments[3],o=e("./stores/general");function l(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function i(r){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach(function(e){var t,n;t=r,e=a[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(a,e))})}return r}r=self||a,a=function(){return new function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r={},a={},r=(0,o.objectDeepMerge)(r,e);function n(e){var t,n=e.type,e=e.value;r.mutations[n](r.state,e),t=e,a[n=n]&&a[n].map(function(e){e(t,r.state)})}Object.defineProperty(this,"state",{get:function(){return i({},r.state)},set:function(){throw new Error("you can not mutate state directly, use mutations instead")}}),this.get=function(e){if(r.getters[e])return r.getters[e](i({},r.state));throw new Error("no getter found with the given name of '".concat(e,"'"))},this.commit=function(e,t){if(void 0===t||!e)throw new Error("no commit found with the given name of '".concat(e,"'"));n({type:e,value:t})},this.subscribe=function(e,t){if(!r.mutations[e])throw new Error("no mutation found to subscribe to with the given name of '".concat(e,"'"));a[e]||(a[e]=[]),a[e].push(t)}}({state:{controls:{colorPicker:{activeId:null}}},getters:{getActiveColorPickerId:function(e){return e.controls.colorPicker.activeId}},mutations:{setActiveColorPicker:function(e,t){e.controls.colorPicker.activeId=t}}})},r["WPTB_Store"]=a()},{"./stores/general":"stores/general.js"}]},{},["WPTB_Store.js"]),function(e){(self||global)["WPTB_IconManager"]=e()}(function(){return(self||global).wptb_admin_object?new function(e){if(!e)throw new Error("no icon list is defined for WPTB_IconManager instance");function l(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=document.createElement("div");return t&&n.classList.add(t),n.innerHTML=e,n}var i=e,s={};this.getIconList=function(){return i},this.getIcon=function(r){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,o=2<arguments.length&&void 0!==arguments[2]&&arguments[2];return new Promise(function(n,t){var e=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];return s[e]?n?s[e]:l(s[e],t):null}(r,a,o);return e?n(e):i[r]?fetch(i[r]).then(function(e){if(e.ok)return e.text();throw new Error("an error occurred while fetching icon [".concat(r,"]"))}).then(function(e){if(e.error)throw new Error("an error occurred while fetching icon [".concat(r,"]"));var t;return t=e,s[r]=t,n(o?e:l(e,a))}).catch(function(e){return t(new Error(e))}):t(new Error("no icon found with the given name of [".concat(r,"]")))})}}(wptb_admin_object.iconManager):null});
//# sourceMappingURL=admin.js.map
