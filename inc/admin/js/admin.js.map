{"version":3,"sources":["functions.button.js","functions.image.js","functions.list.js","functions.miscellaneous.js","functions.table.js","functions.text.js","wptb-builder.js"],"names":["$","window","deleteButton","event","act","parentNode","el","removeChild","add_Elements_tab","copyButton","td","target","copy","newButton","childNodes","innerHTML","appendChild","showButtonSettings","classList","add","btnDelete","document","createElement","btnCopy","actions","previous","i","onclick","hideButtonSettings","formerActions","getElementsByClassName","par","remove","text","elButton","elButton2","el_B","undefined","onmouseenter","onmouseleave","wptb_num","addElementOptions","tinyMCE","init","inline","plugins","dialog_type","theme","menubar","fixed_toolbar_container","toolbar","setup","ed","on","execCommand","init_instance_callback","editor","e","getContent","setContent","range","selection","getRng","KeyID","keyCode","startOffset","preventDefault","jQuery","copyImage","srcList","newList","cloneNode","container","listItems","querySelectorAll","showListSettings","hideListSettings","length","cont","showListItemSettings","hideListItemSettings","id","tinyFastCall","onkeyup","listItemKeyListener","infArr","className","match","elName","oldClass","oldClassOptionsPanelClass","newOptionsPanel","clone","oldOptionsPanel","querySelector","newClass","newClassOptionsPanelClass","removeClass","addClass","showImageSettings","list","tdContainer","trigger","copyList","append","hideImageSettings","parent","newImage","imgWrap","imgBtn","temp","push","deleteList","item","article","content","html","duplicate","newListItem","innerElements","elList","el_L","divdot","divcontent","libullet","key","which","liEl","lastP","dontAddItems","after","focus","trim","getElementById","getElementsByTagName","style","display","Element_options_tab","children","wptbElement","prop","listener_to_element","find","wpColorPicker","element","data","val","setInterval","value","old_value","tryToChangeMCEWidth","totalWidth","offsetWidth","currentEditor","scrollTop","bodyElement","position","right","top","obj","paste_as_text","inputNumber","min","max","els","dec","previousSibling","inc","nextSibling","decrement","increment","onmousedown","initTable","settings","table","columnCount","parseInt","rowCount","row","insertRow","headerCell","createCell","dataset","yIndex","xIndex","j","wptbTable","bindKeydownHandler","bindClickHandler","cell","allowDrop","currentTarget","type","stopPropagation","ondrop","textEl","newText","click","img","button","listEl","ondragenter","ondragleave","ondragover","toggleCellSelection","contains","activeRow","activeColumn","onkeydown","setTimeout","$this","el_options","hasClass","parents","attr","optionsClass","show","sliders","onchange","numbers","is","addRow","addColumn","deleteRow","deleteColumn","pos","evt","num","tbody","tr","mergeCells","splitCells","copyText","deleteText","showTextSettings","hideTextSettings","elText","elText2","elP","Array","ready","onready","detect_element_for_property","option","closest","classes","editing_property","css","toLowerCase","body","addBorder","border","addCellPadding","tableCells","padding","addInnerBorder","checked","styles","marginBottom","_val","addInnerBorderSize","itemDragStart","substring","dataTransfer","effectAllowed","setData","getAttribute","ondragstart"],"mappings":"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","file":"admin.js","sourcesContent":["(function ($) {\n\n    window.deleteButton = function (event) {\n        var act = this.parentNode.parentNode,\n            el = act.parentNode;\n        el.removeChild(act);\n        window.add_Elements_tab();\n    };\n\n    window.copyButton = function (event) {\n        var td = event.target.parentNode.parentNode.parentNode,\n            copy = newButton(event.target.parentNode.parentNode.childNodes[0].innerHTML);\n        td.appendChild(copy);\n    };\n\n    window.showButtonSettings = function (event) {\n        this.classList.add('wptb-directlyhovered');\n        var btnDelete = document.createElement('span'),\n            btnCopy = document.createElement('span'),\n            actions = document.createElement('span'),\n            previous, i;\n        actions.classList.add('wptb-actions');\n        btnDelete.classList.add('dashicons', 'dashicons-trash', 'delete-action');\n        btnCopy.classList.add('dashicons', 'dashicons-admin-page', 'duplicate-action');\n        btnDelete.onclick = window.deleteButton;\n        btnCopy.onclick = window.copyButton;\n        actions.appendChild(btnCopy);\n        actions.appendChild(btnDelete);\n        this.appendChild(actions);\n    };\n\n    window.hideButtonSettings = function (event) {\n        var formerActions = this.getElementsByClassName('wptb-actions');\n        if (formerActions && formerActions[0]) {\n            let par = formerActions[0].parentNode;\n            par.removeChild(formerActions[0]);\n        }\n        this.classList.remove('wptb-directlyhovered');\n    };\n\n    window.newButton = function (text) {\n        var elButton = document.createElement('div');\n        elButton.classList.add('wptb-button-container');\n        var elButton2 = document.createElement('div');\n        elButton2.classList.add('wptb-button-wrapper');\n        var el_B = document.createElement('p');\n        el_B.classList.add('wptb-button');\n        el_B.classList.add('editable');\n        el_B.innerHTML = text != undefined ? text : 'Button Text';\n        elButton2.appendChild(el_B);\n        elButton.appendChild(elButton2);\n        elButton.onmouseenter = showButtonSettings;\n        elButton.onmouseleave = hideButtonSettings;\n        elButton.classList.add('wptb-ph-element', 'wptb-element-button-' +\n            window.wptb_num['button']);\n        window.addElementOptions('button', elButton);\n        window.wptb_num['button']++;\n        tinyMCE.init({\n            target: el_B,\n            inline: true,\n            plugins: \"link\",\n            dialog_type: \"modal\",\n            theme: 'modern',\n            menubar: false,\n            fixed_toolbar_container: '#wpcd_fixed_toolbar',\n            toolbar: 'bold italic strikethrough',\n            setup: function (ed) {\n                ed.on(\"init\",\n                    function (ed) {\n                        tinyMCE.execCommand('mceRepaint');\n                    }\n                );\n            },\n            init_instance_callback: function (editor) {\n                editor.on('change', function (e) {\n                    // check if it becomes empty because if there's no value it's hard to edit the editor in button element\n                    if (editor.getContent() == \"\") {\n                        editor.setContent(\"<p class='wptb-button'>Button Text</p>\");\n                    }\n                });\n                editor.on('KeyDown', function (e) {\n                    var range = editor.selection.getRng();\n                    var KeyID = e.keyCode;\n                    if (range.startOffset == 0 && (KeyID == 8 || KeyID == 46)) {\n                        e.preventDefault();\n                        editor.setContent(\"<p class='wptb-button'></p>\");\n                    }\n                });\n            }\n        });\n\n        return elButton;\n    }\n\n})(jQuery);","(function ($) {\n\n    window.copyImage = function (event) {\n        var srcList = event.target.parentNode.parentNode,\n            newList = srcList.cloneNode(true),\n            container = srcList.parentNode,\n            listItems = newList.querySelectorAll('article');\n        newList.onmouseenter = showListSettings;\n        newList.onmouseleave = hideListSettings;\n        for (var i = listItems.length - 1; i >= 0; i--) {\n            let cont = listItems[i].getElementsByClassName('wptb-list-item-content')[0];\n            listItems[i].onmouseenter = showListItemSettings;\n            listItems[i].onmouseleave = hideListItemSettings;\n            cont.id = '';\n            tinyFastCall(cont);\n            cont.onkeyup = listItemKeyListener;\n        }\n\n        var infArr = newList.className.match(/wptb-element-(.+)-(\\d)+/i),\n            elName = infArr[1],\n            oldClass = infArr[0],\n            oldClassOptionsPanelClass = \"wptb-options-\" + elName + \"-\" + infArr[2];\n\n        var newOptionsPanel = $('.' + oldClassOptionsPanelClass).clone(true, true),\n            oldOptionsPanel = document.querySelector('.' + oldClassOptionsPanelClass);\n        oldOptionsPanel.parentNode.appendChild(newOptionsPanel[0]);\n\n        var newClass = \"wptb-element-\" + elName + \"-\" + wptb_num['list'];\n        var newClassOptionsPanelClass = \"wptb-options-\" + elName + \"-\" + wptb_num['list'];\n\n        newList.classList.add(newClass);\n        newList.classList.remove(oldClass);\n\n        newOptionsPanel.removeClass(oldClassOptionsPanelClass);\n        newOptionsPanel.addClass(newClassOptionsPanelClass);\n\n        wptb_num['list']++;\n\n        container.appendChild(newList);\n    }\n\n    window.showImageSettings = function (event) {\n        var btnDelete = document.createElement('span'),\n            btnCopy = document.createElement('span'),\n            actions = document.createElement('span'),\n            previous, i;\n        actions.classList.add('wptb-actions');\n        btnDelete.classList.add('dashicons', 'dashicons-trash', 'delete-action');\n        btnCopy.classList.add('dashicons', 'dashicons-admin-page', 'duplicate-action');\n        delete document.getElementsByClassName('wptb-actions');\n        previous = document.getElementsByClassName('wptb-directlyhovered');\n        for (i = 0; i < previous.length; i++) {\n            previous[i].classList.remove('wptb-directlyhovered');\n        };\n        this.classList.add('wptb-directlyhovered');\n\n        btnDelete.onclick = function () {\n            var list = this.parentNode.parentNode,\n                tdContainer = list.parentNode;\n            $('#add-elements a').trigger('click');\n            tdContainer.removeChild(list);\n        };\n        btnCopy.onclick = copyList;\n\n        actions.append(btnCopy, btnDelete);\n        this.append(actions);\n    };\n\n    window.hideImageSettings = function (event) {\n        this.classList.remove('wptb-directlyhovered');\n        var actions = this.getElementsByClassName('wptb-actions')[0];\n        if (actions != undefined) {\n            let parent = actions.parentNode;\n            parent.removeChild(actions);\n        }\n    };\n\n    window.newImage = function (text) {\n        var imgWrap = document.createElement('div')\n        imgWrap.classList.add('wptb-img-wrapper')\n        var imgBtn = document.createElement('button')\n        imgBtn.classList.add('button')\n        imgBtn.classList.add('wptb-img-btn')\n        imgBtn.innerHTML = text != undefined ? text : 'Choose Image'\n        imgWrap.appendChild(imgBtn)\n        return imgWrap\n    }\n\n})(jQuery);","(function ($) {\n\n    window.copyList = function (event) {\n        var td = event.target.parentNode.parentNode.parentNode,\n            temp = [],\n            srcList = event.target.parentNode.parentNode.querySelectorAll('ul article .wptb-list-item-content');\n\n        for (var i = 0; i < srcList.length; i++) {\n            temp.push(srcList[i].innerHTML);\n        }\n        var copy = newList(temp);\n        td.appendChild(copy);\n    }\n\n    window.deleteList = function () {\n        var act = this.parentNode.parentNode,\n            el = act.parentNode;\n        el.removeChild(act);\n        window.add_Elements_tab();\n    }\n\n    window.showListSettings = function (event) {\n        this.classList.add('wptb-directlyhovered');\n        var btnDelete = document.createElement('span'),\n            btnCopy = document.createElement('span'),\n            actions = document.createElement('span'),\n            previous, i;\n        actions.classList.add('wptb-actions');\n        btnDelete.classList.add('dashicons', 'dashicons-trash', 'delete-action');\n        btnCopy.classList.add('dashicons', 'dashicons-admin-page', 'duplicate-action');\n        btnDelete.onclick = window.deleteList;\n        btnCopy.onclick = window.copyList;\n        actions.appendChild(btnCopy);\n        actions.appendChild(btnDelete);\n        this.appendChild(actions);\n    };\n\n    window.hideListSettings = function (event) {\n        this.classList.remove('wptb-directlyhovered');\n        var actions = this.querySelector('.wptb-actions');\n        if (actions != undefined) {\n            let parent = actions.parentNode;\n            parent.removeChild(actions);\n        }\n    };\n\n    window.showListItemSettings = function (event) {\n        //el Article\n        var btnDelete = document.createElement('span'),\n            btnCopy = document.createElement('span'),\n            actions = document.createElement('span'),\n            previous, i;\n        actions.classList.add('wptb-actions');\n        btnDelete.classList.add('dashicons', 'dashicons-trash', 'delete-action');\n        btnCopy.classList.add('dashicons', 'dashicons-admin-page', 'duplicate-action');\n        this.classList.add('wptb-directlyhovered');\n\n        btnDelete.onclick = function () {\n            var item = this.parentNode.parentNode,\n                parent = item.parentNode;\n            parent.removeChild(item);\n        };\n\n        btnCopy.onclick = function (event) {\n            var article = event.target.parentNode.parentNode,\n                content = article.querySelector('.wptb-list-item-content'),\n                html = content.innerHTML;\n            var duplicate = newListItem(html);\n            article.parentNode.appendChild(duplicate);\n        };\n\n        actions.append(btnCopy, btnDelete);\n        this.appendChild(actions);\n    };\n\n    window.hideListItemSettings = function (event) {\n        this.classList.remove('wptb-directlyhovered');\n        var actions = this.parentNode.querySelector('.wptb-actions');\n        if (actions != undefined) {\n            let parent = actions.parentNode;\n            parent.removeChild(actions);\n        }\n    };\n\n    window.newList = function (innerElements) {\n        var elList = document.createElement('div');\n        //elList.classList.add('editable');\n        var el_L = document.createElement('ul');\n        if (!innerElements)\n            for (var i = 0; i < 3; i++) {\n                el_L.appendChild(newListItem('List Item ' + (i + 1)));\n            }\n        else {\n            for (var i = 0; i < innerElements.length; i++) {\n                el_L.appendChild(newListItem(innerElements[i]));\n            }\n        }\n        elList.appendChild(el_L);\n        elList.onmouseenter = showListSettings;\n        elList.onmouseleave = hideListSettings;\n        elList.classList.add('wptb-ph-element', 'wptb-element-list-' + window.wptb_num['list']);\n        window.addElementOptions('list', elList);\n        window.wptb_num['list']++;\n\n        return elList;\n    }\n\n    window.newListItem = function (text) {\n        if (text == undefined) text = 'New List Item';\n        var duplicate = document.createElement('article');\n        var divdot = document.createElement('div'),\n            divcontent = document.createElement('div'),\n            libullet = document.createElement('li');\n        divdot.classList.add('wptb-list-item-style-dot');\n        divcontent.classList.add('wptb-list-item-content');\n        libullet.classList.add('wptb-bullet');\n        duplicate.appendChild(divdot);\n        duplicate.appendChild(divcontent);\n        divdot.appendChild(libullet);\n        divcontent.innerHTML = text;\n        tinyFastCall(divcontent);\n        divcontent.onkeyup = window.listItemKeyListener;\n        divcontent.parentNode.onmouseenter = window.showListItemSettings;\n        divcontent.parentNode.onmouseleave = window.hideListItemSettings;\n        return duplicate;\n    }\n\n    window.listItemKeyListener = function (event) {\n        var key = (event.which != undefined) ? event.which :\n            event.keyCode,\n            liEl = $(this).parent(),\n            duplicate, lastP;\n        if (key !== 13 ||\n            (window.dontAddItems !== undefined && window.dontAddItems === true)) {\n            return;\n        }\n        event.preventDefault();\n        duplicate = newListItem();\n        liEl.after(duplicate);\n        duplicate.querySelector('.wptb-list-item-content').focus();\n\n        lastP = this.childNodes[this.childNodes.length - 1];\n        this.removeChild(lastP);\n        if (this.innerHTML.trim() == '<p><br data-mce-bogus=\"1\"></p>') {\n            this.innerHTML = 'New List Item';\n        }\n        return false;\n    };\n\n})(jQuery);","(function ($) {\n\n    window.add_Elements_tab = function () {\n        document.getElementById('element-options').getElementsByTagName('a')[0].classList.remove('active');\n        document.getElementById('add-elements').getElementsByTagName('a')[0].classList.add('active');\n        document.getElementsByClassName('wptb-elements-container')[0].style.display = 'table';\n        document.getElementsByClassName('wptb-settings-section')[0].style.display = 'block';\n        document.getElementById(\"element-options-group\").style.display = 'none';\n    };\n\n    window.Element_options_tab = function () {\n        document.getElementById('add-elements').getElementsByTagName('a')[0].classList.remove('active');\n        document.getElementById('element-options').getElementsByTagName('a')[0].classList.add('active');\n\n        document.getElementsByClassName('wptb-elements-container')[0].style.display = 'none';\n        document.getElementsByClassName('wptb-settings-section')[0].style.display = 'none';\n        document.getElementById(\"element-options-group\").style.display = 'block';\n        var children = document.getElementById(\"element-options-group\").childNodes;\n        for (var i = 0; i < children.length; i++) {\n            if (children[i].style)\n                children[i].style.display = 'none';\n        }\n    }\n\n    window.addElementOptions = function (wptbElement, el) {\n        var prop = $(\".wptb-\" + wptbElement + \"-options-prototype\").clone();\n        prop.removeClass(\"wptb-\" + wptbElement + \"-options-prototype\"); // remove prototype from the class\n        prop.addClass('wptb-options-' + wptbElement + \"-\" + wptb_num[wptbElement]);\n        document.getElementById(\"element-options-group\").appendChild(prop[0]);\n        //special cases to elements if needed\n        switch (wptbElement) {\n            case 'text':\n                listener_to_element(prop.find('.wptb-color-picker'));\n                prop.find('.wptb-color-picker').wpColorPicker();\n                break;\n        }\n        wptb_num[wptbElement]++;\n    };\n\n    /**\n     * to listen to the elements that will change dynamically\n     * change by other javascript code then will trigger the change event to them\n     * \n     * @param {string} element\n     * @returns {void}\n     */\n    window.listener_to_element = function (element) {\n        element.data('old_value', element.val());\n        window.setInterval(function () {\n            var value = element.val();\n            var old_value = element.data('old_value');\n            if (value != old_value) {\n                old_value = value;\n                element.trigger('change');\n            }\n        }, 300);\n    };\n\n    window.tryToChangeMCEWidth = function (e) {\n        var totalWidth = document.getElementsByClassName('wptb-builder-panel')[0].offsetWidth;\n\n        if (window.currentEditor &&\n            document.getElementById('wptb_builder').scrollTop >= 55 &&\n            window.currentEditor.bodyElement.style.display != 'none') {\n            document.getElementById('wpcd_fixed_toolbar').style.position = 'fixed';\n            document.getElementById('wpcd_fixed_toolbar').style.right = (totalWidth / 2 - document.getElementById('wpcd_fixed_toolbar').offsetWidth / 2) + 'px';\n            document.getElementById('wpcd_fixed_toolbar').style.top = '100px';\n        } else {\n            document.getElementById('wpcd_fixed_toolbar').style.position = 'static';\n            delete document.getElementById('wpcd_fixed_toolbar').style.right;\n            delete document.getElementById('wpcd_fixed_toolbar').style.top;\n        }\n        //if(this.scrollTop > && )\n        //                document.getElementById('wpcd_fixed_toolbar').style.left = 'calc(50% - '+width+')';  \n    };\n\n    window.tinyFastCall = function (obj) {\n        tinyMCE.init({\n            target: obj,\n            inline: true,\n            plugins: \"link, paste\",\n            dialog_type: \"modal\",\n            theme: 'modern',\n            menubar: false,\n            fixed_toolbar_container: '#wpcd_fixed_toolbar',\n            paste_as_text: true,\n            toolbar: 'bold italic strikethrough link unlink | alignleft aligncenter alignright alignjustify',\n            init_instance_callback: function (editor) {\n                window.currentEditor = editor;\n                editor.on('focus', function (e) {\n                    window.tryToChangeMCEWidth();\n                });\n            }\n        });\n    }\n\n    window.inputNumber = function (el) {\n\n        var min = el.min || false;\n        var max = el.max || false;\n\n        var els = {};\n\n        els.dec = el.previousSibling;\n        els.inc = el.nextSibling;\n\n        init(el);\n\n        function init(el) {\n\n            els.dec.onclick = decrement;\n            els.inc.onclick = increment;\n\n            els.dec.onmousedown = function (e) {\n                e.preventDefault();\n            };\n\n            els.inc.onmousedown = function (e) {\n                e.preventDefault();\n            };\n\n            function decrement() {\n                var value = el.value;\n                value--;\n                if (!min || value >= min) {\n                    el.value = value;\n                }\n            }\n\n            function increment() {\n                var value = el.value;\n                value++;\n                if (!max || value <= max) {\n                    el.value = value++;\n                }\n            }\n        }\n    }\n})(jQuery);","(function ($) {\n\n    window.initTable = function () {\n\n        document.getElementsByClassName('wptb-table-generator')[0].style.display = 'none';\n        var settings = document.getElementsByClassName('wptb-settings-items');\n        for (var i = 0; i < settings.length; i++) {\n            settings[i].classList.add('visible');\n        }\n\n        //Add Color Picker for Row and Header Background Colors\n        $('#wptb-even-row-bg').wpColorPicker();\n        $('#wptb-odd-row-bg').wpColorPicker();\n        $('#wptb-table-header-bg').wpColorPicker();\n\n        //Create a HTML Table element.\n        var table = document.createElement('table');\n        table.classList.add('wptb-preview-table');\n\n        //Get the count of columns and rows.\n        var columnCount = parseInt(document.getElementById('wptb-columns-number').value);\n        var rowCount = parseInt(document.getElementById('wptb-rows-number').value);\n\n        //Add the header row.\n        var row = table.insertRow(-1);\n        for (var i = 0; i < columnCount; i++) {\n            var headerCell = createCell();\n            row.appendChild(headerCell);\n            row.classList.add('wptb-table-head', 'wptb-row');\n            headerCell.dataset.yIndex = 0;\n            headerCell.dataset.xIndex = i;\n        }\n\n        //Add the data rows.\n        for (var i = 1; i < rowCount; i++) {\n            row = table.insertRow(-1);\n            for (var j = 0; j < columnCount; j++) {\n                var headerCell = createCell();\n                row.appendChild(headerCell);\n                row.classList.add('wptb-row');\n                headerCell.dataset.yIndex = i;\n                headerCell.dataset.xIndex = j;\n            }\n        }\n\n        //Appending the table to the container in UI\n        var wptbTable = document.getElementsByClassName(\"wptb-table-setup\")[0];\n        wptbTable.innerHTML = '';\n        wptbTable.appendChild(table);\n\n        window.bindKeydownHandler();\n        window.bindClickHandler();\n\n    }\n\n    window.createCell = function () {\n        var cell = document.createElement(\"td\"),\n            allowDrop = function (event) {\n                event.target.classList.add('wptb-allow-drop');\n                event.currentTarget.classList.add('wptb-allow-drop');\n                if (event.type == 'dragover') {\n                    event.stopPropagation();\n                    event.preventDefault();\n                    return true;\n                }\n            };\n        cell.classList.add('wptb-droppable', 'wptb-cell');\n        cell.ondrop = function (event) {\n\n            event.preventDefault();\n            event.stopPropagation();\n            event.target.classList.remove('wptb-allow-drop');\n\n            if (wptbElement == 'text') {\n                var textEl = window.newText();\n                event.target.appendChild(textEl);\n                textEl.click();\n            } else if (wptbElement == 'image') {\n                var img = window.newImage()\n                event.target.appendChild(img);\n            } else if (wptbElement == 'button') {\n                var button = window.newButton();\n                event.target.appendChild(button);\n                button.click();\n            } else if (wptbElement == 'list') {\n                var listEl = window.newList();\n                event.target.appendChild(listEl);\n                listEl.click();\n            }\n        };\n        cell.ondragenter = allowDrop;\n        cell.ondragleave = function (event) {\n            event.target.classList.remove('wptb-allow-drop');\n        };\n        cell.ondragover = allowDrop;\n        cell.onclick = toggleCellSelection;\n        return cell;\n    }\n\n    window.toggleCellSelection = function () {\n        if (!this.classList.contains('wptb-selected-cell')) {\n            window.activeRow = this.dataset.yIndex;\n            window.activeColumn = this.dataset.xIndex;\n            this.classList.add('wptb-selected-cell');\n        }\n        else {\n            window.activeRow = undefined;\n            window.activeColumn = undefined;\n            this.classList.remove('wptb-selected-cell');\n        }\n    };\n\n    window.bindKeydownHandler = function () {\n        document.onkeydown = function (e) {\n            if (e.target.className === 'mce-textbox') {\n                window.dontAddItems = true;\n                if (event.which === 13 || event.which === 27) {\n                    setTimeout(function () {\n                        window.dontAddItems = false;\n                        document.querySelector('.wptb-list-item-content.mce-edit-focus').click();\n                    }, 250);\n                }\n            }\n        };\n    };\n\n    window.bindClickHandler = function () {\n\n        /*\n            * event click to the whole document and then check if it's to one\n            * the created element to show it's option\n            */\n        document.onclick = function (e) {\n            setTimeout(\n                function () {\n                    //window.tryToChangeMCEWidth();\n                }, 500);\n            var $this = $(e.target);\n\n            if (e.target.className.match(/delete-action/)) {\n                return;\n            }\n            if (e.target.id.match(/mceu_([0-9])*-button/)) {\n                window.dontAddItems = false;\n            }\n\n            var el_options = false; // this var will carry the element that will be shown its options\n\n            // check if this element or one of it's parent should display its options\n            if ($this.hasClass('wptb-ph-element')) {\n                el_options = $this;\n            } else if ($this.parents().hasClass('wptb-ph-element')) {\n                el_options = $this.parents('.wptb-ph-element');\n            }\n\n            // check to show element's options\n            if (el_options && el_options.length != 0) {\n                window.Element_options_tab();\n\n                /**\n                 * will carry the extracted infotrmation from the class\n                 * @example class => wptb-ph-element wptb-element-text-0\n                 *          result => [\n                 *              0 => wptb-element-text-0\n                 *              1 => text-0\n                 *              2 => text-\n                 *          ]\n                 * @type array\n                 */\n                var infArr = el_options.attr('class').match(/wptb-element-((.+-)\\d+)/i);\n\n                /*\n                 * will carry the class name of the element's options\n                 * @example wptb-text-options wptb-options-text-0\n                 * @type String\n                 */\n                var optionsClass = '.wptb-' + infArr[2] + 'options' +\n                    '.wptb-options-' + infArr[1];\n                $(optionsClass).show();\n\n                //Binds the range slider and input for text font size.\n                var sliders = document.getElementsByClassName('wptb-text-font-size-slider');\n                for (var i = 0; i < sliders.length; i++) {\n                    sliders[i].onchange = function () {\n                        this.parentNode.parentNode.childNodes[3].childNodes[1].value = this.value;\n                    }\n                }\n\n                //Binds the range slider and input for text font size.\n                var numbers = document.getElementsByClassName('wptb-text-font-size-number');\n                for (var i = 0; i < numbers.length; i++) {\n                    numbers[i].onchange = function () {\n                        this.parentNode.parentNode.childNodes[1].childNodes[1].value = this.value;\n                    }\n                }\n            } else {\n                //show the add elements option\n                if ($this.is('#add-elements') ||\n                    $this.parents('#add-elements').length !== 0 ||\n                    $this.hasClass('wptb-builder-panel') ||\n                    $this.parents('.wptb-builder-panel').length !== 0) {\n                    window.add_Elements_tab();\n                }\n            }\n        };\n\n        document.getElementById('wptb-add-end-row').onclick = addRow('end');\n        document.getElementById('wptb-add-start-row').onclick = addRow('start');\n        document.getElementById('wptb-add-end-column').onclick = addColumn('end');\n        document.getElementById('wptb-add-start-column').onclick = addColumn('start');\n        document.getElementById('wptb-delete-row').onclick = deleteRow;\n        document.getElementById('wptb-delete-column').onclick = deleteColumn;\n\n    };\n\n    window.addRow = function (pos) {\n\n        if (typeof pos == 'string' && pos == 'end')\n            return function (evt) {\n                var columnCount = parseInt(document.getElementById('wptb-columns-number').value),\n                    rowCount = parseInt(document.getElementById('wptb-rows-number').value),\n                    table = document.getElementsByClassName('wptb-preview-table')[0];\n                row = table.insertRow(-1);\n                for (var j = 0; j < columnCount; j++) {\n                    var headerCell = createCell();\n                    row.appendChild(headerCell);\n                    headerCell.dataset.yIndex = rowCount;\n                    headerCell.dataset.xIndex = j;\n                }\n                row.classList.add('wptb-row');\n                document.getElementById('wptb-rows-number').value = rowCount + 1;\n            }\n        if (typeof pos == 'string' && pos == 'start')\n            return function (evt) {\n                var columnCount = parseInt(document.getElementById('wptb-columns-number').value),\n                    rowCount = parseInt(document.getElementById('wptb-rows-number').value),\n                    table = document.getElementsByClassName('wptb-preview-table')[0];\n                row = table.insertRow(0);\n                for (var j = 0; j < columnCount; j++) {\n                    var headerCell = createCell();\n                    row.appendChild(headerCell);\n                    headerCell.dataset.yIndex = rowCount;\n                    headerCell.dataset.xIndex = j;\n                }\n                row.classList.add('wptb-row');\n                document.getElementById('wptb-rows-number').value = rowCount + 1;\n            }\n    };\n\n    window.addColumn = function (pos) {\n\n        if (typeof pos == 'string' && pos == 'end')\n            return function (evt) {\n                var columnCount = parseInt(document.getElementById('wptb-columns-number').value),\n                    rowCount = parseInt(document.getElementById('wptb-rows-number').value),\n                    table = document.getElementsByClassName('wptb-preview-table')[0];\n                for (var i = 0; i < rowCount; i++) {\n                    var headerCell = createCell();\n                    table.getElementsByTagName('tr')[i].appendChild(headerCell);\n                    headerCell.dataset.yIndex = i;\n                    headerCell.dataset.xIndex = columnCount;\n                }\n                document.getElementById('wptb-columns-number').value = columnCount + 1;\n            }\n        if (typeof pos == 'string' && pos == 'start')\n            return function (evt) {\n                var columnCount = parseInt(document.getElementById('wptb-columns-number').value),\n                    rowCount = parseInt(document.getElementById('wptb-rows-number').value),\n                    table = document.getElementsByClassName('wptb-preview-table')[0];\n                for (var i = 0; i < rowCount; i++) {\n                    var headerCell = createCell();\n                    table.getElementsByTagName('tr')[i].innerHTML = '<td class=\"wptb-droppable wptb-cell\"></td>' + table.getElementsByTagName('tr')[i].innerHTML;\n                    headerCell.dataset.yIndex = i;\n                    headerCell.dataset.xIndex = 0;\n                }\n                document.getElementById('wptb-columns-number').value = columnCount + 1;\n            }\n    };\n\n    window.deleteRow = function () {\n        var num = window.activeRow,\n            table = document.getElementsByClassName('wptb-preview-table')[0],\n            row = table.getElementsByTagName('tr')[num],\n            rowCount = parseInt(document.getElementById('wptb-rows-number').value),\n            tbody = row.parentNode;\n        tbody.removeChild(row);\n        document.getElementById('wptb-rows-number').value = rowCount - 1;\n    };\n\n    window.deleteColumn = function () {\n        var table = document.getElementsByClassName('wptb-preview-table')[0],\n            num = window.activeColumn,\n            rowCount = parseInt(document.getElementById('wptb-rows-number').value),\n            columnCount = parseInt(document.getElementById('wptb-columns-number').value);\n        for (var i = 0; i < rowCount; i++) {\n            var td = table.getElementsByTagName('tr')[i].getElementsByTagName('td')[num],\n                tr = td.parentNode;\n            tr.removeChild(td);\n        }\n        document.getElementById('wptb-columns-number').value = columnCount - 1;\n    }\n\n    window.mergeCells = function () {\n\n    }\n\n    window.splitCells = function () {\n\n    }\n\n})(jQuery);","(function ($) {\n\n    window.copyText = function (event) {\n        var td = event.target.parentNode.parentNode.parentNode,\n            copy = newText(event.target.parentNode.parentNode.childNodes[0].innerHTML);\n        td.appendChild(copy);\n    }\n\n    window.deleteText = function (evt) {\n        var act = this.parentNode.parentNode,\n            el = act.parentNode;\n        el.removeChild(act);\n        window.add_Elements_tab();\n    }\n\n    window.showTextSettings = function (event) {\n        this.classList.add('wptb-directlyhovered');\n        var btnDelete = document.createElement('span'),\n            btnCopy = document.createElement('span'),\n            actions = document.createElement('span'),\n            previous, i;\n        actions.classList.add('wptb-actions');\n        btnDelete.classList.add('dashicons', 'dashicons-trash', 'delete-action');\n        btnCopy.classList.add('dashicons', 'dashicons-admin-page', 'duplicate-action');\n        btnDelete.onclick = window.deleteText;\n        btnCopy.onclick = window.copyText;\n        actions.appendChild(btnCopy);\n        actions.appendChild(btnDelete);\n        this.appendChild(actions);\n    };\n\n    window.hideTextSettings = function (event) {\n        var formerActions = this.getElementsByClassName('wptb-actions');\n        if (formerActions && formerActions[0]) {\n            let par = formerActions[0].parentNode;\n            par.removeChild(formerActions[0]);\n        }\n        this.classList.remove('wptb-directlyhovered');\n\n    };\n\n    window.newText = function (text) {\n        var elText = document.createElement('div');\n        var elText2 = document.createElement('div');\n        elText2.classList.add('editable');\n        var elP = document.createElement('p');\n        elP.innerHTML = text != undefined ? text : 'Text';\n        elText2.appendChild(elP);\n        elText.appendChild(elText2);\n        elText.onmouseenter = showTextSettings;\n        elText.onmouseleave = hideTextSettings;\n        elText.classList.add('wptb-ph-element', 'wptb-element-text-' +\n            window.wptb_num['text']);\n        window.addElementOptions('text', elText);\n        window.wptb_num['text']++;\n        window.tinyFastCall(elText.childNodes[0]);\n        $(elText).click();\n        return elText;\n    }\n\n})(jQuery);","var wptbElement;\n\n//numbers of elements that have been added\nwindow.wptb_num = new Array();\nwindow.wptb_num[\"text\"] = 0;\nwindow.wptb_num[\"image\"] = 0;\nwindow.wptb_num[\"list\"] = 0;\nwindow.wptb_num[\"button\"] = 0;\n\njQuery(document).ready(function ($) {\n\n    //Column and Row number Selector.\n    inputNumber(document.getElementById('wptb-columns-number'));\n    inputNumber(document.getElementById('wptb-rows-number'));\n\n    //document.getElementById('wptb_builder').onscroll = tryToChangeMCEWidth;\n\n    //Generate table and bind associated functions.\n    document.onready = function () {\n        document.getElementById(\"wptb-generate-table\").onclick = function () {\n\n            //Runs when an element is dropped on a cell.\n            initTable();\n\n\n            /**\n             * this function will be called \n             * when a property of any elemnet is changed\n             * to determine which element that we should edit\n             * and then call edititng_property Function\n             * @returns {void}\n             */\n            function detect_element_for_property() {\n                var option = $(this);\n                var parent = option.closest(\".wptb-element-options\");\n                var classes = parent.attr(\"class\");\n\n                /**\n                 * will carry the extracted infotrmation from the class\n                 * @example class =>wptb-options-text-0\n                 *          result => [\n                 *              0 => wptb-options-text-0\n                 *              1 => text\n                 *              2 => 0\n                 *          ]\n                 * @type array\n                 */\n                var infArr = classes.match(/wptb-options-(.+)-(\\d+)/i);\n\n                var type = infArr[1];\n                var num = infArr[2];\n                var element = $('.wptb-ph-element.wptb-element-' + type + '-' + num);\n                editing_property(element, option);\n            }\n\n            /**\n             * will change the element according to the value of option\n             * \n             * @param {object} element that will change according to the value of option\n             * @param {object} option input element\n             * @returns {void}\n             */\n            function editing_property(element, option) {\n                // type of property @Ex: font-size,color ....\n                var type = option.data('type');\n                var val = option.val();\n                switch (type) {\n                    case 'font-size':\n                        element.find(\"p\").css('font-size', val + 'px');\n                        break;\n                    case 'color':\n                        element.find(\"p\").css('color', val);\n                        break;\n                    case 'list-class':\n                        if (val == 'unordered') {\n                            $('[data-type=list-style-type]').parent().css('display', 'flex');\n                            element.find('article .wptb-list-item-style-dot li').css('list-style-type', 'disc');\n                            $('[data-type=list-style-type]').val('disc');\n                        } else {\n                            $('[data-type=list-style-type]').parent().css('display', 'none');\n                            element.find('article .wptb-list-item-style-dot li').css('list-style-type', 'decimal');\n                        }\n                        break;\n                    case 'numbering-list-style-type':\n                    case 'list-style-type':\n                        element.find('article .wptb-list-item-style-dot li').css('list-style-type', val.toLowerCase());\n                        break;\n                }\n            }\n            $(document.body).on('change input, change select', '.wptb-element-property', detect_element_for_property);\n\n            //Triggers when table border setting changes.\n            function addBorder(value) {\n                document.getElementsByClassName('wptb-preview-table')[0].style.border = value + 'px solid';\n            }\n\n            //Binds the range slider and input, also triggers table border change.\n            document.getElementById('wptb-table-border-slider').onchange = function () {\n                document.getElementById('wptb-table-border-number').value = this.value;\n                addBorder(this.value);\n            };\n\n            //Binds the range slider and input, also triggers table border change.\n            document.getElementById('wptb-table-border-number').onchange = function () {\n                document.getElementById('wptb-table-border-slider').value = this.value;\n                addBorder(this.value);\n            };\n\n            //Triggers when cell padding setting changes.\n            function addCellPadding(value) {\n                var tableCells = document.getElementsByClassName('wptb-preview-table')[0].getElementsByTagName('td');\n                for (var i = 0; i < tableCells.length; i++) {\n                    tableCells[i].style.padding = value + 'px';\n                }\n            }\n\n            //Binds the range slider and input, also triggers cell padding change.\n            document.getElementById('wptb-table-cell-slider').onchange = function () {\n                document.getElementById('wptb-table-cell-number').value = this.value;\n                addCellPadding(this.value);\n            };\n\n            //Binds the range slider and input, also triggers cell padding change.\n            document.getElementById('wptb-table-cell-number').onchange = function () {\n                document.getElementById('wptb-table-cell-slider').value = this.value;\n                addCellPadding(this.value);\n            };\n\n            document.getElementById('wptb-activate-cell-management-mode').onclick = function () {\n                if (this.value == \"Manage Cells\") {\n                    document.getElementsByClassName('wptb-cell-management')[0].classList.add('visible');\n                    this.value = \"Close Cell Management Mode\";\n                }\n                else {\n                    document.getElementsByClassName('wptb-cell-management')[0].classList.remove('visible');\n                    this.value = \"Manage Cells\";\n                }\n\n            }\n\n            //Triggers when apply inner border setting changes.\n            function addInnerBorder(checked) {\n                var styles;\n\n                if (checked == 'checked') {\n                    document.getElementById('wptb-apply-inner-border').style.marginBottom = '0px';\n                    var tableCells = document.getElementsByClassName('wptb-preview-table')[0].getElementsByTagName('td');\n                    for (var i = 0; i < tableCells.length; i++) {\n                        tableCells[i].style.border = '1px solid';\n                    }\n\n                    document.getElementById('wptb-inner-border-settings').classList.add('visible');\n                } else {\n                    document.getElementById('wptb-inner-border-settings').classList.remove('visible');\n                    var tableCells = document.getElementsByClassName('wptb-preview-table')[0].getElementsByTagName('td');\n                    for (var i = 0; i < tableCells.length; i++) {\n                        tableCells[i].style.border = '';\n                    }\n                }\n            }\n\n            //Binding Checkbox Change, triggers inner border add.\n            document.getElementById('wptb-inner-border-check').onchange = function () {\n                var _val = this.checked ? 'checked' : 'unchecked';\n                addInnerBorder(_val);\n            };\n\n            //Triggers when cell padding setting changes.\n            function addInnerBorderSize(value) {\n                var tableCells = document.getElementsByClassName('wptb-preview-table')[0].getElementsByTagName('td');\n                for (var i = 0; i < tableCells.length; i++) {\n                    tableCells[i].style.border = value + 'px solid';\n                }\n            }\n\n            //Binds the range slider and input, also triggers cell padding change.\n            document.getElementById('wptb-table-inner-border-slider').onchange = function () {\n                document.getElementById('wptb-table-inner-border-number').value = this.value;\n                addInnerBorderSize(this.value);\n            };\n\n            //Binds the range slider and input, also triggers cell padding change.\n            document.getElementById('wptb-table-inner-border-number').onchange = function () {\n                document.getElementById('wptb-table-inner-border-slider').value = this.value;\n                addInnerBorderSize(this.value);\n            };\n\n        };\n\n    }; // Of document.onready\n\n    //When dragging starts for Text element\n    function itemDragStart(event) {\n        wptbElement = event.target.id.substring(5, event.target.id.length);\n\n        //var el = $(this);\n        event.dataTransfer.effectAllowed = 'move';\n        event.dataTransfer.setData(\"text/plain\", event.target.getAttribute('id'));\n    }\n\n    //On drag elements.\n    document.getElementById('wptb-text').ondragstart = itemDragStart;\n    document.getElementById('wptb-image').ondragstart = itemDragStart;\n    document.getElementById('wptb-button').ondragstart = itemDragStart;\n    document.getElementById('wptb-list').ondragstart = itemDragStart;\n\n});"]}