{"version":3,"sources":["functions.button.js","functions.image.js","functions.list.js","functions.miscellaneous.js","functions.text.js","wptb-builder.js"],"names":["$","window","deleteButton","event","act","parentNode","el","removeChild","add_Elements_tab","copyButton","td","target","copy","newButton","childNodes","innerHTML","appendChild","showButtonSettings","classList","add","btnDelete","document","createElement","btnCopy","actions","previous","i","onclick","hideButtonSettings","formerActions","getElementsByClassName","par","remove","text","elButton","elButton2","el_B","undefined","onmouseenter","onmouseleave","wptb_num","addElementOptions","tinyMCE","init","inline","plugins","dialog_type","theme","menubar","fixed_toolbar_container","toolbar","setup","ed","on","execCommand","init_instance_callback","editor","e","getContent","setContent","range","selection","getRng","KeyID","keyCode","startOffset","preventDefault","jQuery","copyImage","srcList","newList","cloneNode","container","listItems","querySelectorAll","showListSettings","hideListSettings","length","cont","showListItemSettings","hideListItemSettings","id","tinyFastCall","onkeyup","listItemKeyListener","infArr","className","match","elName","oldClass","oldClassOptionsPanelClass","newOptionsPanel","clone","oldOptionsPanel","querySelector","newClass","newClassOptionsPanelClass","removeClass","addClass","showImageSettings","list","tdContainer","trigger","copyList","append","hideImageSettings","parent","newImage","duplicate","divdot","divcontent","libullet","temp","push","deleteList","item","article","content","html","newListItem","innerElements","elList","el_L","key","which","liEl","lastP","dontAddItems","after","focus","trim","getElementById","getElementsByTagName","style","display","wptbElement","prop","listener_to_element","find","wpColorPicker","element","data","val","setInterval","value","old_value","tryToChangeMCEWidth","totalWidth","offsetWidth","currentEditor","scrollTop","bodyElement","position","right","top","obj","inputNumber","min","max","els","dec","previousSibling","inc","nextSibling","decrement","increment","onmousedown","copyText","newText","deleteText","evt","showTextSettings","hideTextSettings","elText","elText2","elP","click","Array","ready","onready","settings","table","columnCount","parseInt","rowCount","row","insertRow","headerCell","j","wptbTable","droppableItems","allowDrop","currentTarget","type","stopPropagation","ondragenter","ondragleave","ondragover","drop","ondrop","textEl","button","listEl","onkeydown","setTimeout","$this","el_options","hasClass","parents","Element_options_tab","attr","optionsClass","show","sliders","onchange","numbers","is","children","detect_element_for_property","option","closest","classes","num","editing_property","css","toLowerCase","body","addBorder","border","addCellPadding","tableCells","padding","addInnerBorder","checked","styles","marginBottom","_val","addInnerBorderSize","itemDragStart","substring","dataTransfer","effectAllowed","setData","getAttribute","ondragstart"],"mappings":"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","file":"admin.js","sourcesContent":["(function ($) {\r\n\r\n    window.deleteButton = function (event) { \r\n        var act=this.parentNode.parentNode,\r\n            el = act.parentNode;\r\n        el.removeChild(act); \r\n        window.add_Elements_tab();\r\n    };\r\n\r\n    window.copyButton = function (event) { \r\n        var td = event.target.parentNode.parentNode.parentNode,\r\n            copy = newButton(event.target.parentNode.parentNode.childNodes[0].innerHTML);\r\n        td.appendChild(copy);\r\n    };\r\n\r\n    window.showButtonSettings = function (event) { \r\n        this.classList.add('wptb-directlyhovered');\r\n        var btnDelete = document.createElement('span'),\r\n            btnCopy = document.createElement('span'),\r\n            actions = document.createElement('span'),\r\n            previous, i;\r\n        actions.classList.add('wptb-actions'); \r\n        btnDelete.classList.add('dashicons', 'dashicons-trash', 'delete-action');\r\n        btnCopy.classList.add('dashicons', 'dashicons-admin-page', 'duplicate-action');\r\n        btnDelete.onclick = window.deleteButton;\r\n        btnCopy.onclick = window.copyButton;\r\n        actions.appendChild(btnCopy);\r\n        actions.appendChild(btnDelete);\r\n        this.appendChild(actions); \r\n    };\r\n\r\n    window.hideButtonSettings = function (event) { \r\n        var formerActions = this.getElementsByClassName('wptb-actions');\r\n        if(formerActions && formerActions[0]){\r\n            let par = formerActions[0].parentNode;\r\n            par.removeChild(formerActions[0]);\r\n        }\r\n        this.classList.remove('wptb-directlyhovered'); \r\n    };\r\n\r\n    window.newButton = function (text) {\r\n        var elButton = document.createElement('div');\r\n        elButton.classList.add('wptb-button-container');\r\n        var elButton2 = document.createElement('div');\r\n        elButton2.classList.add('wptb-button-wrapper');\r\n        var el_B = document.createElement('p');\r\n        el_B.classList.add('wptb-button');\r\n        el_B.classList.add('editable');\r\n        el_B.innerHTML = text != undefined ? text : 'Button Text';\r\n        elButton2.appendChild(el_B);\r\n        elButton.appendChild(elButton2);\r\n        elButton.onmouseenter = showButtonSettings;\r\n        elButton.onmouseleave = hideButtonSettings;\r\n        elButton.classList.add('wptb-ph-element','wptb-element-button-' + \r\n        window.wptb_num['button']);\r\n        window.addElementOptions('button',elButton);\r\n        window.wptb_num['button']++;\r\n        tinyMCE.init({\r\n                        target: el_B,\r\n                        inline: true,\r\n                        plugins: \"link\",\r\n                        dialog_type: \"modal\",\r\n                        theme: 'modern',\r\n                        menubar: false,\r\n                        fixed_toolbar_container: '#wpcd_fixed_toolbar',\r\n                        toolbar: 'bold italic strikethrough',\r\n                        setup: function (ed) {\r\n                            ed.on(\"init\",\r\n                                function (ed) {\r\n                                    tinyMCE.execCommand('mceRepaint');\r\n                                }\r\n                            );\r\n                        },\r\n                        init_instance_callback: function (editor) {\r\n                            editor.on('change', function (e) {\r\n                                // check if it becomes empty because if there's no value it's hard to edit the editor in button element\r\n                                if (editor.getContent() == \"\") {\r\n                                    editor.setContent(\"<p class='wptb-button'>Button Text</p>\");\r\n                                }\r\n                            });\r\n                            editor.on('KeyDown', function (e) {\r\n                                var range = editor.selection.getRng();\r\n                                var KeyID = e.keyCode;\r\n                                if (range.startOffset == 0 && (KeyID == 8 || KeyID == 46)) {\r\n                                    e.preventDefault();\r\n                                    editor.setContent(\"<p class='wptb-button'></p>\");\r\n                                }\r\n\r\n                            });\r\n                        }\r\n                    });\r\n\r\n        return elButton;\r\n    }\r\n\r\n})(jQuery);","(function ($) {\r\n\r\n    window.copyImage = function (event) {\r\n        var srcList = event.target.parentNode.parentNode,\r\n            newList = srcList.cloneNode(true),\r\n            container = srcList.parentNode,\r\n            listItems = newList.querySelectorAll('article');\r\n        newList.onmouseenter = showListSettings;\r\n        newList.onmouseleave = hideListSettings;\r\n        for (var i = listItems.length - 1; i >= 0; i--) {\r\n            let cont = listItems[i].getElementsByClassName('wptb-list-item-content')[0]; \r\n            listItems[i].onmouseenter = showListItemSettings;\r\n            listItems[i].onmouseleave = hideListItemSettings;\r\n            cont.id = '';\r\n            tinyFastCall(cont);\r\n            cont.onkeyup = listItemKeyListener;\r\n        }\r\n\r\n\r\n        var infArr = newList.className.match(/wptb-element-(.+)-(\\d)+/i),\r\n            elName = infArr[1],\r\n            oldClass = infArr[0],\r\n            oldClassOptionsPanelClass = \"wptb-options-\" + elName + \"-\" + infArr[2];\r\n\r\n        var newOptionsPanel = $('.' + oldClassOptionsPanelClass).clone(true, true),\r\n            oldOptionsPanel = document.querySelector('.' + oldClassOptionsPanelClass);\r\n        oldOptionsPanel.parentNode.appendChild(newOptionsPanel[0]);\r\n\r\n        var newClass = \"wptb-element-\" + elName + \"-\" + wptb_num['list'];\r\n        var newClassOptionsPanelClass = \"wptb-options-\" + elName + \"-\" + wptb_num['list'];\r\n\r\n        newList.classList.add(newClass);\r\n        newList.classList.remove(oldClass);\r\n\r\n        newOptionsPanel.removeClass(oldClassOptionsPanelClass);\r\n        newOptionsPanel.addClass(newClassOptionsPanelClass);\r\n\r\n        wptb_num['list']++;\r\n\r\n        container.appendChild(newList);\r\n    }\r\n\r\n    window.showImageSettings = function (event) {\r\n        var btnDelete = document.createElement('span'),\r\n            btnCopy = document.createElement('span'),\r\n            actions = document.createElement('span'),\r\n            previous, i;\r\n        actions.classList.add('wptb-actions'); \r\n        btnDelete.classList.add('dashicons', 'dashicons-trash', 'delete-action');\r\n        btnCopy.classList.add('dashicons', 'dashicons-admin-page', 'duplicate-action');\r\n        delete document.getElementsByClassName('wptb-actions');\r\n        previous = document.getElementsByClassName('wptb-directlyhovered');\r\n        for (i = 0; i < previous.length; i++) {\r\n            previous[i].classList.remove('wptb-directlyhovered');\r\n        };\r\n        this.classList.add('wptb-directlyhovered');\r\n\r\n        btnDelete.onclick = function () {\r\n\r\n            var list = this.parentNode.parentNode,\r\n                tdContainer = list.parentNode;\r\n            $('#add-elements a').trigger('click');\r\n            tdContainer.removeChild(list); \r\n        };\r\n        btnCopy.onclick = copyList;\r\n\r\n        actions.append(btnCopy, btnDelete);\r\n        this.append(actions);\r\n    };\r\n\r\n    window.hideImageSettings = function (event) {\r\n        this.classList.remove('wptb-directlyhovered');\r\n        var actions = this.getElementsByClassName('wptb-actions')[0];\r\n        if (actions != undefined) {\r\n            let parent = actions.parentNode;\r\n            parent.removeChild(actions);\r\n        }\r\n    };\r\n\r\n    window.newImage = function (text) {\r\n        if (text == undefined) text = 'New List Item';\r\n        var duplicate = document.createElement('article');\r\n        var divdot = document.createElement('div'),\r\n            divcontent = document.createElement('div'),\r\n            libullet = document.createElement('li');\r\n        divdot.classList.add('wptb-list-item-style-dot');\r\n        divcontent.classList.add('wptb-list-item-content');\r\n        libullet.classList.add('wptb-bullet');\r\n        duplicate.appendChild(divdot);\r\n        duplicate.appendChild(divcontent);\r\n        divdot.appendChild(libullet);\r\n        divcontent.innerHTML = text;\r\n        tinyFastCall(divcontent);\r\n        divcontent.onkeyup = window.listItemKeyListener;\r\n        divcontent.onmouseenter = function (event) {\r\n            var previous = document.getElementsByClassName('wptb-directlyhovered');\r\n            for (i = 0; i < previous.length; i++) {\r\n                previous[i].classList.remove('wptb-directlyhovered');\r\n            };\r\n            this.classList.add('wptb-directlyhovered');\r\n        };\r\n        divcontent.onmouseleave = function (event) {\r\n            this.classList.remove('wptb-directlyhovered');\r\n        };\r\n        divcontent.onmouseenter = showListItemSettings;\r\n        divcontent.onmouseleave = hideListItemSettings;\r\n        return duplicate;\r\n    }\r\n\r\n})(jQuery);","(function ($) {\r\n\r\n    window.copyList = function (event) { \r\n        var td = event.target.parentNode.parentNode.parentNode,\r\n            temp = [],\r\n            srcList = event.target.parentNode.parentNode.querySelectorAll('ul article .wptb-list-item-content');\r\n\r\n        for (var i = 0; i < srcList.length; i++) {\r\n            temp.push(srcList[i].innerHTML);\r\n        }\r\n        var copy = newList(temp);\r\n        td.appendChild(copy);\r\n    }\r\n\r\n    window.deleteList = function(){\r\n        var act=this.parentNode.parentNode,\r\n            el = act.parentNode;\r\n        el.removeChild(act); \r\n        window.add_Elements_tab();\r\n    }\r\n\r\n    window.showListSettings = function (event) {\r\n        this.classList.add('wptb-directlyhovered');\r\n        var btnDelete = document.createElement('span'),\r\n            btnCopy = document.createElement('span'),\r\n            actions = document.createElement('span'),\r\n            previous, i;\r\n        actions.classList.add('wptb-actions'); \r\n        btnDelete.classList.add('dashicons', 'dashicons-trash', 'delete-action');\r\n        btnCopy.classList.add('dashicons', 'dashicons-admin-page', 'duplicate-action');\r\n        btnDelete.onclick = window.deleteList;\r\n        btnCopy.onclick = window.copyList;\r\n        actions.appendChild(btnCopy);\r\n        actions.appendChild(btnDelete);\r\n        this.appendChild(actions); \r\n    };\r\n\r\n    window.hideListSettings = function (event) {\r\n        this.classList.remove('wptb-directlyhovered');\r\n        var actions = this.querySelector('.wptb-actions');\r\n        if (actions != undefined) {\r\n            let parent = actions.parentNode;\r\n            parent.removeChild(actions);\r\n        } \r\n    };\r\n\r\n    window.showListItemSettings = function (event) { \r\n        //el Article\r\n        var btnDelete = document.createElement('span'),\r\n            btnCopy = document.createElement('span'),\r\n            actions = document.createElement('span'),\r\n            previous, i;\r\n        actions.classList.add('wptb-actions'); \r\n        btnDelete.classList.add('dashicons', 'dashicons-trash', 'delete-action');\r\n        btnCopy.classList.add('dashicons', 'dashicons-admin-page', 'duplicate-action');\r\n        this.classList.add('wptb-directlyhovered');\r\n\r\n        btnDelete.onclick = function () {\r\n            var item = this.parentNode.parentNode,\r\n                parent = item.parentNode;\r\n            parent.removeChild(item);\r\n        };\r\n\r\n        btnCopy.onclick = function (event) {\r\n            var article = event.target.parentNode.parentNode,\r\n                content = article.querySelector('.wptb-list-item-content'),\r\n                html = content.innerHTML;\r\n            var duplicate = newListItem(html);\r\n            article.parentNode.appendChild(duplicate);\r\n        };\r\n\r\n        actions.append(btnCopy, btnDelete); \r\n        this.appendChild(actions);\r\n    };\r\n\r\n    window.hideListItemSettings = function (event) { \r\n        this.classList.remove('wptb-directlyhovered');\r\n        var actions = this.parentNode.querySelector('.wptb-actions'); \r\n        if (actions != undefined) {\r\n            let parent = actions.parentNode;\r\n            parent.removeChild(actions);\r\n        }\r\n    };\r\n\r\n    window.newList = function(innerElements){\r\n        var elList = document.createElement('div');\r\n            //elList.classList.add('editable');\r\n            var el_L = document.createElement('ul');\r\n            if(!innerElements)\r\n            for (var i = 0; i < 3; i++) {\r\n                el_L.appendChild(newListItem('List Item '+(i+1)));\r\n            }\r\n            else{\r\n                for (var i = 0; i < innerElements.length; i++) {\r\n                    el_L.appendChild(newListItem(innerElements[i]));\r\n                }\r\n            }\r\n            elList.appendChild(el_L);\r\n            elList.onmouseenter = showListSettings;\r\n            elList.onmouseleave = hideListSettings;\r\n            elList.classList.add('wptb-ph-element', 'wptb-element-list-' + window.wptb_num['list']);\r\n            window.addElementOptions('list', elList);\r\n            window.wptb_num['list']++;\r\n\r\n            return elList;\r\n    }\r\n\r\n    window.newListItem = function (text) {\r\n        if (text == undefined) text = 'New List Item';\r\n        var duplicate = document.createElement('article');\r\n        var divdot = document.createElement('div'),\r\n            divcontent = document.createElement('div'),\r\n            libullet = document.createElement('li');\r\n        divdot.classList.add('wptb-list-item-style-dot');\r\n        divcontent.classList.add('wptb-list-item-content');\r\n        libullet.classList.add('wptb-bullet');\r\n        duplicate.appendChild(divdot);\r\n        duplicate.appendChild(divcontent);\r\n        divdot.appendChild(libullet);\r\n        divcontent.innerHTML = text;\r\n        tinyFastCall(divcontent);\r\n        divcontent.onkeyup = window.listItemKeyListener;\r\n        divcontent.parentNode.onmouseenter = window.showListItemSettings;\r\n        divcontent.parentNode.onmouseleave = window.hideListItemSettings;\r\n        return duplicate;\r\n    }\r\n\r\n    window.listItemKeyListener = function (event) { \r\n        var key = (event.which != undefined) ? event.which\r\n            : event.keyCode,\r\n            liEl = $(this).parent(),\r\n            duplicate, lastP;\r\n        if (key !== 13 || \r\n        (window.dontAddItems !== undefined && window.dontAddItems === true) ){\r\n            return;\r\n        }\r\n        event.preventDefault();\r\n        duplicate = newListItem();\r\n        liEl.after(duplicate);\r\n        duplicate.querySelector('.wptb-list-item-content').focus();\r\n\r\n        lastP = this.childNodes[this.childNodes.length - 1];\r\n        this.removeChild(lastP);\r\n        if (this.innerHTML.trim() == '<p><br data-mce-bogus=\"1\"></p>') {\r\n            this.innerHTML = 'New List Item';\r\n        }\r\n        return false;\r\n    };\r\n \r\n})(jQuery);","(function ($) {\r\n\r\n    window.add_Elements_tab = function() { \r\n                document.getElementById('element-options').getElementsByTagName('a')[0].classList.remove('active'); \r\n                document.getElementById('add-elements').getElementsByTagName('a')[0].classList.add('active'); \r\n\r\n                document.getElementsByClassName('wptb-elements-container')[0].style.display = 'table'; \r\n                document.getElementsByClassName('wptb-settings-section')[0].style.display = 'block'; \r\n                document.getElementById(\"element-options-group\").style.display='none'; \r\n\r\n            };\r\n\r\n            window.addElementOptions = function(wptbElement, el) {\r\n                var prop = $(\".wptb-\" + wptbElement + \"-options-prototype\").clone();\r\n                prop.removeClass(\"wptb-\" + wptbElement + \"-options-prototype\"); // remove prototype from the class\r\n                prop.addClass('wptb-options-' + wptbElement + \"-\" + wptb_num[wptbElement]);\r\n                document.getElementById(\"element-options-group\").appendChild(prop[0]); \r\n                //special cases to elements if needed\r\n                switch (wptbElement) {\r\n                    case 'text':\r\n                        listener_to_element(prop.find('.wptb-color-picker'));\r\n                        prop.find('.wptb-color-picker').wpColorPicker();\r\n                        break;\r\n                }\r\n                wptb_num[wptbElement]++;\r\n            };\r\n\r\n            /**\r\n             * to listen to the elements that will change dynamically\r\n             * change by other javascript code then will trigger the change event to them\r\n             * \r\n             * @param {string} element\r\n             * @returns {void}\r\n             */\r\n            window.listener_to_element = function(element)  {\r\n                element.data('old_value', element.val());\r\n                window.setInterval(function () {\r\n                    var value = element.val();\r\n                    var old_value = element.data('old_value');\r\n                    if (value != old_value) {\r\n                        old_value = value;\r\n                        element.trigger('change');\r\n                    }\r\n                }, 300);\r\n            };\r\n\r\n    window.tryToChangeMCEWidth = function(e){ \r\n                var  totalWidth = document.getElementsByClassName('wptb-builder-panel')[0].offsetWidth;\r\n \r\n               if(window.currentEditor && \r\n                document.getElementById('wptb_builder').scrollTop >= 55 \r\n                && window.currentEditor.bodyElement.style.display!='none'){  \r\n                document.getElementById('wpcd_fixed_toolbar').style.position='fixed'; \r\n                document.getElementById('wpcd_fixed_toolbar').style.right = (totalWidth / 2 - document.getElementById('wpcd_fixed_toolbar').offsetWidth / 2)+'px';\r\n                document.getElementById('wpcd_fixed_toolbar').style.top = '100px';\r\n                }\r\n                else{\r\n                document.getElementById('wpcd_fixed_toolbar').style.position='static';\r\n                delete document.getElementById('wpcd_fixed_toolbar').style.right; \r\n                delete document.getElementById('wpcd_fixed_toolbar').style.top; \r\n                }\r\n                //if(this.scrollTop > && )\r\n//                document.getElementById('wpcd_fixed_toolbar').style.left = 'calc(50% - '+width+')';  \r\n            };\r\n\r\n    window.tinyFastCall = function (obj) {\r\n        tinyMCE.init({\r\n            target: obj,\r\n            inline: true,\r\n            plugins: \"link\",\r\n            dialog_type: \"modal\",\r\n            theme: 'modern',\r\n            menubar: false,\r\n            fixed_toolbar_container: '#wpcd_fixed_toolbar',\r\n            toolbar: 'bold italic strikethrough link unlink | alignleft aligncenter alignright alignjustify',\r\n            init_instance_callback: function (editor) {\r\n                window.currentEditor= editor;\r\n                editor.on('focus', function (e) {\r\n                  window.tryToChangeMCEWidth();\r\n                });\r\n              }\r\n        });\r\n    }\r\n\r\n    window.inputNumber = function (el) {\r\n\r\n        var min = el.min || false;\r\n        var max = el.max || false;\r\n\r\n        var els = {};\r\n\r\n        els.dec = el.previousSibling;\r\n        els.inc = el.nextSibling;\r\n\r\n            init(el);\r\n        \r\n\r\n        function init(el) {\r\n\r\n            els.dec.onclick = decrement;\r\n            els.inc.onclick = increment;\r\n\r\n            els.dec.onmousedown= function (e) {\r\n                e.preventDefault();\r\n            };\r\n\r\n            els.inc.onmousedown = function (e) {\r\n                e.preventDefault();\r\n            };\r\n\r\n            function decrement() { \r\n                var value = el.value;\r\n                value--;\r\n                if (!min || value >= min) {\r\n                    el.value = value;\r\n                }\r\n            }\r\n\r\n            function increment() { \r\n                var value = el.value;\r\n                value++;\r\n                if (!max || value <= max) {\r\n                    el.value = value++;\r\n                }\r\n            }\r\n        }\r\n    }\r\n})(jQuery);","(function ($) {\r\n\r\n\r\n    window.copyText = function (event) {\r\n        var td = event.target.parentNode.parentNode.parentNode,\r\n            copy = newText(event.target.parentNode.parentNode.childNodes[0].innerHTML);\r\n        td.appendChild(copy);\r\n    }\r\n\r\n    window.deleteText = function(evt){\r\n        var act=this.parentNode.parentNode,\r\n            el = act.parentNode;\r\n        el.removeChild(act); \r\n        window.add_Elements_tab();\r\n    }\r\n\r\n    window.showTextSettings = function (event) {\r\n        this.classList.add('wptb-directlyhovered');\r\n        var btnDelete = document.createElement('span'),\r\n            btnCopy = document.createElement('span'),\r\n            actions = document.createElement('span'),\r\n            previous, i;\r\n        actions.classList.add('wptb-actions'); \r\n        btnDelete.classList.add('dashicons', 'dashicons-trash', 'delete-action');\r\n        btnCopy.classList.add('dashicons', 'dashicons-admin-page', 'duplicate-action');\r\n        btnDelete.onclick = window.deleteText;\r\n        btnCopy.onclick = window.copyText;\r\n        actions.appendChild(btnCopy);\r\n        actions.appendChild(btnDelete);\r\n        this.appendChild(actions); \r\n    };\r\n\r\n    window.hideTextSettings = function (event) {\r\n        var formerActions = this.getElementsByClassName('wptb-actions');\r\n        if(formerActions && formerActions[0]){\r\n            let par = formerActions[0].parentNode;\r\n            par.removeChild(formerActions[0]);\r\n        }\r\n        this.classList.remove('wptb-directlyhovered'); \r\n         \r\n    };\r\n\r\n    window.newText = function (text) { \r\n        var elText = document.createElement('div');\r\n        var elText2 = document.createElement('div');\r\n        elText2.classList.add('editable');\r\n        var elP = document.createElement('p');\r\n        elP.innerHTML = text!=undefined ? text : 'Text';\r\n        elText2.appendChild(elP);\r\n        elText.appendChild(elText2);\r\n        elText.onmouseenter = showTextSettings;\r\n        elText.onmouseleave = hideTextSettings;\r\n        elText.classList.add('wptb-ph-element','wptb-element-text-' + \r\n            window.wptb_num['text']);\r\n        window.addElementOptions('text',elText);\r\n        window.wptb_num['text']++;\r\n        window.tinyFastCall(elText.childNodes[0]); \r\n        $(elText).click();\r\n        return elText;\r\n    }\r\n\r\n})(jQuery);","var wptbElement;\r\n\r\n\r\n            //numbers of elements that have been added\r\n            window.wptb_num = new Array();\r\n            window.wptb_num[\"text\"] = 0;\r\n            window.wptb_num[\"image\"] = 0;\r\n            window.wptb_num[\"list\"] = 0;\r\n            window.wptb_num[\"button\"] = 0;\r\n\r\njQuery(document).ready(function ($) {\r\n\r\n    //Column and Row number Selector.\r\n    inputNumber(document.getElementById('wptb-columns-number'));\r\n    inputNumber(document.getElementById('wptb-rows-number'));\r\n\r\n    //document.getElementById('wptb_builder').onscroll = tryToChangeMCEWidth;\r\n\r\n    //Generate table and bind associated functions.\r\n    document.onready = function () {\r\n        document.getElementById(\"wptb-generate-table\").onclick = function () {\r\n\r\n            document.getElementsByClassName('wptb-table-generator')[0].style.display='none';\r\n            var settings = document.getElementsByClassName('wptb-settings-items');\r\n            for (var i = 0; i < settings.length; i++) {\r\n                settings[i].classList.add('visible');\r\n            } \r\n\r\n            //Add Color Picker for Row and Header Background Colors\r\n            $('#wptb-even-row-bg').wpColorPicker();\r\n            $('#wptb-odd-row-bg').wpColorPicker();\r\n            $('#wptb-table-header-bg').wpColorPicker();\r\n\r\n            //Create a HTML Table element.\r\n            var table = document.createElement('table');\r\n            table.classList.add('wptb-preview-table');\r\n\r\n            //Get the count of columns and rows.\r\n            var columnCount = parseInt(document.getElementById('wptb-columns-number').value);\r\n            var rowCount = parseInt(document.getElementById('wptb-rows-number').value);  \r\n\r\n            //Add the header row.\r\n            var row = table.insertRow(-1);\r\n            for (var i = 0; i < columnCount; i++) {\r\n                var headerCell = document.createElement(\"td\");\r\n                row.appendChild(headerCell);\r\n                headerCell.classList.add('wptb-droppable','wptb-cell');\r\n                row.classList.add('wptb-table-head','wptb-row');\r\n            }\r\n\r\n            //Add the data rows.\r\n            for (var i = 1; i < rowCount; i++) {\r\n                row = table.insertRow(-1);\r\n                for (var j = 0; j < columnCount; j++) {\r\n                    var headerCell = document.createElement(\"td\");\r\n                    headerCell.classList.add('wptb-droppable', 'wptb-cell');\r\n                    row.appendChild(headerCell);\r\n                    row.classList.add('wptb-row')\r\n                }\r\n            }\r\n\r\n            //Appending the table to the container in UI\r\n            var wptbTable = document.getElementsByClassName(\"wptb-table-setup\")[0];\r\n            wptbTable.innerHTML='';\r\n            wptbTable.appendChild(table);\r\n\r\n            //Adds/Removes Class to Droppable Cell when element enters.\r\n            var droppableItems = document.getElementsByClassName('wptb-droppable'),\r\n                allowDrop = function(event){\r\n                    event.target.classList.add('wptb-allow-drop');\r\n                    event.currentTarget.classList.add('wptb-allow-drop');\r\n                    if(event.type=='dragover'){\r\n                        event.stopPropagation();\r\n                        event.preventDefault();\r\n                        return true;\r\n                    }\r\n                };\r\n\r\n            for (var i = 0; i < droppableItems.length; i++) {\r\n                droppableItems[i].ondragenter = allowDrop;\r\n                droppableItems[i].ondragleave = function (event) {\r\n                    event.target.classList.remove('wptb-allow-drop');\r\n                };\r\n                droppableItems[i].ondragover = allowDrop;\r\n            } \r\n\r\n            //Text Element to be dropped in Cell.\r\n            var elList = window.newList();\r\n\r\n\r\n            //Runs when an element is dropped on a cell.\r\n            var drop = document.getElementsByClassName('wptb-droppable');\r\n            for(i=0;i<drop.length;i++){\r\n            drop[i].ondrop = function (event) {\r\n\r\n                event.preventDefault();\r\n                event.stopPropagation();\r\n                event.target.classList.remove('wptb-allow-drop');\r\n\r\n                if (wptbElement == 'text') {\r\n                    var textEl = window.newText();\r\n                    event.target.appendChild(textEl);\r\n                    textEl.click();\r\n                } else if (wptbElement == 'image') {\r\n                    event.target.innerHTML = 'Image';\r\n                } else if (wptbElement == 'button') {\r\n                   var button = window.newButton();\r\n                     \r\n                    event.target.appendChild(button); \r\n                    button.click();\r\n                    \r\n\r\n                } else if (wptbElement == 'list') {\r\n                    var listEl = window.newList();\r\n                    event.target.appendChild(listEl);\r\n                    listEl.click();\r\n                }\r\n            }; //of drop\r\n            };   \r\n\r\n\r\n \r\n\r\n            document.onkeydown = function (e) {\r\n                if (e.target.className === 'mce-textbox') {\r\n                    window.dontAddItems = true;\r\n                    if (event.which === 13 || event.which === 27) {\r\n                        setTimeout(function () {\r\n                            window.dontAddItems = false;\r\n                            document.querySelector('.wptb-list-item-content.mce-edit-focus').click();\r\n                        }, 250);\r\n                    }\r\n                }\r\n            };\r\n\r\n            /*\r\n             * event click to the whole document and then check if it's to one\r\n             * the created element to show it's option\r\n             */\r\n \r\n            document.onclick = function (e) { \r\n                setTimeout(\r\n                    function(){\r\n                        //window.tryToChangeMCEWidth();\r\n \r\n                    }\r\n                    , 500);\r\n                var $this = $(e.target);\r\n \r\n                if(e.target.className.match(/delete-action/) ){ \r\n \r\n                    return;\r\n                }\r\n                if (e.target.id.match(/mceu_([0-9])*-button/)) {\r\n                    window.dontAddItems = false;\r\n                }\r\n\r\n                var el_options = false; // this var will carry the element that will be shown its options\r\n  \r\n                // check if this element or one of it's parent should display its options\r\n                if ($this.hasClass('wptb-ph-element')) {\r\n                    el_options = $this;\r\n                } else if ($this.parents().hasClass('wptb-ph-element')) {\r\n                    el_options = $this.parents('.wptb-ph-element');\r\n                }\r\n\r\n                // check to show element's options\r\n                if (el_options && el_options.length != 0) {\r\n                    Element_options_tab();\r\n\r\n                    /**\r\n                     * will carry the extracted infotrmation from the class\r\n                     * @example class => wptb-ph-element wptb-element-text-0\r\n                     *          result => [\r\n                     *              0 => wptb-element-text-0\r\n                     *              1 => text-0\r\n                     *              2 => text-\r\n                     *          ]\r\n                     * @type array\r\n                     */\r\n                    var infArr = el_options.attr('class').match(/wptb-element-((.+-)\\d+)/i);\r\n\r\n\r\n                    /*\r\n                     * will carry the class name of the element's options\r\n                     * @example wptb-text-options wptb-options-text-0\r\n                     * @type String\r\n                     */\r\n                    var optionsClass = '.wptb-' + infArr[2] + 'options' +\r\n                        '.wptb-options-' + infArr[1]; \r\n                    $(optionsClass).show();\r\n\r\n                    //Binds the range slider and input for text font size.\r\n                    var sliders = document.getElementsByClassName('wptb-text-font-size-slider');\r\n                    for (var i = 0; i < sliders.length; i++) {\r\n                         sliders[i].onchange =  function () {\r\n                            this.parentNode.parentNode.childNodes[3].childNodes[1].value = this.value;\r\n                        }\r\n                     }  \r\n\r\n\r\n                    //Binds the range slider and input for text font size.\r\n                    var numbers = document.getElementsByClassName('wptb-text-font-size-number');\r\n                    for (var i = 0; i < numbers.length; i++) {\r\n                         numbers[i].onchange =  function () {\r\n                            this.parentNode.parentNode.childNodes[1].childNodes[1].value = this.value;\r\n                        }\r\n                     }   \r\n\r\n                } else {\r\n                    //show the add elements option\r\n                    if ($this.is('#add-elements') ||\r\n                        $this.parents('#add-elements').length !== 0 ||\r\n                        $this.hasClass('wptb-builder-panel') ||\r\n                        $this.parents('.wptb-builder-panel').length !== 0) {\r\n                        window.add_Elements_tab();\r\n                    }\r\n                }\r\n            };\r\n\r\n\r\n            // active Element options tab and it's options\r\n            function Element_options_tab() { \r\n                document.getElementById('add-elements').getElementsByTagName('a')[0].classList.remove('active'); \r\n                document.getElementById('element-options').getElementsByTagName('a')[0].classList.add('active'); \r\n\r\n                document.getElementsByClassName('wptb-elements-container')[0].style.display = 'none'; \r\n                document.getElementsByClassName('wptb-settings-section')[0].style.display = 'none'; \r\n                document.getElementById(\"element-options-group\").style.display='block';\r\n                var children =  document.getElementById(\"element-options-group\").childNodes;\r\n                for (var i = 0; i < children.length; i++) {\r\n                    if(children[i].style)\r\n                    children[i].style.display = 'none'; \r\n                }\r\n \r\n\r\n            }\r\n\r\n            /**\r\n             * this function will be called \r\n             * when a property of any elemnet is changed\r\n             * to determine which element that we should edit\r\n             * and then call edititng_property Function\r\n             * @returns {void}\r\n             */\r\n            function detect_element_for_property() {\r\n                var option = $(this);\r\n                var parent = option.closest(\".wptb-element-options\");\r\n                var classes = parent.attr(\"class\");\r\n\r\n                /**\r\n                * will carry the extracted infotrmation from the class\r\n                * @example class =>wptb-options-text-0\r\n                *          result => [\r\n                *              0 => wptb-options-text-0\r\n                *              1 => text\r\n                *              2 => 0\r\n                *          ]\r\n                * @type array\r\n                */\r\n                var infArr = classes.match(/wptb-options-(.+)-(\\d+)/i);\r\n\r\n                var type = infArr[1];\r\n                var num = infArr[2];\r\n                var element = $('.wptb-ph-element.wptb-element-' + type + '-' + num);\r\n                editing_property(element, option);\r\n            }\r\n\r\n            /**\r\n             * will change the element according to the value of option\r\n             * \r\n             * @param {object} element that will change according to the value of option\r\n             * @param {object} option input element\r\n             * @returns {void}\r\n             */\r\n            function editing_property(element, option) {\r\n                // type of property @Ex: font-size,color ....\r\n                var type = option.data('type');\r\n                var val = option.val();\r\n                switch (type) {\r\n                    case 'font-size':\r\n                        element.find(\"p\").css('font-size', val + 'px');\r\n                        break;\r\n                    case 'color':\r\n                        element.find(\"p\").css('color', val);\r\n                        break;\r\n                    case 'list-class': if (val == 'unordered') {\r\n                        $('[data-type=list-style-type]').parent().css('display', 'flex');\r\n                        element.find('article .wptb-list-item-style-dot li').css('list-style-type', 'disc');\r\n                        $('[data-type=list-style-type]').val('disc');\r\n                    }\r\n                    else {\r\n                        $('[data-type=list-style-type]').parent().css('display', 'none');\r\n                        element.find('article .wptb-list-item-style-dot li').css('list-style-type', 'decimal');\r\n                    }\r\n                        break;\r\n                    case 'numbering-list-style-type':\r\n                    case 'list-style-type':\r\n                        element.find('article .wptb-list-item-style-dot li').css('list-style-type', val.toLowerCase());\r\n                        break;\r\n                }\r\n            }\r\n            $(document.body).on('change input, change select', '.wptb-element-property', detect_element_for_property);\r\n\r\n            \r\n\r\n            //Triggers when table border setting changes.\r\n            function addBorder(value) {\r\n                \r\n                document.getElementsByClassName('wptb-preview-table')[0].style.border = value + 'px solid';\r\n            }\r\n\r\n            //Binds the range slider and input, also triggers table border change.\r\n            document.getElementById('wptb-table-border-slider').onchange=function () {\r\n                document.getElementById('wptb-table-border-number').value = this.value;\r\n                addBorder(this.value);\r\n            };\r\n\r\n            //Binds the range slider and input, also triggers table border change.\r\n            document.getElementById('wptb-table-border-number').onchange = function () {\r\n                document.getElementById('wptb-table-border-slider').value = this.value;\r\n                addBorder(this.value);\r\n            };\r\n\r\n            //Triggers when cell padding setting changes.\r\n            function addCellPadding(value) {\r\n                \r\n                var tableCells = document.getElementsByClassName('wptb-preview-table')[0].getElementsByTagName('td');\r\n                    for (var i = 0; i < tableCells.length; i++) {\r\n                        tableCells[i].style.padding = value+'px';\r\n                    } \r\n            }\r\n\r\n            //Binds the range slider and input, also triggers cell padding change.\r\n            document.getElementById('wptb-table-cell-slider').onchange= function () {\r\n                document.getElementById('wptb-table-cell-number').value = this.value;\r\n                addCellPadding(this.value);\r\n            };\r\n\r\n            //Binds the range slider and input, also triggers cell padding change.\r\n            document.getElementById('wptb-table-cell-number').onchange= function () {\r\n                document.getElementById('wptb-table-cell-slider').value = this.value;\r\n                addCellPadding(this.value);\r\n            };\r\n\r\n            //Triggers when apply inner border setting changes.\r\n            function addInnerBorder(checked) {\r\n                var styles;\r\n\r\n                if (checked == 'checked') {\r\n                    document.getElementById('wptb-apply-inner-border').style.marginBottom= '0px';\r\n                    var tableCells = document.getElementsByClassName('wptb-preview-table')[0].getElementsByTagName('td');\r\n                    for (var i = 0; i < tableCells.length; i++) {\r\n                        tableCells[i].style.border = '1px solid';\r\n                    } \r\n\r\n                    document.getElementById('wptb-inner-border-settings').classList.add('visible');\r\n                } else {\r\n                    document.getElementById('wptb-inner-border-settings').classList.remove('visible');\r\n                    var tableCells = document.getElementsByClassName('wptb-preview-table')[0].getElementsByTagName('td');\r\n                    for (var i = 0; i < tableCells.length; i++) {\r\n                        tableCells[i].style.border = '';\r\n                    } \r\n                }\r\n\r\n            }\r\n\r\n            //Binding Checkbox Change, triggers inner border add.\r\n            document.getElementById('wptb-inner-border-check').onchange = function () {\r\n                var _val = this.checked ? 'checked' : 'unchecked';\r\n                addInnerBorder(_val);\r\n            };\r\n\r\n            //Triggers when cell padding setting changes.\r\n            function addInnerBorderSize(value) {\r\n                 \r\n                var tableCells = document.getElementsByClassName('wptb-preview-table')[0].getElementsByTagName('td');\r\n                for (var i = 0; i < tableCells.length; i++) {\r\n                    tableCells[i].style.border = value + 'px solid';\r\n                } \r\n            }\r\n\r\n            //Binds the range slider and input, also triggers cell padding change.\r\n            document.getElementById('wptb-table-inner-border-slider').onchange= function () {\r\n                document.getElementById('wptb-table-inner-border-number').value = this.value;\r\n                addInnerBorderSize(this.value);\r\n            };\r\n\r\n            //Binds the range slider and input, also triggers cell padding change.\r\n            document.getElementById('wptb-table-inner-border-number').onchange= function () {\r\n                document.getElementById('wptb-table-inner-border-slider').value = this.value;\r\n                addInnerBorderSize(this.value);\r\n            };\r\n\r\n        };\r\n\r\n    }; // Of document.onready\r\n\r\n    //When dragging starts for Text element\r\n    function itemDragStart(event) {\r\n        wptbElement = event.target.id.substring(5,event.target.id.length);\r\n \r\n        //var el = $(this);\r\n        event.dataTransfer.effectAllowed = 'move';\r\n        event.dataTransfer.setData(\"text/plain\", event.target.getAttribute('id'));\r\n    }\r\n \r\n    //On drag elements.\r\n    document.getElementById('wptb-text').ondragstart = itemDragStart;\r\n    document.getElementById('wptb-image').ondragstart= itemDragStart;\r\n    document.getElementById('wptb-button').ondragstart= itemDragStart;\r\n    document.getElementById('wptb-list').ondragstart = itemDragStart;\r\n\r\n});\r\n"]}