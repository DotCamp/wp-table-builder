{"version":3,"sources":["WPTB_Builder.js","WPTB_Button.js","WPTB_Cell.js","WPTB_ElementCounters.js","WPTB_ElementOptions.js","WPTB_Image.js","WPTB_Initializer.js","WPTB_LeftPanel.js","WPTB_List.js","WPTB_ListItem.js","WPTB_Settings.js","WPTB_Table.js","WPTB_Text.js","applyGenericItemSettings.js","wptb-builder.js"],"names":["WPTB_Builder","document","counter","ElementCounters","initializer","WPTB_Initializer","settings","WPTB_Settings","addEventListener","WPTB_Button","text","DOMElement","createElement","elButton2","el_B","kind","classList","add","innerHTML","undefined","appendChild","getDOMElement","applyGenericItemSettings","WPTB_Cell","newElementProxy","el","WPTB_List","window","newImage","WPTB_Text","onclick","relativeActions","cells","_wptbManagementModeActive","contains","remove","getElementsByClassName","getElementsByTagName","i","length","console","log","dataset","activeCell","ondragenter","div","ondragover","e","preventDefault","ondragleave","ondrop","element","dataTransfer","getData","onmousedown","onmouseover","onmouseup","setCoords","y","x","yIndex","xIndex","getCoords","coords","appendElement","node","priv","increment","key","nextIndex","WPTB_ElementOptions","index","elemIdClass","prop","querySelector","cloneNode","properties","getElementById","infArr","className","match","optionsClass","style","display","children","childNodes","optionControls","jQuery","wpColorPicker","change","event","ui","parent","target","classe","type","ps","number","affectedEl","color","toString","slider","parentNode","oninput","value","onchange","n_Class","num","val","fontSize","bullets","querySelectorAll","listStyleType","toLowerCase","Image","elText2","elP","MIN_COLUMNS","MIN_ROWS","MAX_COLUMNS","MAX_ROWS","tableGenerator","body","columnsDecrementButton","columnsIncrementButton","rowsDecrementButton","rowsIncrementButton","columnsInput","rowsInput","columns","rows","WPTB_Table","WPTB_LeftPanel","table","wptbElementButtons","tableRows","tds","j","backgroundColor","tableHeader","addInnerBorderSize","tableCells","border","addCellPadding","padding","addBorderSize","ondragstart","setData","wptbElement","addRowToTheEnd","addRowToTheStart","addRowBefore","addRowAfter","addColumnToTheEnd","addColumnToTheStart","addColumnBefore","addColumnAfter","innerElements","el_L","item","WPTB_ListItem","divdot","divcontent","libullet","onkeyup","listItemKeyListener","onmouseenter","showListItemSettings","onmouseleave","hideListItemSettings","elems","effectAllowed","getAttribute","wptbTableSetup","row","cell","insertRow","recalculateIndexes","trs","addColumn","pos","referenceTd","newTd","_this","insertBefore","buttons","nextSibling","evt","addRow","referenceRow","params","tbody","active","listItems","btnDelete","btnCopy","btnMove","actions","previous","draggable","act","removeChild","img","src","setDragImage","tinyMCE","init","inline","plugins","dialog_type","theme","menubar","fixed_toolbar_container","toolbar","setup","ed","on","execCommand","init_instance_callback","editor","getContent","setContent","range","selection","getRng","KeyID","keyCode","startOffset","currentEditor","totalWidth","offsetWidth","scrollTop","bodyElement","position","right","top","paste_as_text","tryToChangeMCEWidth","formerActions","par"],"mappings":"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","file":"admin.js","sourcesContent":["(function () {\n\n\tvar WPTB_Builder = function () {\n\t\tdocument.counter = new ElementCounters();\n\n\t\tvar initializer = WPTB_Initializer();\n\t\tsettings = WPTB_Settings();\n\t};\n\n\tdocument.addEventListener('DOMContentLoaded', WPTB_Builder);\n\n})();","var WPTB_Button = function (text) {\n\n\tvar DOMElement = document.createElement('div'),\n\t\telButton2 = document.createElement('div'),\n\t\tel_B = document.createElement('p');\n\n\tthis.kind = 'button';\n\n\tDOMElement.classList.add('wptb-button-container');\n\telButton2.classList.add('wptb-button-wrapper');\n\tel_B.classList.add('wptb-button');\n\tel_B.classList.add('editable');\n\tel_B.innerHTML = text != undefined ? text : 'Button Text';\n\telButton2.appendChild(el_B);\n\tDOMElement.appendChild(elButton2);\n\n\tthis.getDOMElement = function () {\n\t\treturn DOMElement;\n\t}\n\n\tapplyGenericItemSettings(this);\n\n\treturn this;\n\n};","var WPTB_Cell = function (DOMElement) {\n\n\tfunction newElementProxy(el) {\n\t\tif (el == 'list') {\n\t\t\treturn new WPTB_List();\n\t\t}\n\t\telse if (el == 'image') {\n\t\t\treturn window.newImage();\n\t\t}\n\t\telse if (el == 'text') {\n\t\t\treturn new WPTB_Text();\n\t\t}\n\t\telse if (el == 'button') {\n\t\t\treturn new WPTB_Button();\n\t\t}\n\t}\n\n\tDOMElement = document.createElement(\"td\");\n\n\tDOMElement.classList.add('wptb-droppable', 'wptb-cell');\n\n\tDOMElement.onclick = function () {\n\n\t\tvar relativeActions, cells;\n\n\t\tif (window._wptbManagementModeActive) {\n\t\t\treturn;\n\t\t}\n\t\tif (this.classList.contains('wptb-highlighted')) {\n\t\t\tthis.classList.remove('wptb-highlighted');\n\t\t}\n\t\telse {\n\t\t\trelativeActions = document.getElementsByClassName('wptb-relative-action');\n\t\t\tcells = document.getElementsByTagName('td');\n\n\t\t\tfor (var i = 0; i < relativeActions.length; i++) {\n\t\t\t\tconsole.log(relativeActions[i]);\n\t\t\t\trelativeActions[i].dataset.activeCell = this;\n\t\t\t}\n\n\t\t\tfor (var i = 0; i < cells.length; i++) {\n\t\t\t\tcells[i].classList.remove('wptb-highlighted');\n\t\t\t}\n\n\t\t\tthis.classList.add('wptb-highlighted');\n\n\t\t}\n\n\t};\n\n\tDOMElement.ondragenter = function () {\n\t\tvar div;\n\n\t\tconsole.log('dragenter');\n\n\t\tthis.classList.add('wptb-drop-here-empty');\n\t}\n\n\tDOMElement.ondragover = function (e) {\n\t\te.preventDefault();\n\t}\n\n\tDOMElement.ondragleave = function () {\n\n\t\tconsole.log('dragleave');\n\n\t\tthis.classList.remove('wptb-drop-here-empty');\n\n\t}\n\n\tDOMElement.ondrop = function (e) {\n\t\tvar element;\n\t\te.preventDefault();\n\t\telement = newElementProxy(e.dataTransfer.getData('wptbElement'));\n\t\tthis.appendChild(element.getDOMElement());\n\t\tthis.classList.remove('wptb-drop-here-empty');\n\t\treturn true;\n\t}\n\n\tDOMElement.onmousedown = function () {\n\n\t};\n\n\tDOMElement.onmouseover = function () {\n\n\t};\n\n\tDOMElement.onmouseup = function () {\n\n\t};\n\n\tthis.getDOMElement = function () {\n\t\treturn DOMElement;\n\t}\n\n\tthis.setCoords = function (y, x) {\n\t\tvar el = this.getDOMElement();\n\t\tel.dataset.yIndex = y;\n\t\tel.dataset.xIndex = x;\n\t}\n\n\tthis.getCoords = function () {\n\t\tvar coords,\n\t\t\tel = this.getDOMElement();\n\t\tcoords.x = el.dataset.xIndex;\n\t\tcoords.y = el.dataset.yIndex;\n\t\treturn coords;\n\t}\n\n\tthis.appendElement = function (node) {\n\t\tgetDOMElement().appendChild(node);\n\t}\n\n\treturn this;\n\n};","var ElementCounters = function () {\n\n\tvar priv = [];\n\tpriv['text'] = 0;\n\tpriv['image'] = 0;\n\tpriv['list'] = 0;\n\tpriv['button'] = 0;\n\n\tthis.increment = function (key) {\n\n\t\tif (!(key in priv)) {\n\t\t\treturn;\n\t\t}\n\n\t\tpriv[key]++;\n\t}\n\n\tthis.nextIndex = function (key) {\n\n\t\tif (!(key in priv)) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\treturn priv[key] + 1;\n\t}\n\n\treturn this;\n\n};","var WPTB_ElementOptions = function (element, index) {\n\n    var node = element.getDOMElement(), elemIdClass;\n\n    prop = document.querySelector(\".wptb-\" + element.kind + \"-options-prototype\").cloneNode(true);\n    prop.classList.remove(\"wptb-\" + element.kind + \"-options-prototype\"); // remove prototype from the class\n    elemIdClass = 'wptb-options-' + element.kind + \"-\" + index;\n\n    var properties = prop.getElementsByClassName('wptb-element-property');\n\n    for (var i = 0; i < properties.length; i++) {\n        properties[i].dataset.element = elemIdClass;\n    }\n\n    prop.classList.add(elemIdClass);\n    document.getElementById(\"element-options-group\").appendChild(prop);\n\n    node.onclick = function () {\n        var infArr = this.className.match(/wptb-element-((.+-)\\d+)/i),\n            optionsClass = '.wptb-' + infArr[2] + 'options' +\n                '.wptb-options-' + infArr[1];\n\n        document.getElementById('add-elements').getElementsByTagName('a')[0].classList.remove('active');\n        document.getElementById('element-options').getElementsByTagName('a')[0].classList.add('active');\n\n        document.getElementsByClassName('wptb-elements-container')[0].style.display = 'none';\n        document.getElementsByClassName('wptb-settings-section')[0].style.display = 'none';\n        document.getElementById(\"element-options-group\").style.display = 'block';\n\n        var children = document.getElementById(\"element-options-group\").childNodes;\n        for (var i = 0; i < children.length; i++) {\n            if (children[i].style)\n                children[i].style.display = 'none';\n        }\n\n        document.querySelector(optionsClass).style.display = 'block';\n    };\n\n    var optionControls = prop.getElementsByClassName('wptb-element-property');\n    console.log(optionControls);\n    for (var i = 0; i < optionControls.length; i++) {\n        if (optionControls[i].classList.contains('wptb-color-picker')) {\n            jQuery(optionControls[i]).wpColorPicker({\n                change: function (event, ui) {\n                    var parent = event.target, classe, type, ps, number;\n                    classe = parent.dataset.element.match(/wptb-options-(.+)-(\\d+)/i);\n                    type = classe[1];\n                    number = classe[2];\n                    console.log('Element', 'wptb-element-' + type + '-' + number);\n                    affectedEl = document.getElementsByClassName('wptb-element-' + type + '-' + number)[0];\n                    ps = affectedEl.getElementsByTagName(\"p\");\n                    for (var i = 0; i < ps.length; i++) {\n                        ps[i].style.color = ui.color.toString();\n                    }\n                }\n            });\n        }\n\n        if (optionControls[i].dataset.type === 'font-size') {\n            var slider = optionControls[i].parentNode.parentNode.getElementsByClassName('wptb-text-font-size-slider')[0];\n            slider.oninput = function () {\n                this.parentNode.parentNode.getElementsByClassName('wptb-text-font-size-number')[0].value = this.value;\n                this.parentNode.parentNode.getElementsByClassName('wptb-text-font-size-number')[0].onchange();\n            }\n        }\n\n        optionControls[i].onchange = function (event) {\n\n            var n_Class = this.dataset.element,\n                infArr = n_Class.match(/wptb-options-(.+)-(\\d+)/i),\n                type = infArr[1],\n                num = infArr[2],\n                affectedEl = document.getElementsByClassName('wptb-element-' + type + '-' + num)[0],\n                val = this.value;\n\n            switch (this.dataset.type) {\n                case 'font-size':\n                    var ps = affectedEl.getElementsByTagName(\"p\");\n                    for (var i = 0; i < ps.length; i++) {\n                        ps[i].style.fontSize = val + 'px';\n                    }\n\n                    this.parentNode.parentNode.getElementsByClassName('wptb-text-font-size-slider')[0].value = this.value;\n\n                    break;\n                case 'color':\n                    var ps = affectedEl.getElementsByTagName(\"p\");\n                    for (var i = 0; i < ps.length; i++) {\n                        ps[i].style.color = val;\n                    }\n                    break;\n                case 'list-class':\n                    if (val == 'unordered') {\n                        affectedEl.querySelector('[data-type=list-style-type]').parentNode.style.display = 'flex';\n                        var bullets = element.querySelectorAll('article .wptb-list-item-style-dot li');\n                        for (var i = 0; i < bullets.length; i++) {\n                            bullets[i].style.listStyleType = 'disc';\n                        }\n                        document.querySelector('[data-type=list-style-type]').value = 'disc';\n                    } else {\n                        affectedEl.querySelector('[data-type=list-style-type]').parentNode.style.display = 'none';\n                        var bullets = element.querySelectorAll('article .wptb-list-item-style-dot li');\n                        for (var i = 0; i < bullets.length; i++) {\n                            bullets[i].style.listStyleType = 'decimal';\n                        }\n                    }\n                    break;\n                case 'list-style-type':\n                    var bullets = element.querySelectorAll('article .wptb-list-item-style-dot li');\n                    for (var i = 0; i < bullets.length; i++) {\n                        bullets[i].style.listStyleType = val.toLowerCase();\n                    }\n                    break;\n            }\n        };\n    }\n};","var Image = function (text) {\n\n\tvar DOMElement = document.createElement('div'),\n\t\telText2 = document.createElement('div'),\n\t\telP = document.createElement('p');\n\n\tthis.kind = 'text';\n\n\telText2.classList.add('editable');\n\telP.innerHTML = text != undefined ? text : 'Text';\n\telText2.appendChild(elP);\n\tDOMElement.appendChild(elText2);\n\t//window.addElementOptions('text', elText);\n\t//window.tinyFastCall(elText.childNodes[0]);\n\t//$(elText).click();\n\n\tthis.getDOMElement = function () {\n\t\treturn DOMElement;\n\t}\n\tapplyGenericItemSettings(this);\n\n\treturn this;\n\n};","var WPTB_Initializer = function () {\n\n\tconst MIN_COLUMNS = 1,\n\t\tMIN_ROWS = 1,\n\t\tMAX_COLUMNS = 10,\n\t\tMAX_ROWS = 10;\n\n\tvar tableGenerator = document.body;\n\tcolumnsDecrementButton = tableGenerator.getElementsByClassName('wptb-input-number-decrement')[0],\n\t\tcolumnsIncrementButton = tableGenerator.getElementsByClassName('wptb-input-number-increment')[0],\n\t\trowsDecrementButton = tableGenerator.getElementsByClassName('wptb-input-number-decrement')[1],\n\t\trowsIncrementButton = tableGenerator.getElementsByClassName('wptb-input-number-increment')[1],\n\t\tcolumnsInput = document.getElementById('wptb-columns-number'),\n\t\trowsInput = document.getElementById('wptb-rows-number');\n\n\tcolumnsDecrementButton.onclick = function () {\n\t\tif (columnsInput.value > MIN_COLUMNS) {\n\t\t\tcolumnsInput.value--;\n\t\t}\n\t};\n\n\tcolumnsIncrementButton.onclick = function () {\n\t\tif (columnsInput.value < MAX_COLUMNS) {\n\t\t\tcolumnsInput.value++;\n\t\t}\n\t};\n\n\trowsDecrementButton.onclick = function () {\n\t\tif (rowsInput.value > MIN_ROWS) {\n\t\t\trowsInput.value--;\n\t\t}\n\t};\n\n\trowsIncrementButton.onclick = function () {\n\t\tif (rowsInput.value < MAX_ROWS) {\n\t\t\trowsInput.value++;\n\t\t}\n\t};\n\n\tdocument.getElementById('wptb-generate-table').onclick = function () {\n\n\t\tvar columns = document.getElementById('wptb-columns-number').value,\n\t\t\trows = document.getElementById('wptb-rows-number').value;\n\n\t\tWPTB_Table(columns, rows);\n\t}\n\n};","var WPTB_LeftPanel = function () {\n\n\tvar table = document.getElementsByClassName('wptb-preview-table')[0],\n\t\twptbElementButtons = document.getElementsByClassName('wptb-element');\n\n\tjQuery('#wptb-even-row-bg').wpColorPicker({\n\t\tchange: function (event, ui) {\n\t\t\tvar tableRows = table.getElementsByTagName('tr');\n\t\t\tfor (var i = 1; i < tableRows.length; i += 2) {\n\t\t\t\ttds = tableRows[i].getElementsByTagName('td');\n\t\t\t\tfor (var j = 0; j < tds.length; j++) {\n\t\t\t\t\ttds[j].style.backgroundColor = ui.color.toString();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n\tjQuery('#wptb-odd-row-bg').wpColorPicker({\n\t\tchange: function (event, ui) {\n\t\t\tvar tableRows = table.getElementsByTagName('tr');\n\t\t\tfor (var i = 2; i < tableRows.length; i += 2) {\n\t\t\t\ttds = tableRows[i].getElementsByTagName('td');\n\t\t\t\tfor (var j = 0; j < tds.length; j++) {\n\t\t\t\t\ttds[j].style.backgroundColor = ui.color.toString();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n\tjQuery('#wptb-table-header-bg').wpColorPicker({\n\t\tchange: function (event, ui) {\n\t\t\tvar tableHeader = table.getElementsByTagName('tr')[0],\n\t\t\t\ttds = tableHeader.getElementsByTagName('td');\n\t\t\tfor (var j = 0; j < tds.length; j++) {\n\t\t\t\ttds[j].style.backgroundColor = ui.color.toString();\n\t\t\t}\n\t\t}\n\t});\n\n\tfunction addInnerBorderSize(value) {\n\t\tvar tableCells = table.getElementsByTagName('td');\n\t\tfor (var i = 0; i < tableCells.length; i++) {\n\t\t\ttableCells[i].style.border = value + 'px solid';\n\t\t}\n\t}\n\n\tfunction addCellPadding(value) {\n\t\tvar tableCells = table.getElementsByTagName('td');\n\t\tfor (var i = 0; i < tableCells.length; i++) {\n\t\t\ttableCells[i].style.padding = value + 'px';\n\t\t}\n\t}\n\n\tfunction addBorderSize(value) {\n\t\ttable.style.border = value + 'px solid';\n\t}\n\n\tdocument.getElementById('wptb-table-cell-slider').oninput = function () {\n\t\tdocument.getElementById('wptb-table-cell-number').value = this.value;\n\t\taddCellPadding(this.value);\n\t};\n\n\tdocument.getElementById('wptb-table-cell-number').onchange = function () {\n\t\tdocument.getElementById('wptb-table-cell-slider').value = this.value;\n\t\taddCellPadding(this.value);\n\t};\n\n\tdocument.getElementById('wptb-table-border-slider').oninput = function () {\n\t\tdocument.getElementById('wptb-table-border-number').value = this.value;\n\t\taddBorderSize(this.value);\n\t};\n\n\tdocument.getElementById('wptb-table-border-number').onchange = function () {\n\t\tdocument.getElementById('wptb-table-border-slider').value = this.value;\n\t\taddBorderSize(this.value);\n\t};\n\n\tdocument.getElementById('wptb-table-inner-border-slider').oninput = function () {\n\t\tdocument.getElementById('wptb-table-inner-border-number').value = this.value;\n\t\taddInnerBorderSize(this.value);\n\t};\n\n\tdocument.getElementById('wptb-table-inner-border-number').onchange = function () {\n\t\tdocument.getElementById('wptb-table-inner-border-slider').value = this.value;\n\t\taddInnerBorderSize(this.value);\n\t};\n\n\tfor (var i = 0; i < wptbElementButtons.length; i++) {\n\t\twptbElementButtons[i].ondragstart = function (e) {\n\t\t\te.dataTransfer.setData('wptbElement', this.dataset.wptbElement);\n\t\t}\n\t}\n\n\tdocument.getElementById('wptb-add-end-row').onclick = table.addRowToTheEnd;\n\tdocument.getElementById('wptb-add-start-row').onclick = table.addRowToTheStart;\n\tdocument.getElementById('wptb-add-row-before').onclick = table.addRowBefore;\n\tdocument.getElementById('wptb-add-row-after').onclick = table.addRowAfter;\n\tdocument.getElementById('wptb-add-end-column').onclick = table.addColumnToTheEnd;\n\tdocument.getElementById('wptb-add-start-column').onclick = table.addColumnToTheStart;\n\tdocument.getElementById('wptb-add-column-before').onclick = table.addColumnBefore;\n\tdocument.getElementById('wptb-add-column-after').onclick = table.addColumnAfter;\n\tdocument.getElementById('add-elements').onclick = function () {\n\t\tdocument.getElementById('element-options').getElementsByTagName('a')[0].classList.remove('active');\n\t\tdocument.getElementById('add-elements').getElementsByTagName('a')[0].classList.add('active');\n\t\tdocument.getElementsByClassName('wptb-elements-container')[0].style.display = 'table';\n\t\tdocument.getElementsByClassName('wptb-settings-section')[0].style.display = 'block';\n\t\tdocument.getElementById(\"element-options-group\").style.display = 'none';\n\t};\n};","var WPTB_List = function (innerElements) {\n\n    var el_L = document.createElement('ul'), item,\n        DOMElement = document.createElement('div');\n\n    this.kind = 'list';\n\n    if (!innerElements)\n        for (var i = 0; i < 3; i++) {\n            item = new WPTB_ListItem('List Item ' + (i + 1));\n            el_L.appendChild(item.getDOMElement());\n        }\n    else {\n        for (var i = 0; i < innerElements.length; i++) {\n            item = new WPTB_ListItem(innerElements[i]);\n            el_L.appendChild(item.getDOMElement());\n        }\n    }\n    DOMElement.appendChild(el_L);\n    //window.addElementOptions('list', elList);\n\n    this.getDOMElement = function () {\n        return DOMElement;\n    }\n    applyGenericItemSettings(this);\n\n    return this;\n\n};","var WPTB_ListItem = function (text) {\n\n    if (text == undefined) text = 'New List Item';\n    var DOMElement = document.createElement('article'),\n        divdot = document.createElement('div'),\n        divcontent = document.createElement('div'),\n        libullet = document.createElement('li');\n    divdot.classList.add('wptb-list-item-style-dot');\n    divcontent.classList.add('wptb-list-item-content');\n    libullet.classList.add('wptb-bullet');\n    DOMElement.appendChild(divdot);\n    DOMElement.appendChild(divcontent);\n    divdot.appendChild(libullet);\n    divcontent.innerHTML = text;\n    divcontent.onkeyup = window.listItemKeyListener;\n    divcontent.parentNode.onmouseenter = window.showListItemSettings;\n    divcontent.parentNode.onmouseleave = window.hideListItemSettings;\n\n    this.getDOMElement = function () {\n        return DOMElement;\n    }\n\n    return this;\n\n};","var WPTB_Settings = function () {\n\n\tvar elems = document.getElementsByClassName('wptb-element');\n\n\tfor (var i = 0; i < elems.length; i++) {\n\t\telems[i].ondragstart = function (event) {\n\t\t\tevent.dataTransfer.effectAllowed = 'move';\n\t\t\tevent.dataTransfer.setData(\"text/plain\", event.target.getAttribute('id'));\n\t\t}\n\t};\n\n};\n","var WPTB_Table = function (columns, rows) {\n\n\tvar settings = document.getElementsByClassName('wptb-settings-items'),\n\t\twptbTableSetup = document.getElementsByClassName(\"wptb-table-setup\")[0],\n\t\ttable, row, cell;\n\n\tfor (var i = 0; i < settings.length; i++) {\n\t\tsettings[i].classList.add('visible');\n\t}\n\n\tdocument.getElementsByClassName('wptb-table-generator')[0].style.display = 'none';\n\n\t//Create a HTML Table element.\n\ttable = document.createElement('table');\n\ttable.classList.add('wptb-preview-table');\n\n\t//Add the header row.\n\trow = table.insertRow(-1);\n\trow.classList.add('wptb-table-head', 'wptb-row');\n\n\tfor (var i = 0; i < columns; i++) {\n\t\tcell = new WPTB_Cell();\n\t\tcell.setCoords(0, i);\n\t\trow.appendChild(cell.getDOMElement());\n\t}\n\n\t//Add the data rows.\n\tfor (var i = 1; i < rows; i++) {\n\n\t\trow = table.insertRow(-1);\n\t\trow.classList.add('wptb-row');\n\n\t\tfor (var j = 0; j < columns; j++) {\n\t\t\tcell = new WPTB_Cell();\n\t\t\tcell.setCoords(i, j);\n\t\t\trow.appendChild(cell.getDOMElement());\n\t\t}\n\t}\n\n\ttable.recalculateIndexes = function () {\n\n\t\tvar trs = this.getElementsByTagName('tr'), tds;\n\n\t\tfor (var i = 0; i < trs.length; i++) {\n\t\t\ttds = trs[i].getElementsByTagName('td');\n\t\t\tfor (var j = 0; j < tds.length; j++) {\n\n\t\t\t\tif (i == 0) {\n\t\t\t\t\ttds[j].parentNode.className = '';\n\t\t\t\t\ttds[j].parentNode.classList.add('wptb-row', 'wptb-table-head');\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\ttds[j].parentNode.className = '';\n\t\t\t\t\ttds[j].parentNode.classList.add('wptb-row');\n\t\t\t\t}\n\n\t\t\t\ttds[j].dataset.xIndex = j;\n\t\t\t\ttds[j].dataset.yIndex = i;\n\t\t\t}\n\t\t}\n\t}\n\n\ttable.addColumn = function (pos) {\n\t\tvar referenceTd, newTd, _this;\n\t\tfor (var i = 0; i < this.rows.length; i++) {\n\n\t\t\tvar newTd = new WPTB_Cell();\n\n\t\t\tif (pos == 'before' || pos == 'after') {\n\t\t\t\treferenceTd = this.rows\n\t\t\t\t\t.getElementsByTagName('td')[_this.dataset.xIndex];\n\t\t\t\tif (pos == 'before') {\n\t\t\t\t\tthis.rows[i].insertBefore(newTd.getDOMElement(), referenceTd);\n\t\t\t\t\tvar buttons = document.getElementsByClassName('wptb-relative-action');\n\t\t\t\t\tfor (var i = 0; i < buttons.length; i++) {\n\t\t\t\t\t\tbuttons[i].dataset.xIndex++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.rows[i].insertBefore(newTd.getDOMElement(), referenceTd.nextSibling);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (pos == 'end') {\n\t\t\t\tthis.rows[i].appendChild(newTd.getDOMElement());\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.rows[i].innerHTML = '<td class=\"wptb-droppable wptb-cell\"></td>' + this.rows[i].innerHTML;\n\t\t\t}\n\t\t}\n\n\t\tthis.recalculateIndexes();\n\t};\n\n\ttable.addColumnToTheEnd = function (evt) {\n\t\ttable.addColumn('end', this.dataset.activeCell);\n\t};\n\n\ttable.addColumnToTheStart = function (evt) {\n\t\ttable.addColumn('start', this.dataset.activeCell);\n\t};\n\n\ttable.addColumnBefore = function () {\n\t\ttable.addColumn('before', this.dataset.activeCell);\n\t};\n\n\ttable.addColumnAfter = function () {\n\t\ttable.addColumn('after', this.dataset.activeCell);\n\t};\n\n\ttable.addRow = function (pos) {\n\t\tvar _this, row, referenceRow = undefined;\n\n\t\tif (pos == 'end' || pos == 'start') {\n\t\t\trow = this.insertRow(pos == 'end' ? -1 : 0);\n\t\t} else {\n\t\t\trow = document.createElement('tr');\n\t\t}\n\n\t\tfor (var j = 0; j < this.columns; j++) {\n\t\t\tvar cell = new WPTB_Cell();\n\t\t\trow.appendChild(cell.getDOMElement());\n\t\t}\n\n\t\trow.classList.add('wptb-row');\n\n\t\tif (pos == 'before' || pos == 'after') {\n\t\t\t_this = this.getElementsByClassName('wptb-highlighted')[0];\n\t\t\treferenceRow = this.getElementsByTagName('tr')[_this.dataset.yIndex];\n\t\t\tif (pos == \"before\") {\n\t\t\t\tparams.tbody.insertBefore(row, referenceRow);\n\t\t\t\tvar buttons = document.getElementsByClassName('wptb-relative-action');\n\t\t\t\tfor (var i = 0; i < buttons.length; i++) {\n\t\t\t\t\tbuttons[i].dataset.yIndex++;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.getElementsByTagName('tbody')[0].insertBefore(row, referenceRow.nextSibling);\n\t\t\t}\n\t\t}\n\n\t\tif (pos == 'before' || pos == 'start') {\n\t\t\tvar active = document.querySelector('wptb-highlighted');\n\t\t\tif (active) {\n\t\t\t\tactive.onclick();\n\t\t\t}\n\t\t}\n\n\t\tthis.recalculateIndexes();\n\t};\n\n\ttable.addRowToTheEnd = function (evt) {\n\t\ttable.addRow('end');\n\t};\n\n\ttable.addRowToTheStart = function (evt) {\n\t\ttable.addRow('start');\n\t};\n\n\ttable.addRowBefore = function () {\n\t\ttable.addRow('before');\n\t};\n\n\ttable.addRowAfter = function () {\n\t\ttable.addRow('after');\n\t};\n\n\ttable.columns = columns;\n\n\twptbTableSetup.appendChild(table);\n\n\tWPTB_LeftPanel();\n\n};","var WPTB_Text = function (text) {\n\n        var DOMElement = document.createElement('div'),\n                elText2 = document.createElement('div'),\n                elP = document.createElement('p');\n\n        this.kind = 'text';\n\n        elText2.classList.add('editable');\n        elP.innerHTML = text != undefined ? text : 'Text';\n        elText2.appendChild(elP);\n        DOMElement.appendChild(elText2);\n\n        this.getDOMElement = function () {\n                return DOMElement;\n        }\n        applyGenericItemSettings(this);\n\n        return this;\n\n};","var applyGenericItemSettings = function (element) {\n\n\tvar node = element.getDOMElement(),\n\t\tindex = document.counter.nextIndex(element.kind),\n\t\tlistItems;\n\n\tnode.onmouseenter = function (event) {\n\t\tthis.classList.add('wptb-directlyhovered');\n\t\tvar btnDelete = document.createElement('span'),\n\t\t\tbtnCopy = document.createElement('span'),\n\t\t\tbtnMove = document.createElement('span'),\n\t\t\tactions = document.createElement('span'),\n\t\t\tprevious, i;\n\t\tactions.classList.add('wptb-actions');\n\t\tbtnDelete.classList.add('dashicons', 'dashicons-trash', 'delete-action');\n\t\tbtnCopy.classList.add('dashicons', 'dashicons-admin-page', 'duplicate-action');\n\t\tbtnMove.classList.add(\"dashicons\", \"dashicons-move\", 'move-action');\n\t\tbtnMove.draggable = true;\n\t\tbtnDelete.onclick = function (event) {\n\t\t\tvar act = this.parentNode.parentNode,\n\t\t\t\tel = act.parentNode;\n\t\t\tel.removeChild(act);\n\t\t};\n\t\t//btnCopy.onclick = window.copyButton;\n\t\tbtnMove.ondragstart = function (event) {\n\t\t\tvar parent = this, infArr, type;\n\n\t\t\twhile (parent.className == '' ||\n\t\t\t\t!parent.classList.contains('wptb-ph-element')) {\n\t\t\t\tparent = parent.parentNode;\n\t\t\t}\n\n\t\t\tinfArr = parent.className.match(/wptb-element-(.+)-(\\d+)/i);\n\t\t\ttype = infArr[1];\n\n\t\t\tconsole.log('Moving already put item');\n\t\t\tvar img = document.createElement(\"img\");\n\t\t\timg.src = \"http://localhost/sandbox/wp-content/plugins/wp-table-builder/inc/admin/views/builder/icons/\" + type + \".png\";\n\t\t\tconsole.log(img.src);\n\t\t\tevent.dataTransfer.setDragImage(img, 0, 0);\n\t\t\tevent.dataTransfer.setData('node', parent);\n\t\t};\n\n\t\tif (element.kind === 'button') {\n\t\t\ttinyMCE.init({\n\t\t\t\ttarget: node.childNodes[0].childNodes[0],\n\t\t\t\tinline: true,\n\t\t\t\tplugins: \"link\",\n\t\t\t\tdialog_type: \"modal\",\n\t\t\t\ttheme: 'modern',\n\t\t\t\tmenubar: false,\n\t\t\t\tfixed_toolbar_container: '#wpcd_fixed_toolbar',\n\t\t\t\ttoolbar: 'bold italic strikethrough',\n\t\t\t\tsetup: function (ed) {\n\t\t\t\t\ted.on(\"init\",\n\t\t\t\t\t\tfunction (ed) {\n\t\t\t\t\t\t\ttinyMCE.execCommand('mceRepaint');\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t\tinit_instance_callback: function (editor) {\n\t\t\t\t\teditor.on('change', function (e) {\n\t\t\t\t\t\t// check if it becomes empty because if there's no value it's hard to edit the editor in button element\n\t\t\t\t\t\tif (editor.getContent() == \"\") {\n\t\t\t\t\t\t\teditor.setContent(\"<p class='wptb-button'>Button Text</p>\");\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\teditor.on('KeyDown', function (e) {\n\t\t\t\t\t\tvar range = editor.selection.getRng();\n\t\t\t\t\t\tvar KeyID = e.keyCode;\n\t\t\t\t\t\tif (range.startOffset == 0 && (KeyID == 8 || KeyID == 46)) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\teditor.setContent(\"<p class='wptb-button'></p>\");\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\twindow.currentEditor = editor;\n\t\t\t\t\teditor.on('focus', function (e) {\n\n\t\t\t\t\t\tvar totalWidth = document.getElementsByClassName('wptb-builder-panel')[0].offsetWidth;\n\t\t\t\t\t\tif (window.currentEditor &&\n\t\t\t\t\t\t\tdocument.getElementById('wptb_builder').scrollTop >= 55 &&\n\t\t\t\t\t\t\twindow.currentEditor.bodyElement.style.display != 'none') {\n\t\t\t\t\t\t\tdocument.getElementById('wpcd_fixed_toolbar').style.position = 'fixed';\n\t\t\t\t\t\t\tdocument.getElementById('wpcd_fixed_toolbar').style.right = (totalWidth / 2 - document.getElementById('wpcd_fixed_toolbar').offsetWidth / 2) + 'px';\n\t\t\t\t\t\t\tdocument.getElementById('wpcd_fixed_toolbar').style.top = '100px';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdocument.getElementById('wpcd_fixed_toolbar').style.position = 'static';\n\t\t\t\t\t\t\tdelete document.getElementById('wpcd_fixed_toolbar').style.right;\n\t\t\t\t\t\t\tdelete document.getElementById('wpcd_fixed_toolbar').style.top;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\telse if (element.kind === 'text') {\n\t\t\ttinyMCE.init({\n\t\t\t\ttarget: node.childNodes[0],\n\t\t\t\tinline: true,\n\t\t\t\tplugins: \"link, paste\",\n\t\t\t\tdialog_type: \"modal\",\n\t\t\t\ttheme: 'modern',\n\t\t\t\tmenubar: false,\n\t\t\t\tfixed_toolbar_container: '#wpcd_fixed_toolbar',\n\t\t\t\tpaste_as_text: true,\n\t\t\t\ttoolbar: 'bold italic strikethrough link unlink | alignleft aligncenter alignright alignjustify',\n\t\t\t\tinit_instance_callback: function (editor) {\n\t\t\t\t\twindow.currentEditor = editor;\n\t\t\t\t\teditor.on('focus', function (e) {\n\n\t\t\t\t\t\tvar totalWidth = document.getElementsByClassName('wptb-builder-panel')[0].offsetWidth;\n\t\t\t\t\t\tif (window.currentEditor &&\n\t\t\t\t\t\t\tdocument.getElementById('wptb_builder').scrollTop >= 55 &&\n\t\t\t\t\t\t\twindow.currentEditor.bodyElement.style.display != 'none') {\n\t\t\t\t\t\t\tdocument.getElementById('wpcd_fixed_toolbar').style.position = 'fixed';\n\t\t\t\t\t\t\tdocument.getElementById('wpcd_fixed_toolbar').style.right = (totalWidth / 2 - document.getElementById('wpcd_fixed_toolbar').offsetWidth / 2) + 'px';\n\t\t\t\t\t\t\tdocument.getElementById('wpcd_fixed_toolbar').style.top = '100px';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdocument.getElementById('wpcd_fixed_toolbar').style.position = 'static';\n\t\t\t\t\t\t\tdelete document.getElementById('wpcd_fixed_toolbar').style.right;\n\t\t\t\t\t\t\tdelete document.getElementById('wpcd_fixed_toolbar').style.top;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\n\t\t}\n\t\telse {\n\t\t\tlistItems = node.getElementsByClassName('wptb-list-item-content');\n\t\t\tfor (var i = 0; i < listItems.length; i++) {\n\t\t\t\ttinyMCE.init({\n\t\t\t\t\ttarget: listItems[i],\n\t\t\t\t\tinline: true,\n\t\t\t\t\tplugins: \"link, paste\",\n\t\t\t\t\tdialog_type: \"modal\",\n\t\t\t\t\ttheme: 'modern',\n\t\t\t\t\tmenubar: false,\n\t\t\t\t\tfixed_toolbar_container: '#wpcd_fixed_toolbar',\n\t\t\t\t\tpaste_as_text: true,\n\t\t\t\t\ttoolbar: 'bold italic strikethrough link unlink | alignleft aligncenter alignright alignjustify',\n\t\t\t\t\tinit_instance_callback: function (editor) {\n\t\t\t\t\t\twindow.currentEditor = editor;\n\t\t\t\t\t\teditor.on('focus', function (e) {\n\t\t\t\t\t\t\twindow.tryToChangeMCEWidth();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tactions.appendChild(btnMove);\n\t\tactions.appendChild(btnCopy);\n\t\tactions.appendChild(btnDelete);\n\t\tthis.appendChild(actions);\n\t};\n\n\tnode.onmouseleave = function (event) {\n\t\tvar formerActions = this.getElementsByClassName('wptb-actions');\n\t\tif (formerActions && formerActions[0]) {\n\t\t\tlet par = formerActions[0].parentNode;\n\t\t\tpar.removeChild(formerActions[0]);\n\t\t}\n\t\tthis.classList.remove('wptb-directlyhovered');\n\t};\n\n\tnode.classList.add('wptb-ph-element', 'wptb-element-' + element.kind + '-' +\n\t\tindex);\n\n\tnew WPTB_ElementOptions(element, index);\n\n\tdocument.counter.increment(element.kind);\n\n};",""]}