{"version":3,"sources":["functions.js","wptb-builder.js"],"names":["$","window","add_Elements_tab","removeClass","addClass","show","hide","tryToChangeMCEWidth","e","container","document","getElementById","trueBar","childNodes","totalWidth","getElementsByClassName","offsetWidth","scrollTop","style","display","console","log","position","right","top","tinyFastCall","obj","tinyMCE","init","target","inline","plugins","dialog_type","theme","menubar","fixed_toolbar_container","toolbar","copyList","event","srcList","parentNode","newList","cloneNode","listItems","querySelectorAll","onmouseenter","showListSettings","onmouseleave","hideListSettings","i","length","cont","showListItemSettings","hideListItemSettings","id","onkeyup","listItemKeyListener","infArr","className","match","elName","oldClass","oldClassOptionsPanelClass","newOptionsPanel","clone","oldOptionsPanel","querySelector","appendChild","newClass","wptb_num","newClassOptionsPanelClass","classList","add","remove","btnDelete","createElement","btnCopy","actions","previous","innerHTML","onclick","list","tdContainer","trigger","removeChild","append","undefined","parent","previousAct","par","item","article","content","html","duplicate","newListItem","text","divdot","divcontent","libullet","key","which","keyCode","liEl","lastP","dontAddItems","preventDefault","after","focus","trim","inputNumber","el","min","attr","max","els","dec","prev","inc","next","each","decrement","increment","onmousedown","value","jQuery","wptbElement","ready","onscroll","click","fadeIn","wpColorPicker","table","columnCount","parseInt","val","rowCount","row","insertRow","headerCell","j","cell","wptbTable","bind","currentTarget","stopPropagation","elText","elText2","elP","elList","el_L","elButton","elButton2","el_B","Array","textEl","mouseenter","oldClassOption","classOption","duplicateOption","newClassOption","listener_to_element","find","mouseleave","addElementOptions","button","children","setup","ed","on","execCommand","init_instance_callback","editor","getContent","setContent","range","selection","getRng","KeyID","startOffset","listEl","contentCollection","prop","setTimeout","$this","el_options","hasClass","parents","Element_options_tab","optionsClass","is","detect_element_for_property","option","closest","classes","type","num","element","editing_property","data","css","toLowerCase","body","setInterval","old_value","addBorder","styles","border","addCellPadding","padding","addInnerBorder","checked","fadeOut","_val","addInnerBorderSize","textDragStart","originalEvent","dataTransfer","effectAllowed","setData","getAttribute","imageDragStart","buttonDragStart","listDragStart"],"mappings":"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","file":"admin.js","sourcesContent":["(function ($) {\r\n\r\n    window.add_Elements_tab = function() { \r\n                $('.wptb-tab#element-options  a').removeClass('active');\r\n                $('.wptb-tab#add-elements a').addClass('active');\r\n\r\n                $('.wptb-elements-container').show();\r\n                $('.wptb-settings-section').show();\r\n                $(\"#element-options-group\").hide(); \r\n\r\n            };\r\n\r\n    window.tryToChangeMCEWidth = function(e){ \r\n                var container = document.getElementById('wpcd_fixed_toolbar'),\r\n                    trueBar = container.childNodes[1],\r\n                    totalWidth = document.getElementsByClassName('wptb-builder-panel')[0].offsetWidth;\r\n               if(trueBar && document.getElementById('wptb_builder').scrollTop >= 55 && trueBar.style.display!='none'){\r\n                console.log(totalWidth);\r\n                container.style.position='fixed'; \r\n                container.style.right = (totalWidth / 2 - container.offsetWidth / 2)+'px';\r\n                container.style.top = '100px';\r\n                }\r\n                else{\r\n                container.style.position='static';\r\n                delete container.style.right; \r\n                delete container.style.top; \r\n                }\r\n                //if(this.scrollTop > && )\r\n//                document.getElementById('wpcd_fixed_toolbar').style.left = 'calc(50% - '+width+')';  \r\n            };\r\n\r\n    window.tinyFastCall = function (obj) {\r\n        tinyMCE.init({\r\n            target: obj,\r\n            inline: true,\r\n            plugins: \"link\",\r\n            dialog_type: \"modal\",\r\n            theme: 'modern',\r\n            menubar: false,\r\n            fixed_toolbar_container: '#wpcd_fixed_toolbar',\r\n            toolbar: 'bold italic strikethrough link unlink | alignleft aligncenter alignright alignjustify',\r\n        });\r\n    }\r\n\r\n    window.copyList = function (event) {\r\n        var srcList = event.target.parentNode.parentNode,\r\n            newList = srcList.cloneNode(true),\r\n            container = srcList.parentNode,\r\n            listItems = newList.querySelectorAll('article');\r\n        newList.onmouseenter = showListSettings;\r\n        newList.onmouseleave = hideListSettings;\r\n        for (var i = listItems.length - 1; i >= 0; i--) {\r\n            let cont = listItems[i].getElementsByClassName('wptb-list-item-content')[0];\r\n            console.log(cont);\r\n            listItems[i].onmouseenter = showListItemSettings;\r\n            listItems[i].onmouseleave = hideListItemSettings;\r\n            cont.id = '';\r\n            tinyFastCall(cont);\r\n            cont.onkeyup = listItemKeyListener;\r\n        }\r\n\r\n\r\n        var infArr = newList.className.match(/wptb-element-(.+)-(\\d)+/i),\r\n            elName = infArr[1],\r\n            oldClass = infArr[0],\r\n            oldClassOptionsPanelClass = \"wptb-options-\" + elName + \"-\" + infArr[2];\r\n\r\n        var newOptionsPanel = $('.' + oldClassOptionsPanelClass).clone(true, true),\r\n            oldOptionsPanel = document.querySelector('.' + oldClassOptionsPanelClass);\r\n        oldOptionsPanel.parentNode.appendChild(newOptionsPanel[0]);\r\n\r\n        var newClass = \"wptb-element-\" + elName + \"-\" + wptb_num['list'];\r\n        var newClassOptionsPanelClass = \"wptb-options-\" + elName + \"-\" + wptb_num['list'];\r\n\r\n        newList.classList.add(newClass);\r\n        newList.classList.remove(oldClass);\r\n\r\n        newOptionsPanel.removeClass(oldClassOptionsPanelClass);\r\n        newOptionsPanel.addClass(newClassOptionsPanelClass);\r\n\r\n        wptb_num['list']++;\r\n\r\n        container.appendChild(newList);\r\n    }\r\n\r\n    window.showListSettings = function (event) {\r\n        var btnDelete = document.createElement('span'),\r\n            btnCopy = document.createElement('span'),\r\n            actions = document.createElement('span'),\r\n            previous, i;\r\n        actions.classList.add('wptb-actions');\r\n        actions.innerHTML = 'List Actions';\r\n        btnDelete.classList.add('dashicons', 'dashicons-trash', 'delete-action');\r\n        btnCopy.classList.add('dashicons', 'dashicons-admin-page', 'duplicate-action');\r\n        delete document.getElementsByClassName('wptb-actions');\r\n        previous = document.getElementsByClassName('wptb-directlyhovered');\r\n        for (i = 0; i < previous.length; i++) {\r\n            previous[i].classList.remove('wptb-directlyhovered');\r\n        };\r\n        this.classList.add('wptb-directlyhovered');\r\n\r\n        btnDelete.onclick = function () {\r\n\r\n            var list = this.parentNode.parentNode,\r\n                tdContainer = list.parentNode;\r\n            $('#add-elements a').trigger('click');\r\n            tdContainer.removeChild(list); \r\n        };\r\n        btnCopy.onclick = copyList;\r\n\r\n        actions.append(btnCopy, btnDelete);\r\n        this.append(actions);\r\n    };\r\n\r\n    window.hideListSettings = function (event) {\r\n        this.classList.remove('wptb-directlyhovered');\r\n        var actions = this.getElementsByClassName('wptb-actions')[0];\r\n        if (actions != undefined) {\r\n            let parent = actions.parentNode;\r\n            parent.removeChild(actions);\r\n        }\r\n    };\r\n\r\n    window.showListItemSettings = function (event) {\r\n        var btnDelete = document.createElement('span'),\r\n            btnCopy = document.createElement('span'),\r\n            actions = document.createElement('span'),\r\n            previous, i;\r\n        actions.classList.add('wptb-actions');\r\n        actions.innerHTML = 'Item Actions';\r\n        btnDelete.classList.add('dashicons', 'dashicons-trash', 'delete-action');\r\n        btnCopy.classList.add('dashicons', 'dashicons-admin-page', 'duplicate-action');\r\n\r\n        previousAct = document.getElementsByClassName('wptb-actions');\r\n        for (i = 0; i < previousAct.length; i++) {\r\n            let par = previousAct[i].parentNode;\r\n            par.removeChild(previousAct[i]);\r\n        };\r\n\r\n        previous = document.getElementsByClassName('wptb-directlyhovered');\r\n        for (i = 0; i < previous.length; i++) {\r\n            previous[i].classList.remove('wptb-directlyhovered');\r\n        };\r\n        this.classList.add('wptb-directlyhovered');\r\n\r\n        btnDelete.onclick = function () {\r\n            var item = this.parentNode.parentNode,\r\n                parent = item.parentNode;\r\n            parent.removeChild(item);\r\n        };\r\n\r\n        btnCopy.onclick = function (event) {\r\n            var article = event.target.parentNode.parentNode,\r\n                content = article.querySelector('.wptb-list-item-content'),\r\n                html = content.innerHTML;\r\n            var duplicate = newListItem(html);\r\n            article.parentNode.appendChild(duplicate);\r\n        };\r\n\r\n        actions.append(btnCopy, btnDelete); \r\n        this.parentNode.appendChild(actions);\r\n\r\n    };\r\n\r\n    window.hideListItemSettings = function (event) {\r\n        this.classList.remove('wptb-directlyhovered');\r\n        var actions = this.querySelector('.wptb-actions');\r\n        if (actions != undefined) {\r\n            let parent = actions.parentNode;\r\n            parent.removeChild(actions);\r\n        }\r\n    };\r\n\r\n    window.newListItem = function (text) {\r\n        if (text == undefined) text = 'New List Item';\r\n        var duplicate = document.createElement('article');\r\n        var divdot = document.createElement('div'),\r\n            divcontent = document.createElement('div'),\r\n            libullet = document.createElement('li');\r\n        divdot.classList.add('wptb-list-item-style-dot');\r\n        divcontent.classList.add('wptb-list-item-content');\r\n        libullet.classList.add('wptb-bullet');\r\n        duplicate.appendChild(divdot);\r\n        duplicate.appendChild(divcontent);\r\n        divdot.appendChild(libullet);\r\n        divcontent.innerHTML = text;\r\n        tinyFastCall(divcontent);\r\n        divcontent.onkeyup = window.listItemKeyListener;\r\n        divcontent.onmouseenter = function (event) {\r\n            var previous = document.getElementsByClassName('wptb-directlyhovered');\r\n            for (i = 0; i < previous.length; i++) {\r\n                previous[i].classList.remove('wptb-directlyhovered');\r\n            };\r\n            this.classList.add('wptb-directlyhovered');\r\n        };\r\n        divcontent.onmouseleave = function (event) {\r\n            this.classList.remove('wptb-directlyhovered');\r\n        };\r\n        divcontent.onmouseenter = showListItemSettings;\r\n        divcontent.onmouseleave = hideListItemSettings;\r\n        return duplicate;\r\n    }\r\n\r\n    window.listItemKeyListener = function (event) { \r\n        var key = (event.which != undefined) ? event.which\r\n            : event.keyCode,\r\n            liEl = $(this).parent(),\r\n            duplicate, lastP;\r\n        if (key !== 13 || \r\n        (window.dontAddItems !== undefined && window.dontAddItems === true) ){\r\n            return;\r\n        }\r\n        event.preventDefault();\r\n        duplicate = newListItem();\r\n        liEl.after(duplicate);\r\n        duplicate.querySelector('.wptb-list-item-content').focus();\r\n\r\n        lastP = this.childNodes[this.childNodes.length - 1];\r\n        this.removeChild(lastP);\r\n        if (this.innerHTML.trim() == '<p><br data-mce-bogus=\"1\"></p>') {\r\n            this.innerHTML = 'New List Item';\r\n        }\r\n        return false;\r\n    };\r\n\r\n    window.inputNumber = function (el) {\r\n\r\n        var min = el.attr('min') || false;\r\n        var max = el.attr('max') || false;\r\n\r\n        var els = {};\r\n\r\n        els.dec = el.prev();\r\n        els.inc = el.next();\r\n\r\n        el.each(function () {\r\n            init(this);\r\n        });\r\n\r\n        function init(el) {\r\n\r\n            els.dec[0].onclick = decrement;\r\n            els.inc[0].onclick = increment;\r\n\r\n            els.dec.onmousedown= function (e) {\r\n                e.preventDefault();\r\n            };\r\n\r\n            els.inc.onmousedown = function (e) {\r\n                e.preventDefault();\r\n            };\r\n\r\n            function decrement() { \r\n                var value = el.value;\r\n                value--;\r\n                if (!min || value >= min) {\r\n                    el.value = value;\r\n                }\r\n            }\r\n\r\n            function increment() { \r\n                var value = el.value;\r\n                value++;\r\n                if (!max || value <= max) {\r\n                    el.value = value++;\r\n                }\r\n            }\r\n        }\r\n    }\r\n})(jQuery);","var wptbElement;\r\n\r\njQuery(document).ready(function ($) {\r\n\r\n    //Column and Row number Selector.\r\n    inputNumber(jQuery('#wptb-columns-number'));\r\n    inputNumber(jQuery('#wptb-rows-number'));\r\n\r\n    document.getElementById('wptb_builder').onscroll = tryToChangeMCEWidth;\r\n\r\n    //Generate table and bind associated functions.\r\n    $(function () {\r\n        $(\"#wptb-generate-table\").click(function () {\r\n\r\n            $('.wptb-table-generator').hide();\r\n            $('.wptb-settings-items').fadeIn();\r\n\r\n            //Add Color Picker for Row and Header Background Colors\r\n            $('#wptb-even-row-bg').wpColorPicker();\r\n            $('#wptb-odd-row-bg').wpColorPicker();\r\n            $('#wptb-table-header-bg').wpColorPicker();\r\n\r\n            //Create a HTML Table element.\r\n            var table = $(\"<table />\");\r\n            table.addClass('wptb-preview-table');\r\n\r\n            //Get the count of columns and rows.\r\n            var columnCount = parseInt($('#wptb-columns-number').val());\r\n            var rowCount = parseInt($('#wptb-rows-number').val());\r\n\r\n            //Add the header row.\r\n            var row = $(table[0].insertRow(-1));\r\n            for (var i = 0; i < columnCount; i++) {\r\n                var headerCell = $(\"<td />\");\r\n                row.append(headerCell);\r\n                headerCell.addClass('wptb-droppable wptb-cell');\r\n                row.addClass('wptb-table-head wptb-row');\r\n            }\r\n\r\n            //Add the data rows.\r\n            for (var i = 1; i < rowCount; i++) {\r\n                row = $(table[0].insertRow(-1));\r\n                for (var j = 0; j < columnCount; j++) {\r\n                    var cell = $(\"<td />\");\r\n                    cell.addClass('wptb-droppable wptb-cell');\r\n                    row.append(cell);\r\n                    row.addClass('wptb-row')\r\n                }\r\n            }\r\n\r\n            //Appending the table to the container in UI\r\n            var wptbTable = $(\".wptb-table-setup\");\r\n            wptbTable.html(\"\");\r\n            wptbTable.append(table);\r\n\r\n            //Adds/Removes Class to Droppable Cell when element enters.\r\n            $('.wptb-droppable').bind('dragenter', function (event) {\r\n                event.target.classList.add('wptb-allow-drop');\r\n                event.currentTarget.classList.add('wptb-allow-drop');\r\n            });\r\n\r\n            //Removes class when element is out of the droppable zone.\r\n            $('.wptb-droppable').bind('dragleave', function (event) {\r\n                event.target.classList.remove('wptb-allow-drop');\r\n            });\r\n\r\n            //Allowing the drop\r\n            $('.wptb-droppable').bind(\"dragover\", function (event) {\r\n                event.stopPropagation();\r\n                event.preventDefault();\r\n                return true;\r\n            });\r\n\r\n            //Text Element to be dropped in Cell.\r\n            var elText = document.createElement('div');\r\n            var elText2 = document.createElement('div');\r\n            elText2.classList.add('editable');\r\n            var elP = document.createElement('p');\r\n            elP.innerHTML = 'Text';\r\n            elText2.appendChild(elP);\r\n            elText.appendChild(elText2);\r\n\r\n            //List Element to be dropped in Cell.\r\n            var elList = document.createElement('div');\r\n            //elList.classList.add('editable');\r\n            var el_L = document.createElement('ul');\r\n            el_L.innerHTML = \"<article>\\\r\n                <div class=\\\"wptb-list-item-style-dot\\\">\\\r\n                    <li class=\\\"wptb-bullet\\\">\\\r\n                    </li>\\\r\n                </div>\\\r\n                <div class=\\\"wptb-list-item-content editable\\\" >List Item 1</div>\\\r\n            </article><article>\\\r\n                <div class=\\\"wptb-list-item-style-dot\\\">\\\r\n                    <li class=\\\"wptb-bullet\\\">\\\r\n                    </li>\\\r\n                </div>\\\r\n                <div class=\\\"wptb-list-item-content editable\\\" >List Item 2</div>\\\r\n            </article><article>\\\r\n                <div class=\\\"wptb-list-item-style-dot\\\">\\\r\n                    <li class=\\\"wptb-bullet\\\">\\\r\n                    </li>\\\r\n                </div>\\\r\n                <div class=\\\"wptb-list-item-content editable\\\" >List Item 3</div>\\\r\n            </article>\";\r\n            elList.appendChild(el_L);\r\n\r\n            //Button Element to be dropped in Cell\r\n            var elButton = document.createElement('div');\r\n            elButton.classList.add('wptb-button-container');\r\n            var elButton2 = document.createElement('div');\r\n            elButton2.classList.add('wptb-button-wrapper');\r\n            var el_B = document.createElement('p');\r\n            el_B.classList.add('wptb-button');\r\n            el_B.classList.add('editable');\r\n            el_B.innerHTML = 'Button Text';\r\n            elButton2.appendChild(el_B);\r\n            elButton.appendChild(elButton2);\r\n\r\n            //numbers of elements that have been added\r\n            window.wptb_num = new Array();\r\n            wptb_num[\"text\"] = 0;\r\n            wptb_num[\"image\"] = 0;\r\n            wptb_num[\"list\"] = 0;\r\n            wptb_num[\"button\"] = 0;\r\n\r\n            //Runs when an element is dropped on a cell.\r\n            $('.wptb-droppable').bind('drop', function (event) {\r\n                event.preventDefault();\r\n                event.stopPropagation();\r\n                event.target.classList.remove('wptb-allow-drop');\r\n                if (wptbElement == 'text') {\r\n                    var textEl = elText.cloneNode(true);\r\n                    event.target.appendChild(textEl);\r\n\r\n\r\n                    $(textEl).mouseenter(function (event) {\r\n                        var btnDelete = $('<span class=\"dashicons dashicons-trash delete-action\"></span>'),\r\n                            btnCopy = $('<span class=\"dashicons dashicons-admin-page duplicate-action\"></span>'),\r\n                            actions = $('<span class=\"wptb-actions\">Item Actions </span>');\r\n\r\n                        $('.wptb-actions').remove();\r\n                        $('.wptb-directlyhovered').removeClass('wptb-directlyhovered');\r\n                        $(this).addClass('wptb-directlyhovered');\r\n\r\n                        btnDelete.click(function () {\r\n                            $(this).parent().parent().remove();\r\n                        });\r\n                        btnCopy.click(function () {\r\n                            var duplicate = $(this).parent().parent().clone(true, true);\r\n                            $(this).parent().parent().parent().append(duplicate);\r\n\r\n                            /*************************************************\r\n                             *            Give it separated options          *\r\n                             *************************************************/\r\n                            /**\r\n                            * will carry the extracted infotrmation from the class\r\n                            * @example class => wptb-ph-element wptb-element-text-0\r\n                            *          result => [\r\n                            *              0 => wptb-element-text-0\r\n                            *              1 => text\r\n                            *              2 => 0\r\n                            *          ]\r\n                            * @type array\r\n                            */\r\n                            var infArr = duplicate.attr('class').match(/wptb-element-(.+)-(\\d)+/i),\r\n                                wptbElement = infArr[1],\r\n                                oldClass = infArr[0],\r\n                                oldClassOption = \"wptb-options-\" + wptbElement + \"-\" + infArr[2],\r\n                                classOption = \".wptb-element-options\" +\r\n                                    \".wptb-\" + wptbElement + \"-options\" +\r\n                                    \".\" + oldClassOption;\r\n                            var duplicateOption = $(classOption).clone(true, true);\r\n                            $(classOption).parent().append(duplicateOption);\r\n\r\n                            // creating the new class name and deleting the old class \r\n                            var newClass = \"wptb-element-\" + wptbElement + \"-\" + wptb_num[wptbElement];\r\n                            var newClassOption = \"wptb-options-\" + wptbElement + \"-\" + wptb_num[wptbElement];\r\n\r\n                            duplicate.addClass(newClass);\r\n                            duplicate.removeClass(oldClass);\r\n\r\n                            duplicateOption.addClass(newClassOption);\r\n                            duplicateOption.removeClass(oldClassOption);\r\n                            wptb_num[wptbElement]++;\r\n\r\n                            // Exceptions \r\n                            switch (wptbElement) {\r\n                                case 'text':\r\n                                    listener_to_element(duplicateOption.find('.wptb-color-picker'));\r\n                                    duplicateOption.find('.wptb-color-picker').wpColorPicker();\r\n                                    break;\r\n                            }\r\n                            duplicate[0].childNodes[0].id = '';\r\n                            tinyFastCall(duplicate[0].childNodes[0]);\r\n                        });\r\n\r\n                        actions.append(btnCopy, btnDelete);\r\n                        $(this).append(actions);\r\n\r\n                    }).mouseleave(function (event) {\r\n                        $(this).removeClass('wptb-directlyhovered');\r\n                        $(this).find('.wptb-actions').remove();\r\n                    });\r\n\r\n\r\n                    tinyMCE.init({\r\n                        target: textEl.childNodes[0],\r\n                        inline: true,\r\n                        plugins: \"link\",\r\n                        dialog_type: \"modal\",\r\n                        theme: 'modern',\r\n                        menubar: false,\r\n                        fixed_toolbar_container: '#wpcd_fixed_toolbar',\r\n                        toolbar: 'bold italic strikethrough link unlink | alignleft aligncenter alignright alignjustify',\r\n                    });\r\n\r\n                    $(textEl).addClass('wptb-ph-element wptb-element-' + wptbElement + \"-\" + wptb_num[wptbElement]);\r\n\r\n                    // adding element options\r\n                    addElementOptions(wptbElement, textEl);\r\n                    $(textEl).click();\r\n\r\n                } else if (wptbElement == 'image') {\r\n                    event.target.innerHTML = 'Image';\r\n                } else if (wptbElement == 'button') {\r\n                    // create the button element with text button\r\n                    var button = elButton.cloneNode(true);\r\n\r\n                    // this part is very important \r\n                    button.click(function (e) {\r\n                        e.preventDefault();\r\n                    });\r\n\r\n                    $(button).mouseenter(function (event) {\r\n                        var btnDelete = $('<span class=\"dashicons dashicons-trash delete-action\"></span>'),\r\n                            btnCopy = $('<span class=\"dashicons dashicons-admin-page duplicate-action\"></span>'),\r\n                            actions = $('<span class=\"wptb-actions\">Item Actions </span>');\r\n\r\n                        $('.wptb-actions').remove();\r\n                        $('.wptb-directlyhovered').removeClass('wptb-directlyhovered');\r\n                        $(this).addClass('wptb-directlyhovered');\r\n\r\n                        btnDelete.click(function () {\r\n                            $(this).parent().parent().remove();\r\n                        });\r\n                        btnCopy.click(function () {\r\n                            var duplicate = $(this).parent().parent().clone(true, true);\r\n\r\n                            var infArr = duplicate[0].className.match(/wptb-element-(.+)-(\\d)+/i),\r\n                                elName = infArr[1],\r\n                                oldClass = infArr[0],\r\n                                oldClassOptionsPanelClass = \"wptb-options-\" + elName + \"-\" + infArr[2];\r\n\r\n                            var newOptionsPanel = $('.' + oldClassOptionsPanelClass).clone(true, true),\r\n                                oldOptionsPanel = document.querySelector('.' + oldClassOptionsPanelClass);\r\n                            oldOptionsPanel.parentNode.appendChild(newOptionsPanel[0]);\r\n\r\n                            var newClass = \"wptb-element-\" + elName + \"-\" + wptb_num['button'];\r\n                            var newClassOptionsPanelClass = \"wptb-options-\" + elName + \"-\" + wptb_num['button'];\r\n\r\n                            duplicate[0].classList.add(newClass);\r\n                            duplicate[0].classList.remove(oldClass);\r\n\r\n                            newOptionsPanel.removeClass(oldClassOptionsPanelClass);\r\n                            newOptionsPanel.addClass(newClassOptionsPanelClass);\r\n\r\n                            wptb_num['button']++;\r\n\r\n                            duplicate[0].id = '';\r\n                            tinyFastCall(duplicate[0]);\r\n                            $(this).parent().parent().parent().append(duplicate[0]);\r\n                        });\r\n\r\n                        actions.append(btnCopy, btnDelete);\r\n                        $(this).append(actions);\r\n\r\n                    }).mouseleave(function (event) {\r\n                        $(this).removeClass('wptb-directlyhovered');\r\n                        $(this).find('.wptb-actions').remove();\r\n                    });\r\n                    //append it to the cell\r\n                    $(event.target).append(button);\r\n                    console.log('Something', $(button).children().find('.wptb-button-wrapper'));\r\n                    //using tinymce\r\n                    tinyMCE.init({\r\n                        target: button.childNodes[0],\r\n                        inline: true,\r\n                        plugins: \"link\",\r\n                        dialog_type: \"modal\",\r\n                        theme: 'modern',\r\n                        menubar: false,\r\n                        fixed_toolbar_container: '#wpcd_fixed_toolbar',\r\n                        toolbar: 'bold italic strikethrough',\r\n                        setup: function (ed) {\r\n                            ed.on(\"init\",\r\n                                function (ed) {\r\n                                    tinyMCE.execCommand('mceRepaint');\r\n                                }\r\n                            );\r\n                        },\r\n                        init_instance_callback: function (editor) {\r\n                            editor.on('change', function (e) {\r\n                                // check if it becomes empty because if there's no value it's hard to edit the editor in button element\r\n                                if (editor.getContent() == \"\") {\r\n                                    editor.setContent(\"<p class='wptb-button'>Button Text</p>\");\r\n                                }\r\n                            });\r\n                            editor.on('KeyDown', function (e) {\r\n                                var range = editor.selection.getRng();\r\n                                var KeyID = e.keyCode;\r\n                                if (range.startOffset == 0 && (KeyID == 8 || KeyID == 46)) {\r\n                                    e.preventDefault();\r\n                                    editor.setContent(\"<p class='wptb-button'></p>\");\r\n                                }\r\n\r\n                            });\r\n                        }\r\n                    });\r\n\r\n                    //Give it a class That will help us to relate it to its properties\r\n                    $(button).addClass('wptb-ph-element wptb-element-' + wptbElement + \"-\" + wptb_num[wptbElement]);\r\n\r\n                    // To take a copy from the options prototype and relate it to the button\r\n                    addElementOptions(wptbElement, button);\r\n\r\n                    // click the element to show it's option to focus the page on it\r\n                    $(button).click();\r\n\r\n                } else if (wptbElement == 'list') {\r\n                    var listEl = elList.cloneNode(true), contentCollection;\r\n\r\n                    event.target.appendChild(listEl);\r\n\r\n                    listEl.onmouseenter = showListSettings;\r\n                    listEl.onmouseleave = hideListSettings;\r\n                    contentCollection = listEl\r\n                        .querySelectorAll('article .wptb-list-item-content');\r\n                    for (var i = 0; i < contentCollection.length; i++) {\r\n                        contentCollection[i].onmouseenter = showListItemSettings;\r\n                        contentCollection[i].onmouseleave = hideListItemSettings;\r\n                        contentCollection[i].onkeyup = listItemKeyListener;\r\n                        tinyFastCall(contentCollection[i]);\r\n                    }\r\n\r\n                    listEl.classList.add('wptb-ph-element', 'wptb-element-' + wptbElement + \"-\" + wptb_num[wptbElement]);\r\n                    addElementOptions(wptbElement, listEl);\r\n\r\n                }\r\n            });\r\n\r\n\r\n\r\n            /**\r\n             * adding Options to each element and related this option to it\r\n             * by Class also give the element its events\r\n             * \r\n             * @param {string} wptbElement name of the element\r\n             * @param {opject} el the element itself\r\n             * @returns {void}\r\n             */\r\n            function addElementOptions(wptbElement, el) {\r\n                var prop = $(\".wptb-\" + wptbElement + \"-options-prototype\").clone();\r\n                prop.removeClass(\"wptb-\" + wptbElement + \"-options-prototype\"); // remove prototype from the class\r\n                prop.addClass('wptb-options-' + wptbElement + \"-\" + wptb_num[wptbElement]);\r\n                $(\"#element-options-group\").append(prop);\r\n                //special cases to elements if needed\r\n                switch (wptbElement) {\r\n                    case 'text':\r\n                        listener_to_element(prop.find('.wptb-color-picker'));\r\n                        prop.find('.wptb-color-picker').wpColorPicker();\r\n                        break;\r\n                }\r\n                wptb_num[wptbElement]++;\r\n            }\r\n\r\n            $(document).bind('keydown',function(e){\r\n                if(e.target.className==='mce-textbox')\r\n                {  \r\n                    window.dontAddItems=true;\r\n                    if(event.which===13 || event.which === 27){\r\n                        setTimeout(function(){\r\n                            window.dontAddItems = false;\r\n                            document.querySelector('.wptb-list-item-content.mce-edit-focus').click();\r\n                        }, 250);\r\n                    }\r\n                }\r\n            }); \r\n\r\n            /*\r\n             * event click to the whole document and then check if it's to one\r\n             * the created element to show it's option\r\n             */\r\n            $(document).bind('click', function (e) {\r\n                console.log('target',e.target);\r\n                setTimeout(\r\n                    function(){\r\n                        window.tryToChangeMCEWidth();\r\n                    }\r\n                    ,500); \r\n                var $this = $(e.target);\r\n                if(e.target.className.match(/delete-action/) ){\r\n                    console.log('button');\r\n                    return;\r\n                }\r\n                if(e.target.id.match(/mceu_([0-9])*-button/) )\r\n                {\r\n                    window.dontAddItems = false;\r\n                }\r\n\r\n                var el_options = false; // this var will carry the element that will be shown its options\r\n\r\n                //if($this.hasClass('wptb-element-options'))\r\n                // check if this element or one of it's parent should display its options\r\n                if ($this.hasClass('wptb-ph-element')) {\r\n                    el_options = $this;\r\n                } else if ($this.parents().hasClass('wptb-ph-element')) {\r\n                    el_options = $this.parents('.wptb-ph-element');\r\n                }\r\n\r\n                // check to show element's options\r\n                if (el_options && el_options.length != 0) {\r\n                    Element_options_tab();\r\n\r\n                    /**\r\n                     * will carry the extracted infotrmation from the class\r\n                     * @example class => wptb-ph-element wptb-element-text-0\r\n                     *          result => [\r\n                     *              0 => wptb-element-text-0\r\n                     *              1 => text-0\r\n                     *              2 => text-\r\n                     *          ]\r\n                     * @type array\r\n                     */\r\n                    var infArr = el_options.attr('class').match(/wptb-element-((.+-)\\d+)/i);\r\n\r\n\r\n                    /*\r\n                     * will carry the class name of the element's options\r\n                     * @example wptb-text-options wptb-options-text-0\r\n                     * @type String\r\n                     */\r\n                    var optionsClass = '.wptb-' + infArr[2] + 'options' +\r\n                        '.wptb-options-' + infArr[1];\r\n\r\n                    $(optionsClass).show();\r\n\r\n                    //Binds the range slider and input for text font size.\r\n                    $('.wptb-text-font-size-slider').bind('input change', function () {\r\n                        $(this).parents('.wptb-settings-row').find('.wptb-text-font-size-number').val($(this).val());\r\n                    });\r\n\r\n\r\n                    //Binds the range slider and input for text font size.\r\n                    $('.wptb-text-font-size-number').bind('input change', function () {\r\n                        $(this).parents('.wptb-settings-row').find('.wptb-text-font-size-slider').val($(this).val());\r\n                    });\r\n\r\n                } else {\r\n                    //show the add elements option\r\n                    if ($this.is('#add-elements') ||\r\n                        $this.parents('#add-elements').length !== 0 ||\r\n                        $this.hasClass('wptb-builder-panel') ||\r\n                        $this.parents('.wptb-builder-panel').length !== 0) {\r\n                        window.add_Elements_tab();\r\n                    }\r\n                }\r\n            });\r\n\r\n\r\n            // active Element options tab and it's options\r\n            function Element_options_tab() {\r\n\r\n                $('.wptb-tab#add-elements a').removeClass('active');\r\n                $('.wptb-tab#element-options a').addClass('active');\r\n\r\n                $('.wptb-elements-container').hide();\r\n                $('.wptb-settings-section').hide();\r\n                $(\"#element-options-group\").show();\r\n\r\n                //Hide all elements' options before showing the selected one\r\n                $('#element-options-group').children().hide();\r\n\r\n            }\r\n\r\n            /**\r\n             * this function will be called \r\n             * when a property of any elemnet is changed\r\n             * to determine which element that we should edit\r\n             * and then call edititng_property Function\r\n             * @returns {void}\r\n             */\r\n            function detect_element_for_property() {\r\n                var option = $(this);\r\n                var parent = option.closest(\".wptb-element-options\");\r\n                var classes = parent.attr(\"class\");\r\n\r\n                /**\r\n                * will carry the extracted infotrmation from the class\r\n                * @example class =>wptb-options-text-0\r\n                *          result => [\r\n                *              0 => wptb-options-text-0\r\n                *              1 => text\r\n                *              2 => 0\r\n                *          ]\r\n                * @type array\r\n                */\r\n                var infArr = classes.match(/wptb-options-(.+)-(\\d+)/i);\r\n\r\n                var type = infArr[1];\r\n                var num = infArr[2];\r\n                var element = $('.wptb-ph-element.wptb-element-' + type + '-' + num);\r\n                editing_property(element, option);\r\n            }\r\n\r\n            /**\r\n             * will change the element according to the value of option\r\n             * \r\n             * @param {object} element that will change according to the value of option\r\n             * @param {object} option input element\r\n             * @returns {void}\r\n             */\r\n            function editing_property(element, option) {\r\n                // type of property @Ex: font-size,color ....\r\n                var type = option.data('type');\r\n                var val = option.val();\r\n                switch (type) {\r\n                    case 'font-size':\r\n                        element.find(\"p\").css('font-size', val + 'px');\r\n                        break;\r\n                    case 'color':\r\n                        element.find(\"p\").css('color', val);\r\n                        break;\r\n                    case 'list-class': if (val == 'unordered') {\r\n                        $('[data-type=list-style-type]').parent().css('display', 'flex');\r\n                        element.find('article .wptb-list-item-style-dot li').css('list-style-type', 'disc');\r\n                        $('[data-type=list-style-type]').val('disc');\r\n                    }\r\n                    else {\r\n                        $('[data-type=list-style-type]').parent().css('display', 'none');\r\n                        element.find('article .wptb-list-item-style-dot li').css('list-style-type', 'decimal');\r\n                    }\r\n                        break;\r\n                    case 'numbering-list-style-type':\r\n                    case 'list-style-type':\r\n                        element.find('article .wptb-list-item-style-dot li').css('list-style-type', val.toLowerCase());\r\n                        break;\r\n                }\r\n            }\r\n            $(document.body).on('change input, change select', '.wptb-element-property', detect_element_for_property);\r\n\r\n            /**\r\n             * to listen to the elements that will change dynamically\r\n             * change by other javascript code then will trigger the change event to them\r\n             * \r\n             * @param {string} element\r\n             * @returns {void}\r\n             */\r\n            function listener_to_element(element) {\r\n                element.data('old_value', element.val());\r\n                window.setInterval(function () {\r\n                    var value = element.val();\r\n                    var old_value = element.data('old_value');\r\n                    if (value != old_value) {\r\n                        old_value = value;\r\n                        element.trigger('change');\r\n                    }\r\n                }, 300);\r\n            }\r\n\r\n            //Triggers when table border setting changes.\r\n            function addBorder(value) {\r\n                var styles = {\r\n                    border: value + 'px solid'\r\n                };\r\n                $('.wptb-preview-table').css(styles);\r\n            }\r\n\r\n            //Binds the range slider and input, also triggers table border change.\r\n            $('#wptb-table-border-slider').bind('input change', function () {\r\n                $('#wptb-table-border-number').val($(this).val());\r\n                addBorder($(this).val());\r\n            });\r\n\r\n            //Binds the range slider and input, also triggers table border change.\r\n            $('#wptb-table-border-number').bind('input change', function () {\r\n                $('#wptb-table-border-slider').val($(this).val());\r\n                addBorder($(this).val());\r\n            });\r\n\r\n            //Triggers when cell padding setting changes.\r\n            function addCellPadding(value) {\r\n                var styles = {\r\n                    padding: value + 'px'\r\n                };\r\n                $('td').css(styles);\r\n            }\r\n\r\n            //Binds the range slider and input, also triggers cell padding change.\r\n            $('#wptb-table-cell-slider').bind('input change', function () {\r\n                $('#wptb-table-cell-number').val($(this).val());\r\n                addCellPadding($(this).val());\r\n            });\r\n\r\n            //Binds the range slider and input, also triggers cell padding change.\r\n            $('#wptb-table-cell-number').bind('input change', function () {\r\n                $('#wptb-table-cell-slider').val($(this).val());\r\n                addCellPadding($(this).val());\r\n            });\r\n\r\n            //Triggers when apply inner border setting changes.\r\n            function addInnerBorder(checked) {\r\n                var styles;\r\n\r\n                if (checked == 'checked') {\r\n                    styles = {\r\n                        border: 1 + 'px solid'\r\n                    }\r\n                    $('#wptb-apply-inner-border').css('margin-bottom', '0');\r\n                    $('.wptb-preview-table td').css(styles);\r\n                    $('#wptb-inner-border-settings').fadeIn();\r\n                } else {\r\n                    $('#wptb-inner-border-settings').fadeOut();\r\n                    $('.wptb-preview-table td').css('border', '');\r\n                }\r\n\r\n            }\r\n\r\n            //Binding Checkbox Change, triggers inner border add.\r\n            $('#wptb-inner-border-check').bind('change', function () {\r\n                var _val = $(this).is(':checked') ? 'checked' : 'unchecked';\r\n                addInnerBorder(_val);\r\n            });\r\n\r\n            //Triggers when cell padding setting changes.\r\n            function addInnerBorderSize(value) {\r\n                var styles = {\r\n                    border: value + 'px solid'\r\n                };\r\n                $('.wptb-preview-table td').css(styles);\r\n            }\r\n\r\n            //Binds the range slider and input, also triggers cell padding change.\r\n            $('#wptb-table-inner-border-slider').bind('input change', function () {\r\n                $('#wptb-table-inner-border-number').val($(this).val());\r\n                addInnerBorderSize($(this).val());\r\n            });\r\n\r\n            //Binds the range slider and input, also triggers cell padding change.\r\n            $('#wptb-table-inner-border-number').bind('input change', function () {\r\n                $('#wptb-table-inner-border-slider').val($(this).val());\r\n                addInnerBorderSize($(this).val());\r\n            });\r\n\r\n        });\r\n\r\n    });\r\n\r\n    //When dragging starts for Text element\r\n    function textDragStart(event) {\r\n        wptbElement = 'text';\r\n        var el = $(this);\r\n        event.originalEvent.dataTransfer.effectAllowed = 'move';\r\n        event.originalEvent.dataTransfer.setData(\"text/plain\", event.target.getAttribute('id'));\r\n    }\r\n\r\n    //When dragging starts for Image element\r\n    function imageDragStart(event) {\r\n        wptbElement = 'image';\r\n        var el = $(this);\r\n        event.originalEvent.dataTransfer.effectAllowed = 'move';\r\n        event.originalEvent.dataTransfer.setData(\"text/plain\", event.target.getAttribute('id'));\r\n    }\r\n\r\n    //When dragging starts for Button element\r\n    function buttonDragStart(event) {\r\n        wptbElement = 'button';\r\n        var el = $(this);\r\n        event.originalEvent.dataTransfer.effectAllowed = 'move';\r\n        event.originalEvent.dataTransfer.setData(\"text/plain\", event.target.getAttribute('id'));\r\n    }\r\n\r\n    //When dragging starts for List element\r\n    function listDragStart(event) {\r\n        wptbElement = 'list';\r\n        var el = $(this);\r\n        event.originalEvent.dataTransfer.effectAllowed = 'move';\r\n        event.originalEvent.dataTransfer.setData(\"text/plain\", event.target.getAttribute('id'));\r\n    }\r\n\r\n    //On drag elements.\r\n    $('#wptb-text').on('dragstart', textDragStart);\r\n    $('#wptb-image').on('dragstart', imageDragStart);\r\n    $('#wptb-button').on('dragstart', buttonDragStart);\r\n    $('#wptb-list').on('dragstart', listDragStart);\r\n\r\n});\r\n"]}