{"version":3,"sources":["functions.button.js","functions.image.js","functions.list.js","functions.miscellaneous.js","functions.table.js","functions.text.js","wptb-builder.js"],"names":["$","window","deleteButton","event","act","parentNode","el","removeChild","add_Elements_tab","copyButton","td","target","copy","newButton","childNodes","innerHTML","appendChild","showButtonSettings","classList","add","btnDelete","document","createElement","btnCopy","actions","previous","i","onclick","hideButtonSettings","formerActions","getElementsByClassName","par","remove","text","elButton","elButton2","el_B","undefined","onmouseenter","onmouseleave","wptb_num","addElementOptions","tinyMCE","init","inline","plugins","dialog_type","theme","menubar","fixed_toolbar_container","toolbar","setup","ed","on","execCommand","init_instance_callback","editor","e","getContent","setContent","range","selection","getRng","KeyID","keyCode","startOffset","preventDefault","jQuery","copyImage","srcList","newList","cloneNode","container","listItems","querySelectorAll","showListSettings","hideListSettings","length","cont","showListItemSettings","hideListItemSettings","id","tinyFastCall","onkeyup","listItemKeyListener","infArr","className","match","elName","oldClass","oldClassOptionsPanelClass","newOptionsPanel","clone","oldOptionsPanel","querySelector","newClass","newClassOptionsPanelClass","removeClass","addClass","showImageSettings","list","tdContainer","trigger","copyList","append","hideImageSettings","parent","newImage","imgWrap","imgBtn","Medialibrary","click","button","frame","selectedId","state","get","wp","media","attachment","open","title","multiple","models","first","toJSON","url","wrapper","img","prop","css","changeImageBtn","temp","push","deleteList","item","article","content","html","duplicate","newListItem","innerElements","elList","el_L","divdot","divcontent","libullet","key","which","liEl","lastP","dontAddItems","after","focus","trim","getElementById","getElementsByTagName","style","display","Element_options_tab","children","wptbElement","listener_to_element","find","wpColorPicker","element","data","val","setInterval","value","old_value","tryToChangeMCEWidth","totalWidth","offsetWidth","currentEditor","scrollTop","bodyElement","position","right","top","obj","paste_as_text","inputNumber","min","max","els","dec","previousSibling","inc","nextSibling","decrement","increment","onmousedown","selectedCells","initTable","settings","table","columnCount","parseInt","rowCount","row","insertRow","headerCell","createCell","dataset","yIndex","xIndex","j","wptbTable","bindKeydownHandler","bindClickHandler","cell","allowDrop","currentTarget","type","stopPropagation","ondrop","textEl","newText","listEl","ondragenter","ondragleave","ondragover","selectIndividualCell","startCellSelection","onmouseover","goOnWithCellSelection","onmouseup","endCellSelection","activeColumn","activeRow","undoAllPreviousHighlights","activateIndividualActions","deactivateNoneActions","deactivateGroupActions","highlightRow","highlightColumn","buttons","activateNoneActions","inputs","disabled","activateGroupActions","deactivateIndividualActions","parentRow","classToAdd","ttd","index","console","log","tr","selectMode","onkeydown","setTimeout","$this","contains","el_options","hasClass","parents","attr","optionsClass","show","sliders","onchange","numbers","is","addRow","addColumn","deleteRow","deleteColumn","pos","evt","recalculateIndexes","trs","tds","class","addRowBefore","referenceRow","newrow","insertBefore","addRowAfter","addColumnBefore","referenceTd","newTd","addColumnAfter","num","tbody","mergeCells","splitCells","copyText","deleteText","showTextSettings","hideTextSettings","elText","elText2","elP","Array","ready","onready","detect_element_for_property","option","classes","editing_property","bullets","listStyleType","toLowerCase","body","addBorder","border","addCellPadding","tableCells","padding","addInnerBorder","checked","styles","marginBottom","_val","addInnerBorderSize","itemDragStart","substring","dataTransfer","effectAllowed","setData","getAttribute","ondragstart"],"mappings":"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","file":"admin.js","sourcesContent":["(function ($) {\r\n\r\n    window.deleteButton = function (event) {\r\n        var act = this.parentNode.parentNode,\r\n            el = act.parentNode;\r\n        el.removeChild(act);\r\n        window.add_Elements_tab();\r\n    };\r\n\r\n    window.copyButton = function (event) {\r\n        var td = event.target.parentNode.parentNode.parentNode,\r\n            copy = newButton(event.target.parentNode.parentNode.childNodes[0].innerHTML);\r\n        td.appendChild(copy);\r\n    };\r\n\r\n    window.showButtonSettings = function (event) {\r\n        this.classList.add('wptb-directlyhovered');\r\n        var btnDelete = document.createElement('span'),\r\n            btnCopy = document.createElement('span'),\r\n            actions = document.createElement('span'),\r\n            previous, i;\r\n        actions.classList.add('wptb-actions');\r\n        btnDelete.classList.add('dashicons', 'dashicons-trash', 'delete-action');\r\n        btnCopy.classList.add('dashicons', 'dashicons-admin-page', 'duplicate-action');\r\n        btnDelete.onclick = window.deleteButton;\r\n        btnCopy.onclick = window.copyButton;\r\n        actions.appendChild(btnCopy);\r\n        actions.appendChild(btnDelete);\r\n        this.appendChild(actions);\r\n    };\r\n\r\n    window.hideButtonSettings = function (event) {\r\n        var formerActions = this.getElementsByClassName('wptb-actions');\r\n        if (formerActions && formerActions[0]) {\r\n            let par = formerActions[0].parentNode;\r\n            par.removeChild(formerActions[0]);\r\n        }\r\n        this.classList.remove('wptb-directlyhovered');\r\n    };\r\n\r\n    window.newButton = function (text) {\r\n        var elButton = document.createElement('div');\r\n        elButton.classList.add('wptb-button-container');\r\n        var elButton2 = document.createElement('div');\r\n        elButton2.classList.add('wptb-button-wrapper');\r\n        var el_B = document.createElement('p');\r\n        el_B.classList.add('wptb-button');\r\n        el_B.classList.add('editable');\r\n        el_B.innerHTML = text != undefined ? text : 'Button Text';\r\n        elButton2.appendChild(el_B);\r\n        elButton.appendChild(elButton2);\r\n        elButton.onmouseenter = showButtonSettings;\r\n        elButton.onmouseleave = hideButtonSettings;\r\n        elButton.classList.add('wptb-ph-element', 'wptb-element-button-' +\r\n            window.wptb_num['button']);\r\n        window.addElementOptions('button', elButton);\r\n        window.wptb_num['button']++;\r\n        tinyMCE.init({\r\n            target: el_B,\r\n            inline: true,\r\n            plugins: \"link\",\r\n            dialog_type: \"modal\",\r\n            theme: 'modern',\r\n            menubar: false,\r\n            fixed_toolbar_container: '#wpcd_fixed_toolbar',\r\n            toolbar: 'bold italic strikethrough',\r\n            setup: function (ed) {\r\n                ed.on(\"init\",\r\n                    function (ed) {\r\n                        tinyMCE.execCommand('mceRepaint');\r\n                    }\r\n                );\r\n            },\r\n            init_instance_callback: function (editor) {\r\n                editor.on('change', function (e) {\r\n                    // check if it becomes empty because if there's no value it's hard to edit the editor in button element\r\n                    if (editor.getContent() == \"\") {\r\n                        editor.setContent(\"<p class='wptb-button'>Button Text</p>\");\r\n                    }\r\n                });\r\n                editor.on('KeyDown', function (e) {\r\n                    var range = editor.selection.getRng();\r\n                    var KeyID = e.keyCode;\r\n                    if (range.startOffset == 0 && (KeyID == 8 || KeyID == 46)) {\r\n                        e.preventDefault();\r\n                        editor.setContent(\"<p class='wptb-button'></p>\");\r\n                    }\r\n                });\r\n            }\r\n        });\r\n\r\n        return elButton;\r\n    }\r\n\r\n})(jQuery);","(function ($) {\r\n\r\n    window.copyImage = function (event) {\r\n        var srcList = event.target.parentNode.parentNode,\r\n            newList = srcList.cloneNode(true),\r\n            container = srcList.parentNode,\r\n            listItems = newList.querySelectorAll('article');\r\n        newList.onmouseenter = showListSettings;\r\n        newList.onmouseleave = hideListSettings;\r\n        for (var i = listItems.length - 1; i >= 0; i--) {\r\n            let cont = listItems[i].getElementsByClassName('wptb-list-item-content')[0];\r\n            listItems[i].onmouseenter = showListItemSettings;\r\n            listItems[i].onmouseleave = hideListItemSettings;\r\n            cont.id = '';\r\n            tinyFastCall(cont);\r\n            cont.onkeyup = listItemKeyListener;\r\n        }\r\n\r\n        var infArr = newList.className.match(/wptb-element-(.+)-(\\d)+/i),\r\n            elName = infArr[1],\r\n            oldClass = infArr[0],\r\n            oldClassOptionsPanelClass = \"wptb-options-\" + elName + \"-\" + infArr[2];\r\n\r\n        var newOptionsPanel = $('.' + oldClassOptionsPanelClass).clone(true, true),\r\n            oldOptionsPanel = document.querySelector('.' + oldClassOptionsPanelClass);\r\n        oldOptionsPanel.parentNode.appendChild(newOptionsPanel[0]);\r\n\r\n        var newClass = \"wptb-element-\" + elName + \"-\" + wptb_num['list'];\r\n        var newClassOptionsPanelClass = \"wptb-options-\" + elName + \"-\" + wptb_num['list'];\r\n\r\n        newList.classList.add(newClass);\r\n        newList.classList.remove(oldClass);\r\n\r\n        newOptionsPanel.removeClass(oldClassOptionsPanelClass);\r\n        newOptionsPanel.addClass(newClassOptionsPanelClass);\r\n\r\n        wptb_num['list']++;\r\n\r\n        container.appendChild(newList);\r\n    }\r\n\r\n    window.showImageSettings = function (event) {\r\n        var btnDelete = document.createElement('span'),\r\n            btnCopy = document.createElement('span'),\r\n            actions = document.createElement('span'),\r\n            previous, i;\r\n        actions.classList.add('wptb-actions');\r\n        btnDelete.classList.add('dashicons', 'dashicons-trash', 'delete-action');\r\n        btnCopy.classList.add('dashicons', 'dashicons-admin-page', 'duplicate-action');\r\n        delete document.getElementsByClassName('wptb-actions');\r\n        previous = document.getElementsByClassName('wptb-directlyhovered');\r\n        for (i = 0; i < previous.length; i++) {\r\n            previous[i].classList.remove('wptb-directlyhovered');\r\n        };\r\n        this.classList.add('wptb-directlyhovered');\r\n\r\n        btnDelete.onclick = function () {\r\n            var list = this.parentNode.parentNode,\r\n                tdContainer = list.parentNode;\r\n            $('#add-elements a').trigger('click');\r\n            tdContainer.removeChild(list);\r\n        };\r\n        btnCopy.onclick = copyList;\r\n\r\n        actions.append(btnCopy, btnDelete);\r\n        this.append(actions);\r\n    };\r\n\r\n    window.hideImageSettings = function (event) {\r\n        this.classList.remove('wptb-directlyhovered');\r\n        var actions = this.getElementsByClassName('wptb-actions')[0];\r\n        if (actions != undefined) {\r\n            let parent = actions.parentNode;\r\n            parent.removeChild(actions);\r\n        }\r\n    };\r\n\r\n    window.newImage = function (text) {\r\n        var imgWrap = document.createElement('div');\r\n        imgWrap.classList.add('wptb-img-wrapper');\r\n        var imgBtn = document.createElement('button');\r\n        imgBtn.classList.add('button');\r\n        imgBtn.classList.add('wptb-img-btn');\r\n        imgBtn.innerHTML = text != undefined ? text : 'Choose Image';\r\n        imgWrap.appendChild(imgBtn);\r\n        \r\n        Medialibrary(imgBtn);\r\n        $(imgBtn).click(function(){\r\n            Medialibrary(this);\r\n        });\r\n        return imgWrap\r\n    }\r\n    \r\n    window.Medialibrary = function (button){\r\n        // Set all variables to be used in scope\r\n        button.frame;\r\n        if( button.frame ){\r\n            if(button.selectedId){\r\n                // choose the selected image\r\n                var selection =  button.frame.state().get('selection');\r\n                selection.add(wp.media.attachment(button.selectedId));\r\n            }\r\n            button.frame.open();\r\n            return;\r\n        }\r\n        \r\n        // Create a new media frame\r\n        button.frame = wp.media({\r\n            title: 'Select The image',\r\n            button:{\r\n                text: 'Use this media'\r\n            },\r\n            multiple: false\r\n        });\r\n        \r\n        // When an image is selected in the media frame...\r\n        button.frame.on('select', function(){\r\n            button.selectedId = button.frame.state().get('selection').models[0].id;\r\n            var attachment = button.frame.state().get('selection').first().toJSON(),\r\n            url = attachment.url,\r\n            wrapper = button.parentNode;\r\n            \r\n            // if there's already an image\r\n           if(typeof button.img == 'object'){\r\n               $(button.img).prop('src',url);\r\n               return;\r\n           }\r\n            \r\n            // making image relative to the button in its objec\r\n            button.img = document.createElement('img');            \r\n            button.img.classList.add('wptb-ph-element');\r\n            button.img.classList.add('wptb-element-img-'+window.wptb_num[\"image\"]);\r\n            $(button.img).prop('src',url);\r\n            $(button.img).css('width','100%');\r\n            \r\n            button.innerHTML = 'Change Image';\r\n            wrapper.appendChild(button.img);\r\n            \r\n            window.wptb_num[\"image\"]++;\r\n        });\r\n    }\r\n    \r\n    window.changeImageBtn = function (button,frame){\r\n        \r\n    }\r\n\r\n})(jQuery);","(function ($) {\r\n\r\n    window.copyList = function (event) {\r\n        var td = event.target.parentNode.parentNode.parentNode,\r\n            temp = [],\r\n            srcList = event.target.parentNode.parentNode.querySelectorAll('ul article .wptb-list-item-content');\r\n\r\n        for (var i = 0; i < srcList.length; i++) {\r\n            temp.push(srcList[i].innerHTML);\r\n        }\r\n        var copy = newList(temp);\r\n        td.appendChild(copy);\r\n    }\r\n\r\n    window.deleteList = function () {\r\n        var act = this.parentNode.parentNode,\r\n            el = act.parentNode;\r\n        el.removeChild(act);\r\n        window.add_Elements_tab();\r\n    }\r\n\r\n    window.showListSettings = function (event) {\r\n        this.classList.add('wptb-directlyhovered');\r\n        var btnDelete = document.createElement('span'),\r\n            btnCopy = document.createElement('span'),\r\n            actions = document.createElement('span'),\r\n            previous, i;\r\n        actions.classList.add('wptb-actions');\r\n        btnDelete.classList.add('dashicons', 'dashicons-trash', 'delete-action');\r\n        btnCopy.classList.add('dashicons', 'dashicons-admin-page', 'duplicate-action');\r\n        btnDelete.onclick = window.deleteList;\r\n        btnCopy.onclick = window.copyList;\r\n        actions.appendChild(btnCopy);\r\n        actions.appendChild(btnDelete);\r\n        this.appendChild(actions);\r\n    };\r\n\r\n    window.hideListSettings = function (event) {\r\n        this.classList.remove('wptb-directlyhovered');\r\n        var actions = this.querySelector('.wptb-actions');\r\n        if (actions != undefined) {\r\n            let parent = actions.parentNode;\r\n            parent.removeChild(actions);\r\n        }\r\n    };\r\n\r\n    window.showListItemSettings = function (event) {\r\n        //el Article\r\n        var btnDelete = document.createElement('span'),\r\n            btnCopy = document.createElement('span'),\r\n            actions = document.createElement('span'),\r\n            previous, i;\r\n        actions.classList.add('wptb-actions');\r\n        btnDelete.classList.add('dashicons', 'dashicons-trash', 'delete-action');\r\n        btnCopy.classList.add('dashicons', 'dashicons-admin-page', 'duplicate-action');\r\n        this.classList.add('wptb-directlyhovered');\r\n\r\n        btnDelete.onclick = function () {\r\n            var item = this.parentNode.parentNode,\r\n                parent = item.parentNode;\r\n            parent.removeChild(item);\r\n        };\r\n\r\n        btnCopy.onclick = function (event) {\r\n            var article = event.target.parentNode.parentNode,\r\n                content = article.querySelector('.wptb-list-item-content'),\r\n                html = content.innerHTML;\r\n            var duplicate = newListItem(html);\r\n            article.parentNode.appendChild(duplicate);\r\n        };\r\n\r\n        actions.append(btnCopy, btnDelete);\r\n        this.appendChild(actions);\r\n    };\r\n\r\n    window.hideListItemSettings = function (event) {\r\n        this.classList.remove('wptb-directlyhovered');\r\n        var actions = this.parentNode.querySelector('.wptb-actions');\r\n        if (actions != undefined) {\r\n            let parent = actions.parentNode;\r\n            parent.removeChild(actions);\r\n        }\r\n    };\r\n\r\n    window.newList = function (innerElements) {\r\n        var elList = document.createElement('div');\r\n        //elList.classList.add('editable');\r\n        var el_L = document.createElement('ul');\r\n        if (!innerElements)\r\n            for (var i = 0; i < 3; i++) {\r\n                el_L.appendChild(newListItem('List Item ' + (i + 1)));\r\n            }\r\n        else {\r\n            for (var i = 0; i < innerElements.length; i++) {\r\n                el_L.appendChild(newListItem(innerElements[i]));\r\n            }\r\n        }\r\n        elList.appendChild(el_L);\r\n        elList.onmouseenter = showListSettings;\r\n        elList.onmouseleave = hideListSettings;\r\n        elList.classList.add('wptb-ph-element', 'wptb-element-list-' + window.wptb_num['list']);\r\n        window.addElementOptions('list', elList);\r\n        window.wptb_num['list']++;\r\n\r\n        return elList;\r\n    }\r\n\r\n    window.newListItem = function (text) {\r\n        if (text == undefined) text = 'New List Item';\r\n        var duplicate = document.createElement('article');\r\n        var divdot = document.createElement('div'),\r\n            divcontent = document.createElement('div'),\r\n            libullet = document.createElement('li');\r\n        divdot.classList.add('wptb-list-item-style-dot');\r\n        divcontent.classList.add('wptb-list-item-content');\r\n        libullet.classList.add('wptb-bullet');\r\n        duplicate.appendChild(divdot);\r\n        duplicate.appendChild(divcontent);\r\n        divdot.appendChild(libullet);\r\n        divcontent.innerHTML = text;\r\n        tinyFastCall(divcontent);\r\n        divcontent.onkeyup = window.listItemKeyListener;\r\n        divcontent.parentNode.onmouseenter = window.showListItemSettings;\r\n        divcontent.parentNode.onmouseleave = window.hideListItemSettings;\r\n        return duplicate;\r\n    }\r\n\r\n    window.listItemKeyListener = function (event) {\r\n        var key = (event.which != undefined) ? event.which :\r\n            event.keyCode,\r\n            liEl = $(this).parent(),\r\n            duplicate, lastP;\r\n        if (key !== 13 ||\r\n            (window.dontAddItems !== undefined && window.dontAddItems === true)) {\r\n            return;\r\n        }\r\n        event.preventDefault();\r\n        duplicate = newListItem();\r\n        liEl.after(duplicate);\r\n        duplicate.querySelector('.wptb-list-item-content').focus();\r\n\r\n        lastP = this.childNodes[this.childNodes.length - 1];\r\n        this.removeChild(lastP);\r\n        if (this.innerHTML.trim() == '<p><br data-mce-bogus=\"1\"></p>') {\r\n            this.innerHTML = 'New List Item';\r\n        }\r\n        return false;\r\n    };\r\n\r\n})(jQuery);","(function ($) {\r\n\r\n    window.add_Elements_tab = function () {\r\n        document.getElementById('element-options').getElementsByTagName('a')[0].classList.remove('active');\r\n        document.getElementById('add-elements').getElementsByTagName('a')[0].classList.add('active');\r\n        document.getElementsByClassName('wptb-elements-container')[0].style.display = 'table';\r\n        document.getElementsByClassName('wptb-settings-section')[0].style.display = 'block';\r\n        document.getElementById(\"element-options-group\").style.display = 'none';\r\n    };\r\n\r\n    window.Element_options_tab = function () {\r\n        document.getElementById('add-elements').getElementsByTagName('a')[0].classList.remove('active');\r\n        document.getElementById('element-options').getElementsByTagName('a')[0].classList.add('active');\r\n\r\n        document.getElementsByClassName('wptb-elements-container')[0].style.display = 'none';\r\n        document.getElementsByClassName('wptb-settings-section')[0].style.display = 'none';\r\n        document.getElementById(\"element-options-group\").style.display = 'block';\r\n        var children = document.getElementById(\"element-options-group\").childNodes;\r\n        for (var i = 0; i < children.length; i++) {\r\n            if (children[i].style)\r\n                children[i].style.display = 'none';\r\n        }\r\n    }\r\n\r\n    window.addElementOptions = function (wptbElement, el) {\r\n        var prop = $(\".wptb-\" + wptbElement + \"-options-prototype\").clone();\r\n        prop.removeClass(\"wptb-\" + wptbElement + \"-options-prototype\"); // remove prototype from the class\r\n        prop.addClass('wptb-options-' + wptbElement + \"-\" + wptb_num[wptbElement]);\r\n        document.getElementById(\"element-options-group\").appendChild(prop[0]);\r\n        //special cases to elements if needed\r\n        switch (wptbElement) {\r\n            case 'text':\r\n                listener_to_element(prop.find('.wptb-color-picker'));\r\n                prop.find('.wptb-color-picker').wpColorPicker();\r\n                break;\r\n        }\r\n        wptb_num[wptbElement]++;\r\n    };\r\n\r\n    /**\r\n     * to listen to the elements that will change dynamically\r\n     * change by other javascript code then will trigger the change event to them\r\n     * \r\n     * @param {string} element\r\n     * @returns {void}\r\n     */\r\n    window.listener_to_element = function (element) {\r\n        element.data('old_value', element.val());\r\n        window.setInterval(function () {\r\n            var value = element.val();\r\n            var old_value = element.data('old_value');\r\n            if (value != old_value) {\r\n                old_value = value;\r\n                element.trigger('change');\r\n            }\r\n        }, 300);\r\n    };\r\n\r\n    window.tryToChangeMCEWidth = function (e) {\r\n        var totalWidth = document.getElementsByClassName('wptb-builder-panel')[0].offsetWidth;\r\n\r\n        if (window.currentEditor &&\r\n            document.getElementById('wptb_builder').scrollTop >= 55 &&\r\n            window.currentEditor.bodyElement.style.display != 'none') {\r\n            document.getElementById('wpcd_fixed_toolbar').style.position = 'fixed';\r\n            document.getElementById('wpcd_fixed_toolbar').style.right = (totalWidth / 2 - document.getElementById('wpcd_fixed_toolbar').offsetWidth / 2) + 'px';\r\n            document.getElementById('wpcd_fixed_toolbar').style.top = '100px';\r\n        } else {\r\n            document.getElementById('wpcd_fixed_toolbar').style.position = 'static';\r\n            delete document.getElementById('wpcd_fixed_toolbar').style.right;\r\n            delete document.getElementById('wpcd_fixed_toolbar').style.top;\r\n        }\r\n        //if(this.scrollTop > && )\r\n        //                document.getElementById('wpcd_fixed_toolbar').style.left = 'calc(50% - '+width+')';  \r\n    };\r\n\r\n    window.tinyFastCall = function (obj) {\r\n        tinyMCE.init({\r\n            target: obj,\r\n            inline: true,\r\n            plugins: \"link, paste\",\r\n            dialog_type: \"modal\",\r\n            theme: 'modern',\r\n            menubar: false,\r\n            fixed_toolbar_container: '#wpcd_fixed_toolbar',\r\n            paste_as_text: true,\r\n            toolbar: 'bold italic strikethrough link unlink | alignleft aligncenter alignright alignjustify',\r\n            init_instance_callback: function (editor) {\r\n                window.currentEditor = editor;\r\n                editor.on('focus', function (e) {\r\n                    window.tryToChangeMCEWidth();\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    window.inputNumber = function (el) {\r\n\r\n        var min = el.min || false;\r\n        var max = el.max || false;\r\n\r\n        var els = {};\r\n\r\n        els.dec = el.previousSibling;\r\n        els.inc = el.nextSibling;\r\n\r\n        init(el);\r\n\r\n        function init(el) {\r\n\r\n            els.dec.onclick = decrement;\r\n            els.inc.onclick = increment;\r\n\r\n            els.dec.onmousedown = function (e) {\r\n                e.preventDefault();\r\n            };\r\n\r\n            els.inc.onmousedown = function (e) {\r\n                e.preventDefault();\r\n            };\r\n\r\n            function decrement() {\r\n                var value = el.value;\r\n                value--;\r\n                if (!min || value >= min) {\r\n                    el.value = value;\r\n                }\r\n            }\r\n\r\n            function increment() {\r\n                var value = el.value;\r\n                value++;\r\n                if (!max || value <= max) {\r\n                    el.value = value++;\r\n                }\r\n            }\r\n        }\r\n    }\r\n})(jQuery);","(function ($) {\r\n    window.selectedCells = [];\r\n    window.initTable = function () {\r\n\r\n        document.getElementsByClassName('wptb-table-generator')[0].style.display = 'none';\r\n        var settings = document.getElementsByClassName('wptb-settings-items');\r\n        for (var i = 0; i < settings.length; i++) {\r\n            settings[i].classList.add('visible');\r\n        }\r\n\r\n        //Add Color Picker for Row and Header Background Colors\r\n        $('#wptb-even-row-bg').wpColorPicker();\r\n        $('#wptb-odd-row-bg').wpColorPicker();\r\n        $('#wptb-table-header-bg').wpColorPicker();\r\n\r\n        //Create a HTML Table element.\r\n        var table = document.createElement('table');\r\n        table.classList.add('wptb-preview-table');\r\n\r\n        //Get the count of columns and rows.\r\n        var columnCount = parseInt(document.getElementById('wptb-columns-number').value);\r\n        var rowCount = parseInt(document.getElementById('wptb-rows-number').value);\r\n\r\n        //Add the header row.\r\n        var row = table.insertRow(-1);\r\n        for (var i = 0; i < columnCount; i++) {\r\n            var headerCell = createCell();\r\n            row.appendChild(headerCell);\r\n            row.classList.add('wptb-table-head', 'wptb-row');\r\n            headerCell.dataset.yIndex = 0;\r\n            headerCell.dataset.xIndex = i;\r\n        }\r\n\r\n        //Add the data rows.\r\n        for (var i = 1; i < rowCount; i++) {\r\n            row = table.insertRow(-1);\r\n            for (var j = 0; j < columnCount; j++) {\r\n                var headerCell = createCell();\r\n                row.appendChild(headerCell);\r\n                row.classList.add('wptb-row');\r\n                headerCell.dataset.yIndex = i;\r\n                headerCell.dataset.xIndex = j;\r\n            }\r\n        }\r\n\r\n        //Appending the table to the container in UI\r\n        var wptbTable = document.getElementsByClassName(\"wptb-table-setup\")[0];\r\n        wptbTable.innerHTML = '';\r\n        wptbTable.appendChild(table);\r\n\r\n        window.bindKeydownHandler();\r\n        window.bindClickHandler();\r\n\r\n    }\r\n\r\n    window.createCell = function () {\r\n        var cell = document.createElement(\"td\"),\r\n            allowDrop = function (event) {\r\n                event.target.classList.add('wptb-allow-drop');\r\n                event.currentTarget.classList.add('wptb-allow-drop');\r\n                if (event.type == 'dragover') {\r\n                    event.stopPropagation();\r\n                    event.preventDefault();\r\n                    return true;\r\n                }\r\n            };\r\n        cell.classList.add('wptb-droppable', 'wptb-cell');\r\n        cell.ondrop = function (event) {\r\n\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n            event.target.classList.remove('wptb-allow-drop');\r\n\r\n            if (wptbElement == 'text') {\r\n                var textEl = window.newText();\r\n                event.target.appendChild(textEl);\r\n                textEl.click();\r\n            } else if (wptbElement == 'image') {\r\n                var img = window.newImage()\r\n                event.target.appendChild(img);\r\n            } else if (wptbElement == 'button') {\r\n                var button = window.newButton();\r\n                event.target.appendChild(button);\r\n                button.click();\r\n            } else if (wptbElement == 'list') {\r\n                var listEl = window.newList();\r\n                event.target.appendChild(listEl);\r\n                listEl.click();\r\n            }\r\n        };\r\n        cell.ondragenter = allowDrop;\r\n        cell.ondragleave = function (event) {\r\n            event.target.classList.remove('wptb-allow-drop');\r\n        };\r\n        cell.ondragover = allowDrop;\r\n        cell.onclick = selectIndividualCell;\r\n        cell.onmousedown = startCellSelection;\r\n        cell.onmouseover = goOnWithCellSelection;\r\n        cell.onmouseup = endCellSelection;\r\n        return cell;\r\n    }\r\n\r\n    window.selectIndividualCell = function () {\r\n\r\n        for (var i = 0; i < selectedCells.length; i++) {\r\n            selectedCells[i].classList.remove('highlighted');\r\n        }\r\n\r\n        window.selectedCells = [this];\r\n        window.activeColumn = this.dataset.xIndex;\r\n        window.activeRow = this.dataset.yIndex;\r\n        undoAllPreviousHighlights();\r\n        activateIndividualActions();\r\n        deactivateNoneActions();\r\n        deactivateGroupActions();\r\n        highlightRow(this);\r\n        highlightColumn(this);\r\n        this.classList.add('highlighted');\r\n        var buttons = document.getElementsByClassName('wptb-relative-action');\r\n        for (var i = 0; i < buttons.length; i++) {\r\n            buttons[i].dataset.xIndex = this.dataset.xIndex;\r\n            buttons[i].dataset.yIndex = this.dataset.yIndex;\r\n        }\r\n    }\r\n\r\n    window.undoAllPreviousHighlights = function () {\r\n        var table = document.getElementsByClassName('wptb-preview-table')[0],\r\n            columnCount = parseInt(document.getElementById('wptb-columns-number').value),\r\n            rowCount = parseInt(document.getElementById('wptb-rows-number').value);\r\n        for (var i = 0; i < rowCount; i++) {\r\n            var row = table.getElementsByTagName('tr')[i];\r\n            for (var j = 0; j < columnCount; j++) {\r\n                row.getElementsByTagName('td')[j].classList.remove(\r\n                    'highlighted',\r\n                    'highlighted-row-first',\r\n                    'highlighted-row-inner',\r\n                    'highlighted-row-last',\r\n                    'highlighted-column-first',\r\n                    'highlighted-column-inner',\r\n                    'highlighted-column-last'\r\n                );\r\n                //window.activeRow = window.activeColumn = undefined;\r\n                window.selectedCells = [];\r\n            }\r\n        }\r\n    };\r\n\r\n    window.activateNoneActions = function () {\r\n\r\n        var inputs = document.getElementsByClassName('none');\r\n        for (var i = 0; i < inputs.length; i++) {\r\n            inputs[i].disabled = false;\r\n        }\r\n    };\r\n\r\n    window.deactivateNoneActions = function () {\r\n\r\n        var inputs = document.getElementsByClassName('none');\r\n        for (var i = 0; i < inputs.length; i++) {\r\n            inputs[i].disabled = true;\r\n        }\r\n    };\r\n\r\n    window.activateIndividualActions = function () {\r\n\r\n        var inputs = document.getElementsByClassName('individual');\r\n        for (var i = 0; i < inputs.length; i++) {\r\n            inputs[i].disabled = false;\r\n        }\r\n\r\n    };\r\n\r\n    window.deactivateGroupActions = function () {\r\n\r\n        var inputs = document.getElementsByClassName('group');\r\n        for (var i = 0; i < inputs.length; i++) {\r\n            inputs[i].disabled = true;\r\n        }\r\n    };\r\n\r\n    window.activateGroupActions = function () {\r\n\r\n        var inputs = document.getElementsByClassName('group');\r\n        for (var i = 0; i < inputs.length; i++) {\r\n            inputs[i].disabled = false;\r\n        }\r\n    };\r\n\r\n    window.deactivateIndividualActions = function () {\r\n\r\n        var inputs = document.getElementsByClassName('individual');\r\n        for (var i = 0; i < inputs.length; i++) {\r\n            inputs[i].disabled = true;\r\n        }\r\n    };\r\n\r\n    window.highlightRow = function (td) {\r\n        var parentRow = td.parentNode,\r\n            columnCount = parseInt(document.getElementById('wptb-columns-number').value);\r\n        for (var i = 0; i < columnCount; i++) {\r\n            var classToAdd = (i == 0 ? 'highlighted-row-first' :\r\n                (i == columnCount - 1 ? 'highlighted-row-last'\r\n                    : 'highlighted-row-inner'));\r\n            var ttd = parentRow.getElementsByTagName('td')[i];\r\n            if (ttd !== td) {\r\n                ttd.classList.add(classToAdd);\r\n            }\r\n        }\r\n    };\r\n\r\n    window.highlightColumn = function (td) {\r\n\r\n        var index,\r\n            parentRow = td.parentNode;\r\n        columnCount = parseInt(document.getElementById('wptb-columns-number').value),\r\n            rowCount = parseInt(document.getElementById('wptb-rows-number').value),\r\n            table = document.getElementsByClassName('wptb-preview-table')[0];\r\n        for (var i = 0; i < columnCount; i++) {\r\n            if (parentRow.getElementsByTagName('td')[i] === td) {\r\n                index = i;\r\n                break;\r\n            }\r\n        }\r\n\r\n        console.log('Actual value of index', index);\r\n\r\n        for (var i = 0; i < rowCount; i++) {\r\n            var classToAdd = (i == 0 ? 'highlighted-column-first' :\r\n                (i == rowCount - 1 ? 'highlighted-column-last'\r\n                    : 'highlighted-column-inner'));\r\n            var tr = table.getElementsByTagName('tr')[i];\r\n            if (tr.getElementsByTagName('td')[index] !== td) {\r\n                tr.getElementsByTagName('td')[index].classList.add(classToAdd);\r\n            }\r\n        }\r\n    };\r\n\r\n    window.startCellSelection = function () {\r\n        this.classList.add('highlighted');\r\n        window.selectMode = true;\r\n        window.selectedCells.push(this);\r\n    };\r\n\r\n    window.goOnWithCellSelection = function () {\r\n        if (window.selectMode) {\r\n            this.classList.add('highlighted');\r\n            window.selectedCells.push(this);\r\n        }\r\n    };\r\n\r\n    window.endCellSelection = function () {\r\n        window.selectMode = false;\r\n    };\r\n\r\n\r\n\r\n    window.bindKeydownHandler = function () {\r\n        document.onkeydown = function (e) {\r\n            if (e.target.className === 'mce-textbox') {\r\n                window.dontAddItems = true;\r\n                if (event.which === 13 || event.which === 27) {\r\n                    setTimeout(function () {\r\n                        window.dontAddItems = false;\r\n                        document.querySelector('.wptb-list-item-content.mce-edit-focus').click();\r\n                    }, 250);\r\n                }\r\n            }\r\n        };\r\n    };\r\n\r\n    window.bindClickHandler = function () {\r\n\r\n        /*\r\n            * event click to the whole document and then check if it's to one\r\n            * the created element to show it's option\r\n            */\r\n        document.onclick = function (e) {\r\n            setTimeout(\r\n                function () {\r\n                    //window.tryToChangeMCEWidth();\r\n                }, 500);\r\n            var $this = $(e.target);\r\n\r\n            if (e.target.classList.contains('wptb-admin-container')) {\r\n                console.log('Click out of the table');\r\n                undoAllPreviousHighlights();\r\n                activateNoneActions();\r\n                deactivateIndividualActions();\r\n                deactivateGroupActions();\r\n            }\r\n\r\n            if (e.target.className.match(/delete-action/)) {\r\n                return;\r\n            }\r\n            if (e.target.id.match(/mceu_([0-9])*-button/)) {\r\n                window.dontAddItems = false;\r\n            }\r\n\r\n            var el_options = false; // this var will carry the element that will be shown its options\r\n\r\n            // check if this element or one of it's parent should display its options\r\n            if ($this.hasClass('wptb-ph-element')) {\r\n                el_options = $this;\r\n            } else if ($this.parents().hasClass('wptb-ph-element')) {\r\n                el_options = $this.parents('.wptb-ph-element');\r\n            }\r\n\r\n            // check to show element's options\r\n            if (el_options && el_options.length != 0) {\r\n                window.Element_options_tab();\r\n\r\n                /**\r\n                 * will carry the extracted infotrmation from the class\r\n                 * @example class => wptb-ph-element wptb-element-text-0\r\n                 *          result => [\r\n                 *              0 => wptb-element-text-0\r\n                 *              1 => text-0\r\n                 *              2 => text-\r\n                 *          ]\r\n                 * @type array\r\n                 */\r\n                var infArr = el_options.attr('class').match(/wptb-element-((.+-)\\d+)/i);\r\n\r\n                /*\r\n                 * will carry the class name of the element's options\r\n                 * @example wptb-text-options wptb-options-text-0\r\n                 * @type String\r\n                 */\r\n                var optionsClass = '.wptb-' + infArr[2] + 'options' +\r\n                    '.wptb-options-' + infArr[1];\r\n                $(optionsClass).show();\r\n\r\n                //Binds the range slider and input for text font size.\r\n                var sliders = document.getElementsByClassName('wptb-text-font-size-slider');\r\n                for (var i = 0; i < sliders.length; i++) {\r\n                    sliders[i].onchange = function () {\r\n                        this.parentNode.parentNode.childNodes[3].childNodes[1].value = this.value;\r\n                    }\r\n                }\r\n\r\n                //Binds the range slider and input for text font size.\r\n                var numbers = document.getElementsByClassName('wptb-text-font-size-number');\r\n                for (var i = 0; i < numbers.length; i++) {\r\n                    numbers[i].onchange = function () {\r\n                        this.parentNode.parentNode.childNodes[1].childNodes[1].value = this.value;\r\n                    }\r\n                }\r\n            } else {\r\n                //show the add elements option\r\n                if ($this.is('#add-elements') ||\r\n                    $this.parents('#add-elements').length !== 0 ||\r\n                    $this.hasClass('wptb-builder-panel') ||\r\n                    $this.parents('.wptb-builder-panel').length !== 0) {\r\n                    window.add_Elements_tab();\r\n                }\r\n            }\r\n        };\r\n\r\n        document.getElementById('wptb-add-end-row').onclick = addRow('end');\r\n        document.getElementById('wptb-add-start-row').onclick = addRow('start');\r\n        document.getElementById('wptb-add-end-column').onclick = addColumn('end');\r\n        document.getElementById('wptb-add-start-column').onclick = addColumn('start');\r\n        document.getElementById('wptb-delete-row').onclick = deleteRow;\r\n        document.getElementById('wptb-delete-column').onclick = deleteColumn;\r\n\r\n    };\r\n\r\n    window.addRow = function (pos) {\r\n\r\n        if (typeof pos == 'string' && pos == 'end')\r\n            return function (evt) {\r\n                var columnCount = parseInt(document.getElementById('wptb-columns-number').value),\r\n                    rowCount = parseInt(document.getElementById('wptb-rows-number').value),\r\n                    table = document.getElementsByClassName('wptb-preview-table')[0];\r\n                row = table.insertRow(-1);\r\n                for (var j = 0; j < columnCount; j++) {\r\n                    var headerCell = createCell();\r\n                    row.appendChild(headerCell);\r\n                    headerCell.dataset.yIndex = rowCount;\r\n                    headerCell.dataset.xIndex = j;\r\n                }\r\n                row.classList.add('wptb-row');\r\n                document.getElementById('wptb-rows-number').value = rowCount + 1;\r\n            }\r\n        if (typeof pos == 'string' && pos == 'start')\r\n            return function (evt) {\r\n                var columnCount = parseInt(document.getElementById('wptb-columns-number').value),\r\n                    rowCount = parseInt(document.getElementById('wptb-rows-number').value),\r\n                    table = document.getElementsByClassName('wptb-preview-table')[0];\r\n                row = table.insertRow(0);\r\n                for (var j = 0; j < columnCount; j++) {\r\n                    var headerCell = createCell();\r\n                    row.appendChild(headerCell);\r\n                    headerCell.dataset.yIndex = rowCount;\r\n                    headerCell.dataset.xIndex = j;\r\n                }\r\n                row.classList.add('wptb-row');\r\n                document.getElementById('wptb-rows-number').value = rowCount + 1;\r\n            }\r\n    };\r\n\r\n    window.addColumn = function (pos) {\r\n\r\n        if (typeof pos == 'string' && pos == 'end')\r\n            return function (evt) {\r\n                var columnCount = parseInt(document.getElementById('wptb-columns-number').value),\r\n                    rowCount = parseInt(document.getElementById('wptb-rows-number').value),\r\n                    table = document.getElementsByClassName('wptb-preview-table')[0];\r\n                for (var i = 0; i < rowCount; i++) {\r\n                    var headerCell = createCell();\r\n                    table.getElementsByTagName('tr')[i].appendChild(headerCell);\r\n                    headerCell.dataset.yIndex = i;\r\n                    headerCell.dataset.xIndex = columnCount;\r\n                }\r\n                document.getElementById('wptb-columns-number').value = columnCount + 1;\r\n            }\r\n        if (typeof pos == 'string' && pos == 'start')\r\n            return function (evt) {\r\n                var columnCount = parseInt(document.getElementById('wptb-columns-number').value),\r\n                    rowCount = parseInt(document.getElementById('wptb-rows-number').value),\r\n                    table = document.getElementsByClassName('wptb-preview-table')[0];\r\n                for (var i = 0; i < rowCount; i++) {\r\n                    var headerCell = createCell();\r\n                    table.getElementsByTagName('tr')[i].innerHTML = '<td class=\"wptb-droppable wptb-cell\"></td>' + table.getElementsByTagName('tr')[i].innerHTML;\r\n                    headerCell.dataset.yIndex = i;\r\n                    headerCell.dataset.xIndex = 0;\r\n                }\r\n                document.getElementById('wptb-columns-number').value = columnCount + 1;\r\n            }\r\n    };\r\n\r\n    window.recalculateIndexes = function () {\r\n        var table = document.getElementsByClassName('wptb-preview-table')[0],\r\n            trs = table.getElementsByTagName('tr');\r\n        for (var i = 0; i < trs.length; i++) {\r\n            var tds = trs[i].getElementsByTagName('td');\r\n            for (var j = 0; j < tds.length; j++) {\r\n\r\n                if (i == 0) {\r\n                    tds[j].parentNode.class = '';\r\n                    tds[j].parentNode.classList.add('wptb-row', 'wptb-table-head');\r\n                }\r\n                else {\r\n                    tds[j].parentNode.class = '';\r\n                    tds[j].parentNode.classList.add('wptb-row');\r\n                }\r\n\r\n                tds[j].dataset.xIndex = j;\r\n                tds[j].dataset.yIndex = i;\r\n            }\r\n        }\r\n    };\r\n\r\n\r\n    window.addRowBefore = function () {\r\n        var table = document.getElementsByClassName('wptb-preview-table')[0],\r\n            referenceRow = table.getElementsByTagName('tr')[this.dataset.yIndex],\r\n            columnCount = parseInt(document.getElementById('wptb-columns-number').value),\r\n            newrow = document.createElement('tr');\r\n        for (var j = 0; j < columnCount; j++) {\r\n            var headerCell = createCell();\r\n            newrow.appendChild(headerCell);\r\n        }\r\n        table.childNodes[0].insertBefore(newrow, referenceRow);\r\n        recalculateIndexes();\r\n        document.getElementById('wptb-rows-number').value = rowCount + 1;\r\n        var buttons = document.getElementsByClassName('wptb-relative-action');\r\n        for (var i = 0; i < buttons.length; i++) {\r\n            buttons[i].dataset.yIndex++;\r\n        }\r\n    };\r\n\r\n    window.addRowAfter = function () {\r\n        var table = document.getElementsByClassName('wptb-preview-table')[0],\r\n            columnCount = parseInt(document.getElementById('wptb-columns-number').value),\r\n            referenceRow = table.getElementsByTagName('tr')[this.dataset.yIndex];\r\n        newrow = document.createElement('tr');\r\n        for (var j = 0; j < columnCount; j++) {\r\n            var headerCell = createCell();\r\n            newrow.appendChild(headerCell);\r\n        }\r\n        table.childNodes[0].insertBefore(newrow, referenceRow.nextSibling);\r\n        recalculateIndexes();\r\n        document.getElementById('wptb-rows-number').value = rowCount + 1;\r\n    };\r\n\r\n    window.addColumnBefore = function () {\r\n        var table = document.getElementsByClassName('wptb-preview-table')[0],\r\n            rowCount = parseInt(document.getElementById('wptb-rows-number').value),\r\n            columnCount = parseInt(document.getElementById('wptb-columns-number').value);\r\n        for (var i = 0; i < rowCount; i++) {\r\n            var referenceTd = table\r\n                .getElementsByTagName('tr')[i]\r\n                .getElementsByTagName('td')[this.dataset.xIndex],\r\n                newTd = createCell();\r\n            table.getElementsByTagName('tr')[i].insertBefore(newTd, referenceTd);\r\n        }\r\n        recalculateIndexes();\r\n        var buttons = document.getElementsByClassName('wptb-relative-action');\r\n        for (var i = 0; i < buttons.length; i++) {\r\n            buttons[i].dataset.xIndex++;\r\n        }\r\n        document.getElementById('wptb-columns-number').value = columnCount + 1;\r\n    };\r\n\r\n    window.addColumnAfter = function () {\r\n        var table = document.getElementsByClassName('wptb-preview-table')[0],\r\n            rowCount = parseInt(document.getElementById('wptb-rows-number').value),\r\n            columnCount = parseInt(document.getElementById('wptb-columns-number').value);\r\n        for (var i = 0; i < rowCount; i++) {\r\n            var referenceTd = table\r\n                .getElementsByTagName('tr')[i]\r\n                .getElementsByTagName('td')[this.dataset.xIndex],\r\n                newTd = createCell();\r\n            table.getElementsByTagName('tr')[i].insertBefore(newTd, referenceTd.nextSibling);\r\n        }\r\n        recalculateIndexes();\r\n        document.getElementById('wptb-columns-number').value = columnCount + 1;\r\n    };\r\n\r\n    window.deleteRow = function () {\r\n        var num = window.activeRow,\r\n            table = document.getElementsByClassName('wptb-preview-table')[0],\r\n            row = table.getElementsByTagName('tr')[num],\r\n            rowCount = parseInt(document.getElementById('wptb-rows-number').value),\r\n            tbody = row.parentNode;\r\n        if ((rowCount == 1 && columnCount == 1) || tbody == undefined) {\r\n            return;\r\n        }\r\n        tbody.removeChild(row);\r\n        document.getElementById('wptb-rows-number').value = rowCount - 1;\r\n        undoAllPreviousHighlights();\r\n    };\r\n\r\n    window.deleteColumn = function () {\r\n        var table = document.getElementsByClassName('wptb-preview-table')[0],\r\n            num = window.activeColumn,\r\n            rowCount = parseInt(document.getElementById('wptb-rows-number').value),\r\n            columnCount = parseInt(document.getElementById('wptb-columns-number').value);\r\n        if ((rowCount == 1 && columnCount == 1)) {\r\n            return;\r\n        }\r\n        for (var i = 0; i < rowCount; i++) {\r\n            var td = table.getElementsByTagName('tr')[i].getElementsByTagName('td')[num],\r\n                tr = td.parentNode;\r\n            tr.removeChild(td);\r\n        }\r\n        document.getElementById('wptb-columns-number').value = columnCount - 1;\r\n        undoAllPreviousHighlights();\r\n    }\r\n\r\n    window.mergeCells = function () {\r\n\r\n    }\r\n\r\n    window.splitCells = function () {\r\n\r\n    }\r\n\r\n})(jQuery);","(function ($) {\r\n\r\n    window.copyText = function (event) {\r\n        var td = event.target.parentNode.parentNode.parentNode,\r\n            copy = newText(event.target.parentNode.parentNode.childNodes[0].innerHTML);\r\n        td.appendChild(copy);\r\n    }\r\n\r\n    window.deleteText = function (evt) {\r\n        var act = this.parentNode.parentNode,\r\n            el = act.parentNode;\r\n        el.removeChild(act);\r\n        window.add_Elements_tab();\r\n    }\r\n\r\n    window.showTextSettings = function (event) {\r\n        this.classList.add('wptb-directlyhovered');\r\n        var btnDelete = document.createElement('span'),\r\n            btnCopy = document.createElement('span'),\r\n            actions = document.createElement('span'),\r\n            previous, i;\r\n        actions.classList.add('wptb-actions');\r\n        btnDelete.classList.add('dashicons', 'dashicons-trash', 'delete-action');\r\n        btnCopy.classList.add('dashicons', 'dashicons-admin-page', 'duplicate-action');\r\n        btnDelete.onclick = window.deleteText;\r\n        btnCopy.onclick = window.copyText;\r\n        actions.appendChild(btnCopy);\r\n        actions.appendChild(btnDelete);\r\n        this.appendChild(actions);\r\n    };\r\n\r\n    window.hideTextSettings = function (event) {\r\n        var formerActions = this.getElementsByClassName('wptb-actions');\r\n        if (formerActions && formerActions[0]) {\r\n            let par = formerActions[0].parentNode;\r\n            par.removeChild(formerActions[0]);\r\n        }\r\n        this.classList.remove('wptb-directlyhovered');\r\n\r\n    };\r\n\r\n    window.newText = function (text) {\r\n        var elText = document.createElement('div');\r\n        var elText2 = document.createElement('div');\r\n        elText2.classList.add('editable');\r\n        var elP = document.createElement('p');\r\n        elP.innerHTML = text != undefined ? text : 'Text';\r\n        elText2.appendChild(elP);\r\n        elText.appendChild(elText2);\r\n        elText.onmouseenter = showTextSettings;\r\n        elText.onmouseleave = hideTextSettings;\r\n        elText.classList.add('wptb-ph-element', 'wptb-element-text-' +\r\n            window.wptb_num['text']);\r\n        window.addElementOptions('text', elText);\r\n        window.wptb_num['text']++;\r\n        window.tinyFastCall(elText.childNodes[0]);\r\n        $(elText).click();\r\n        return elText;\r\n    }\r\n\r\n})(jQuery);","var wptbElement;\r\n\r\n//numbers of elements that have been added\r\nwindow.wptb_num = new Array();\r\nwindow.wptb_num[\"text\"] = 0;\r\nwindow.wptb_num[\"image\"] = 0;\r\nwindow.wptb_num[\"list\"] = 0;\r\nwindow.wptb_num[\"button\"] = 0;\r\n\r\njQuery(document).ready(function ($) {\r\n\r\n    //Column and Row number Selector.\r\n    inputNumber(document.getElementById('wptb-columns-number'));\r\n    inputNumber(document.getElementById('wptb-rows-number'));\r\n\r\n    //document.getElementById('wptb_builder').onscroll = tryToChangeMCEWidth;\r\n\r\n    //Generate table and bind associated functions.\r\n    document.onready = function () {\r\n        document.getElementById(\"wptb-generate-table\").onclick = function () {\r\n\r\n            //Runs when an element is dropped on a cell.\r\n            initTable();\r\n\r\n\r\n            /**\r\n             * this function will be called \r\n             * when a property of any elemnet is changed\r\n             * to determine which element that we should edit\r\n             * and then call edititng_property Function\r\n             * @returns {void}\r\n             */\r\n            function detect_element_for_property() {\r\n                var option = this,\r\n                    parent = option;\r\n                while (!parent.classList.contains('.wptb-element-options')) {\r\n                    parent = parent.parentNode;\r\n                }\r\n                var classes = parent.attr(\"class\");\r\n\r\n                /**\r\n                 * will carry the extracted infotrmation from the class\r\n                 * @example class =>wptb-options-text-0\r\n                 *          result => [\r\n                 *              0 => wptb-options-text-0\r\n                 *              1 => text\r\n                 *              2 => 0\r\n                 *          ]\r\n                 * @type array\r\n                 */\r\n                var infArr = classes.match(/wptb-options-(.+)-(\\d+)/i);\r\n\r\n                var type = infArr[1];\r\n                var num = infArr[2];\r\n                var element = document.querySelector('.wptb-ph-element.wptb-element-' + type + '-' + num);\r\n                editing_property(element, option);\r\n            }\r\n\r\n            /**\r\n             * will change the element according to the value of option\r\n             * \r\n             * @param {object} element that will change according to the value of option\r\n             * @param {object} option input element\r\n             * @returns {void}\r\n             */\r\n            function editing_property(element, option) {\r\n                // type of property @Ex: font-size,color ....\r\n                var type = option.data('type');\r\n                var val = option.val();\r\n                switch (type) {\r\n                    case 'font-size':\r\n                        element.find(\"p\").css('font-size', val + 'px');\r\n                        break;\r\n                    case 'color':\r\n                        element.find(\"p\").css('color', val);\r\n                        break;\r\n                    case 'list-class':\r\n                        if (val == 'unordered') {\r\n                            element.querySelector('[data-type=list-style-type]').parentNode.style.display = 'flex';\r\n                            var bullets = element.querySelectorAll('article .wptb-list-item-style-dot li');\r\n                            for (var i = 0; i < bullets.length; i++) {\r\n                                bullets[i].style.listStyleType = 'disc';\r\n                            }\r\n                            document.querySelector('[data-type=list-style-type]').value = 'disc';\r\n                        } else {\r\n                            element.querySelector('[data-type=list-style-type]').parentNode.style.display = 'none';\r\n                            var bullets = element.querySelectorAll('article .wptb-list-item-style-dot li');\r\n                            for (var i = 0; i < bullets.length; i++) {\r\n                                bullets[i].style.listStyleType = 'decimal';\r\n                            }\r\n                        }\r\n                        break;\r\n                    case 'numbering-list-style-type':\r\n                    case 'list-style-type':\r\n                        var bullets = element.querySelectorAll('article .wptb-list-item-style-dot li');\r\n                        for (var i = 0; i < bullets.length; i++) {\r\n                            bullets[i].style.listStyleType = val.toLowerCase();\r\n                        }\r\n                        break;\r\n                }\r\n            }\r\n            $(document.body).on('change input, change select', '.wptb-element-property', detect_element_for_property);\r\n\r\n            //Triggers when table border setting changes.\r\n            function addBorder(value) {\r\n                document.getElementsByClassName('wptb-preview-table')[0].style.border = value + 'px solid';\r\n            }\r\n\r\n            //Binds the range slider and input, also triggers table border change.\r\n            document.getElementById('wptb-table-border-slider').onchange = function () {\r\n                document.getElementById('wptb-table-border-number').value = this.value;\r\n                addBorder(this.value);\r\n            };\r\n\r\n            //Binds the range slider and input, also triggers table border change.\r\n            document.getElementById('wptb-table-border-number').onchange = function () {\r\n                document.getElementById('wptb-table-border-slider').value = this.value;\r\n                addBorder(this.value);\r\n            };\r\n\r\n            //Triggers when cell padding setting changes.\r\n            function addCellPadding(value) {\r\n                var tableCells = document.getElementsByClassName('wptb-preview-table')[0].getElementsByTagName('td');\r\n                for (var i = 0; i < tableCells.length; i++) {\r\n                    tableCells[i].style.padding = value + 'px';\r\n                }\r\n            }\r\n\r\n            //Binds the range slider and input, also triggers cell padding change.\r\n            document.getElementById('wptb-table-cell-slider').onchange = function () {\r\n                document.getElementById('wptb-table-cell-number').value = this.value;\r\n                addCellPadding(this.value);\r\n            };\r\n\r\n            //Binds the range slider and input, also triggers cell padding change.\r\n            document.getElementById('wptb-table-cell-number').onchange = function () {\r\n                document.getElementById('wptb-table-cell-slider').value = this.value;\r\n                addCellPadding(this.value);\r\n            };\r\n\r\n            document.getElementById('wptb-activate-cell-management-mode').onclick = function () {\r\n                if (this.value == \"Manage Cells\") {\r\n                    document.getElementsByClassName('wptb-cell-management')[0].classList.add('visible');\r\n                    this.value = \"Close Cell Management Mode\";\r\n                }\r\n                else {\r\n                    document.getElementsByClassName('wptb-cell-management')[0].classList.remove('visible');\r\n                    this.value = \"Manage Cells\";\r\n                }\r\n\r\n\r\n            }\r\n\r\n            //Triggers when apply inner border setting changes.\r\n            function addInnerBorder(checked) {\r\n                var styles;\r\n\r\n                if (checked == 'checked') {\r\n                    document.getElementById('wptb-apply-inner-border').style.marginBottom = '0px';\r\n                    var tableCells = document.getElementsByClassName('wptb-preview-table')[0].getElementsByTagName('td');\r\n                    for (var i = 0; i < tableCells.length; i++) {\r\n                        tableCells[i].style.border = '1px solid';\r\n                    }\r\n\r\n                    document.getElementById('wptb-inner-border-settings').classList.add('visible');\r\n                } else {\r\n                    document.getElementById('wptb-inner-border-settings').classList.remove('visible');\r\n                    var tableCells = document.getElementsByClassName('wptb-preview-table')[0].getElementsByTagName('td');\r\n                    for (var i = 0; i < tableCells.length; i++) {\r\n                        tableCells[i].style.border = '';\r\n                    }\r\n                }\r\n            }\r\n\r\n            //Binding Checkbox Change, triggers inner border add.\r\n            document.getElementById('wptb-inner-border-check').onchange = function () {\r\n                var _val = this.checked ? 'checked' : 'unchecked';\r\n                addInnerBorder(_val);\r\n            };\r\n\r\n            //Triggers when cell padding setting changes.\r\n            function addInnerBorderSize(value) {\r\n                var tableCells = document.getElementsByClassName('wptb-preview-table')[0].getElementsByTagName('td');\r\n                for (var i = 0; i < tableCells.length; i++) {\r\n                    tableCells[i].style.border = value + 'px solid';\r\n                }\r\n            }\r\n\r\n            //Binds the range slider and input, also triggers cell padding change.\r\n            document.getElementById('wptb-table-inner-border-slider').onchange = function () {\r\n                document.getElementById('wptb-table-inner-border-number').value = this.value;\r\n                addInnerBorderSize(this.value);\r\n            };\r\n\r\n            //Binds the range slider and input, also triggers cell padding change.\r\n            document.getElementById('wptb-table-inner-border-number').onchange = function () {\r\n                document.getElementById('wptb-table-inner-border-slider').value = this.value;\r\n                addInnerBorderSize(this.value);\r\n            };\r\n\r\n        };\r\n\r\n        document.getElementById('wptb-add-row-before').onclick = window.addRowBefore;\r\n        document.getElementById('wptb-add-row-after').onclick = window.addRowAfter;\r\n        document.getElementById('wptb-add-column-before').onclick = window.addColumnBefore;\r\n        document.getElementById('wptb-add-column-after').onclick = window.addColumnAfter;\r\n    }; // Of document.onready\r\n\r\n    //When dragging starts for Text element\r\n    function itemDragStart(event) {\r\n        wptbElement = event.target.id.substring(5, event.target.id.length);\r\n\r\n        event.dataTransfer.effectAllowed = 'move';\r\n        event.dataTransfer.setData(\"text/plain\", event.target.getAttribute('id'));\r\n    }\r\n\r\n    //On drag elements.\r\n    document.getElementById('wptb-text').ondragstart = itemDragStart;\r\n    document.getElementById('wptb-image').ondragstart = itemDragStart;\r\n    document.getElementById('wptb-button').ondragstart = itemDragStart;\r\n    document.getElementById('wptb-list').ondragstart = itemDragStart;\r\n\r\n});"]}