{"version":3,"sources":["applyGenericItemSettings.js","wptb-builder.js","WPTB_Builder.js","WPTB_Button.js","WPTB_Cell.js","WPTB_ElementCounters.js","WPTB_ElementOptions.js","WPTB_Image.js","WPTB_Initializer.js","WPTB_LeftPanel.js","WPTB_List.js","WPTB_ListItem.js","WPTB_Settings.js","WPTB_Table.js","WPTB_Text.js"],"names":["applyGenericItemSettings","element","node","getDOMElement","index","document","counter","nextIndex","kind","listItems","onmouseenter","event","classList","add","btnDelete","createElement","btnCopy","btnMove","actions","previous","i","draggable","onclick","act","parentNode","el","removeChild","ondragstart","parent","infArr","type","className","contains","match","img","src","console","log","dataTransfer","setDragImage","setData","tinyMCE","init","target","childNodes","inline","plugins","dialog_type","theme","menubar","fixed_toolbar_container","toolbar","setup","ed","on","execCommand","init_instance_callback","editor","e","getContent","setContent","range","selection","getRng","KeyID","keyCode","startOffset","preventDefault","window","currentEditor","totalWidth","getElementsByClassName","offsetWidth","getElementById","scrollTop","bodyElement","style","display","position","right","top","paste_as_text","length","appendChild","onmouseleave","formerActions","par","remove","WPTB_ElementOptions","increment","WPTB_Builder","ElementCounters","initializer","WPTB_Initializer","settings","WPTB_Settings","addEventListener","WPTB_Button","text","DOMElement","elButton2","el_B","innerHTML","undefined","WPTB_Cell","newElementProxy","WPTB_List","WPTB_Image","WPTB_Text","relativeActions","cells","_wptbManagementModeActive","getElementsByTagName","dataset","activeCell","ondragenter","div","ondragover","ondragleave","ondrop","classId","getData","onmousedown","onmouseover","onmouseup","setCoords","y","x","yIndex","xIndex","getCoords","coords","appendElement","priv","key","elemIdClass","prop","querySelector","cloneNode","properties","optionsClass","children","optionControls","jQuery","wpColorPicker","change","ui","classe","ps","number","affectedEl","color","toString","slider","oninput","value","onchange","n_Class","num","val","alt","width","height","fontSize","bullets","querySelectorAll","listStyleType","toLowerCase","file_frame","wp","media","frames","title","button","multiple","attachment","state","get","first","toJSON","url","open","MIN_COLUMNS","MIN_ROWS","MAX_COLUMNS","MAX_ROWS","tableGenerator","body","columnsDecrementButton","columnsIncrementButton","rowsDecrementButton","rowsIncrementButton","columnsInput","rowsInput","columns","rows","WPTB_Table","WPTB_LeftPanel","table","wptbElementButtons","tableRows","tds","j","backgroundColor","tableHeader","addInnerBorderSize","tableCells","border","addCellPadding","padding","addInnerBorder","checked","styles","marginBottom","addBorderSize","_val","wptbElement","addRowToTheEnd","addRowToTheStart","addRowBefore","addRowAfter","addColumnToTheEnd","addColumnToTheStart","addColumnBefore","addColumnAfter","innerElements","el_L","item","WPTB_ListItem","divdot","divcontent","libullet","onkeyup","listItemKeyListener","article","content","html","duplicate","append","onkeydown","which","lastP","dontAddItems","nextSibling","insertBefore","focus","trim","elems","effectAllowed","getAttribute","http","XMLHttpRequest","ajaxurl","t","code","params","setRequestHeader","onreadystatechange","d","readyState","status","alert","send","wptbTableSetup","row","cell","insertRow","recalculateIndexes","trs","addColumn","pos","referenceTd","newTd","_this","buttons","evt","addRow","referenceRow","tbody","active","elText2","elP"],"mappings":"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","file":"admin.js","sourcesContent":["var applyGenericItemSettings = function(element){\r\n\tvar node = element.getDOMElement(),\r\n\t\tindex = document.counter.nextIndex(element.kind),\r\n\t\tlistItems;\r\n\r\n\tnode.onmouseenter = function(event){\r\n        this.classList.add('wptb-directlyhovered');\r\n        var btnDelete = document.createElement('span'),\r\n            btnCopy = document.createElement('span'),\r\n            btnMove = document.createElement('span'),\r\n            actions = document.createElement('span'),\r\n            previous, i;\r\n        actions.classList.add('wptb-actions');\r\n        btnDelete.classList.add('dashicons', 'dashicons-trash', 'delete-action');\r\n        btnCopy.classList.add('dashicons', 'dashicons-admin-page', 'duplicate-action');\r\n        btnMove.classList.add(\"dashicons\",\"dashicons-move\", 'move-action');\r\n        btnMove.draggable = true;\r\n        btnDelete.onclick = function (event) {\r\n\t        var act = this.parentNode.parentNode,\r\n\t            el = act.parentNode;\r\n\t        el.removeChild(act); \r\n\t    };\r\n        //btnCopy.onclick = window.copyButton;\r\n        btnMove.ondragstart = function(event){\r\n        \tvar parent = this,infArr,type;\r\n\r\n        \twhile(parent.className == '' || \r\n        \t\t! parent.classList.contains('wptb-ph-element') ){\r\n        \t\tparent = parent.parentNode;\r\n        \t}\r\n\r\n\r\n        \tinfArr = parent.className.match(/wptb-element-(.+)-(\\d+)/i);\r\n\t\t\ttype = infArr[1];\r\n\r\n        \tvar img = document.createElement(\"img\");\r\n        \timg.src = \"http://localhost/sandbox/wp-content/plugins/wp-table-builder/inc/admin/views/builder/icons/\"+type+\".png\";\r\n        \tconsole.log(img.src);\r\n\t\t    event.dataTransfer.setDragImage(img, 0, 0);\r\n\t\t    event.dataTransfer.setData('node','wptb-element-'+infArr[1]+'-'+infArr[2]);\r\n        \t};\r\n\r\n\r\n        if(element.kind === 'button'){\r\n        \ttinyMCE.init({\r\n\t            target: node.childNodes[0].childNodes[0],\r\n\t            inline: true,\r\n\t            plugins: \"link\",\r\n\t            dialog_type: \"modal\",\r\n\t            theme: 'modern',\r\n\t            menubar: false,\r\n\t            fixed_toolbar_container: '#wpcd_fixed_toolbar',\r\n\t            toolbar: 'bold italic strikethrough',\r\n\t            setup: function (ed) {\r\n\t                ed.on(\"init\",\r\n\t                    function (ed) {\r\n\t                        tinyMCE.execCommand('mceRepaint');\r\n\t                    }\r\n\t                );\r\n\t            },\r\n\t            init_instance_callback: function (editor) {\r\n\t                editor.on('change', function (e) {\r\n\t                    // check if it becomes empty because if there's no value it's hard to edit the editor in button element\r\n\t                    if (editor.getContent() == \"\") {\r\n\t                        editor.setContent(\"<p class='wptb-button'>Button Text</p>\");\r\n\t                    }\r\n\t                });\r\n\t                editor.on('KeyDown', function (e) {\r\n\t                    var range = editor.selection.getRng();\r\n\t                    var KeyID = e.keyCode;\r\n\t                    if (range.startOffset == 0 && (KeyID == 8 || KeyID == 46)) {\r\n\t                        e.preventDefault();\r\n\t                        editor.setContent(\"<p class='wptb-button'></p>\");\r\n\t                    }\r\n\t                });\r\n\r\n\t                window.currentEditor = editor;\r\n\t                editor.on('focus', function (e) {\r\n\t                    \r\n\t                    var totalWidth = document.getElementsByClassName('wptb-builder-panel')[0].offsetWidth;\r\n\t\t\t\t        if (window.currentEditor &&\r\n\t\t\t\t            document.getElementById('wptb_builder').scrollTop >= 55 &&\r\n\t\t\t\t            window.currentEditor.bodyElement.style.display != 'none') {\r\n\t\t\t\t            document.getElementById('wpcd_fixed_toolbar').style.position = 'fixed';\r\n\t\t\t\t            document.getElementById('wpcd_fixed_toolbar').style.right = (totalWidth / 2 - document.getElementById('wpcd_fixed_toolbar').offsetWidth / 2) + 'px';\r\n\t\t\t\t            document.getElementById('wpcd_fixed_toolbar').style.top = '100px';\r\n\t\t\t\t        } else {\r\n\t\t\t\t            document.getElementById('wpcd_fixed_toolbar').style.position = 'static';\r\n\t\t\t\t            delete document.getElementById('wpcd_fixed_toolbar').style.right;\r\n\t\t\t\t            delete document.getElementById('wpcd_fixed_toolbar').style.top;\r\n\t\t\t\t        }\r\n\t                });\r\n            \r\n\t            }\r\n\t        });\r\n        }\r\n        else if(element.kind === 'text'){\r\n        \ttinyMCE.init({\r\n\t            target: node.childNodes[0],\r\n\t            inline: true,\r\n\t            plugins: \"link, paste\",\r\n\t            dialog_type: \"modal\",\r\n\t            theme: 'modern',\r\n\t            menubar: false,\r\n\t            fixed_toolbar_container: '#wpcd_fixed_toolbar',\r\n\t            paste_as_text: true,\r\n\t            toolbar: 'bold italic strikethrough link unlink | alignleft aligncenter alignright alignjustify',\r\n\t            init_instance_callback: function (editor) {\r\n\t                window.currentEditor = editor;\r\n\t                editor.on('focus', function (e) {\r\n\t                \t\r\n\t                    var totalWidth = document.getElementsByClassName('wptb-builder-panel')[0].offsetWidth;\r\n\t\t\t\t        if (window.currentEditor &&\r\n\t\t\t\t            document.getElementById('wptb_builder').scrollTop >= 55 &&\r\n\t\t\t\t            window.currentEditor.bodyElement.style.display != 'none') {\r\n\t\t\t\t            document.getElementById('wpcd_fixed_toolbar').style.position = 'fixed';\r\n\t\t\t\t            document.getElementById('wpcd_fixed_toolbar').style.right = (totalWidth / 2 - document.getElementById('wpcd_fixed_toolbar').offsetWidth / 2) + 'px';\r\n\t\t\t\t            document.getElementById('wpcd_fixed_toolbar').style.top = '100px';\r\n\t\t\t\t        } else {\r\n\t\t\t\t            document.getElementById('wpcd_fixed_toolbar').style.position = 'static';\r\n\t\t\t\t            delete document.getElementById('wpcd_fixed_toolbar').style.right;\r\n\t\t\t\t            delete document.getElementById('wpcd_fixed_toolbar').style.top;\r\n\t\t\t\t        }\r\n\t                });\r\n\t            }\r\n\t        });\r\n\r\n        }\r\n        else{\r\n        \tlistItems = node.getElementsByClassName('wptb-list-item-content');\r\n        \tfor (var i = 0; i < listItems.length; i++) {\r\n        \t\ttinyMCE.init({\r\n\t\t            target: listItems[i],\r\n\t\t            inline: true,\r\n\t\t            plugins: \"link, paste\",\r\n\t\t            dialog_type: \"modal\",\r\n\t\t            theme: 'modern',\r\n\t\t            menubar: false,\r\n\t\t            fixed_toolbar_container: '#wpcd_fixed_toolbar',\r\n\t\t            paste_as_text: true,\r\n\t\t            toolbar: 'bold italic strikethrough link unlink | alignleft aligncenter alignright alignjustify',\r\n\t\t            init_instance_callback: function (editor) {\r\n\t\t                window.currentEditor = editor;\r\n\t\t                editor.on('focus', function (e) {\r\n\t\t                    var totalWidth = document.getElementsByClassName('wptb-builder-panel')[0].offsetWidth;\r\n\t\t\t\t        if (window.currentEditor &&\r\n\t\t\t\t            document.getElementById('wptb_builder').scrollTop >= 55 &&\r\n\t\t\t\t            window.currentEditor.bodyElement.style.display != 'none') {\r\n\t\t\t\t            document.getElementById('wpcd_fixed_toolbar').style.position = 'fixed';\r\n\t\t\t\t            document.getElementById('wpcd_fixed_toolbar').style.right = (totalWidth / 2 - document.getElementById('wpcd_fixed_toolbar').offsetWidth / 2) + 'px';\r\n\t\t\t\t            document.getElementById('wpcd_fixed_toolbar').style.top = '100px';\r\n\t\t\t\t        } else {\r\n\t\t\t\t            document.getElementById('wpcd_fixed_toolbar').style.position = 'static';\r\n\t\t\t\t            delete document.getElementById('wpcd_fixed_toolbar').style.right;\r\n\t\t\t\t            delete document.getElementById('wpcd_fixed_toolbar').style.top;\r\n\t\t\t\t        }\r\n\t\t                });\r\n\t\t            }\r\n\t\t        });\r\n        \t}\r\n        }\r\n\r\n        actions.appendChild(btnMove);\r\n        actions.appendChild(btnCopy);\r\n        actions.appendChild(btnDelete);\r\n        this.appendChild(actions);\r\n\t};\r\n\r\n\tnode.onmouseleave = function(event){\r\n\t\tvar formerActions = this.getElementsByClassName('wptb-actions');\r\n        if (formerActions && formerActions[0]) {\r\n            let par = formerActions[0].parentNode;\r\n            par.removeChild(formerActions[0]);\r\n        }\r\n        this.classList.remove('wptb-directlyhovered');\r\n\t};\r\n\r\n\tnode.classList.add('wptb-ph-element', 'wptb-element-'+element.kind+'-' +\r\n           index);\r\n\r\n\tnew WPTB_ElementOptions(element,index);\r\n\r\n\tdocument.counter.increment(element.kind);\r\n};","","(function(){  \r\n\t\r\n\tvar WPTB_Builder = function(){ \r\n\t\tdocument.counter = new ElementCounters();\r\n\r\n\t\tvar initializer = WPTB_Initializer();\r\n\t\t\tsettings = WPTB_Settings();\r\n\t};\r\n\r\n\tdocument.addEventListener('DOMContentLoaded', WPTB_Builder); \r\n})();","var WPTB_Button = function(text){\r\n        var DOMElement = document.createElement('div'),\r\n        \telButton2 = document.createElement('div'),\r\n        \tel_B = document.createElement('p');\r\n\r\n\t\tthis.kind = 'button';\r\n\r\n        DOMElement.classList.add('wptb-button-container');\r\n        elButton2.classList.add('wptb-button-wrapper');\r\n        el_B.classList.add('wptb-button');\r\n        el_B.classList.add('editable');\r\n        el_B.innerHTML = text != undefined ? text : 'Button Text';\r\n        elButton2.appendChild(el_B);\r\n        DOMElement.appendChild(elButton2);\r\n\r\n        this.getDOMElement = function (){ \r\n        \treturn DOMElement;\r\n        }\r\n\r\n        applyGenericItemSettings(this);\r\n\r\n        return this;\r\n};","var WPTB_Cell = function(DOMElement){\r\n\r\n\t\tfunction newElementProxy(el){\r\n\t\t\tif(el == 'list'){\r\n                return new WPTB_List();\r\n            }\r\n            else if(el == 'image'){\r\n                return new WPTB_Image();\r\n            }   \r\n            else if(el == 'text'){\r\n                return new WPTB_Text();\r\n            }\r\n            else if(el == 'button'){\r\n                return new WPTB_Button();\r\n            }\r\n\t\t}\r\n        \r\n        DOMElement = document.createElement(\"td\");\r\n        \r\n        DOMElement.classList.add('wptb-droppable', 'wptb-cell');  \r\n\r\n        DOMElement.onclick = function(){\r\n\r\n        \tvar relativeActions, cells;\r\n\r\n        \tif(window._wptbManagementModeActive){\r\n        \t\treturn;\r\n        \t}\r\n        \tif(this.classList.contains('wptb-highlighted')){\r\n        \t\tthis.classList.remove('wptb-highlighted');\r\n        \t}\r\n        \telse{\r\n        \t\trelativeActions = document.getElementsByClassName('wptb-relative-action');\r\n        \t\tcells = document.getElementsByTagName('td');\r\n\r\n        \t\tfor (var i = 0; i < relativeActions.length; i++) {\r\n        \t\t\tconsole.log(relativeActions[i]);\r\n        \t\t\trelativeActions[i].dataset.activeCell = this;\r\n        \t\t}\r\n\r\n        \t\tfor (var i = 0; i < cells.length; i++) {\r\n        \t\t\tcells[i].classList.remove('wptb-highlighted');\r\n        \t\t}\r\n\r\n        \t\tthis.classList.add('wptb-highlighted');\r\n\r\n        \t}\r\n        \t\r\n        };\r\n\r\n        DOMElement.ondragenter = function(){\r\n        \tvar div;\r\n        \tthis.classList.add('wptb-drop-here-empty');\r\n        }\r\n\r\n        DOMElement.ondragover = function(e){\r\n        \te.preventDefault();\r\n        }\r\n\r\n        DOMElement.ondragleave = function(){\r\n        \tthis.classList.remove('wptb-drop-here-empty');\r\n\r\n        }\r\n\r\n        DOMElement.ondrop = function(e){\r\n        \tvar element,classId;\r\n        \te.preventDefault();\r\n            if(e.dataTransfer.getData('wptbElement')){\r\n        \t   element = newElementProxy(e.dataTransfer.getData('wptbElement'));\r\n                this.appendChild(element.getDOMElement());\r\n        \t}\r\n            else{\r\n                classId = e.dataTransfer.getData('node');\r\n                element = document.getElementsByClassName(classId)[0];\r\n                this.appendChild(element);\r\n            }\r\n        \tthis.classList.remove('wptb-drop-here-empty');\r\n        \treturn true;\r\n        }\r\n\r\n        DOMElement.onmousedown = function(){\r\n\r\n        };\r\n\r\n        DOMElement.onmouseover = function(){\r\n\r\n        };\r\n\r\n        DOMElement.onmouseup = function(){\r\n\r\n        };\r\n\r\n        this.getDOMElement = function (){ \r\n        \treturn DOMElement;\r\n        }\r\n\r\n        this.setCoords = function(y,x){\r\n        \tvar el = this.getDOMElement();\r\n        \tel.dataset.yIndex = y;\r\n        \tel.dataset.xIndex = x;\r\n        }\r\n\r\n        this.getCoords = function(){\r\n        \tvar coords,\r\n        \t\tel = this.getDOMElement();\r\n        \tcoords.x = el.dataset.xIndex;\r\n        \tcoords.y = el.dataset.yIndex;\r\n        \treturn coords;\r\n        }\r\n\r\n        this.appendElement = function(node){\r\n        \tgetDOMElement().appendChild(node);\r\n        }\r\n\r\n        return this;\r\n\r\n};","var ElementCounters = function(){\r\n\tvar priv = [];\r\n\tpriv['text'] = 0;\r\n\tpriv['image'] = 0;\r\n\tpriv['list'] = 0;\r\n\tpriv['button'] = 0; \r\n\r\n\tthis.increment = function(key){\r\n\r\n\t\tif(! (key in priv) ){\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tpriv[key]++;\r\n\t}\r\n\tthis.nextIndex = function(key){\r\n\r\n\t\tif(! (key in priv) ){\r\n\t\t\treturn undefined;\r\n\t\t}\r\n\r\n\t\treturn priv[key] + 1;\r\n\t}\r\n\treturn this;\r\n};","var WPTB_ElementOptions = function(element,index){\r\n\r\n\tvar node = element.getDOMElement(), elemIdClass;\r\n\r\n\tprop = document.querySelector(\".wptb-\" + element.kind + \"-options-prototype\").cloneNode(true);\r\n    prop.classList.remove(\"wptb-\" + element.kind + \"-options-prototype\"); // remove prototype from the class\r\n    elemIdClass='wptb-options-' + element.kind + \"-\" +  index;\r\n\r\n    var properties = prop.getElementsByClassName('wptb-element-property');\r\n\r\n    for (var i = 0; i < properties.length; i++) {\r\n    \tproperties[i].dataset.element = elemIdClass;\r\n    }\r\n\r\n    prop.classList.add(elemIdClass);\r\n    document.getElementById(\"element-options-group\").appendChild(prop);\r\n\r\n    node.onclick = function(){\r\n        var infArr = this.className.match(/wptb-element-((.+-)\\d+)/i),\r\n\t\t\toptionsClass = '.wptb-' + infArr[2] + 'options' +\r\n                        '.wptb-options-' + infArr[1];\r\n\r\n    \tdocument.getElementById('add-elements').getElementsByTagName('a')[0].classList.remove('active');\r\n        document.getElementById('element-options').getElementsByTagName('a')[0].classList.add('active');\r\n\t\t\r\n\t\tdocument.getElementsByClassName('wptb-elements-container')[0].style.display = 'none';\r\n        document.getElementsByClassName('wptb-settings-section')[0].style.display = 'none';\r\n        document.getElementById(\"element-options-group\").style.display = 'block';\r\n\r\n        var children = document.getElementById(\"element-options-group\").childNodes;\r\n        for (var i = 0; i < children.length; i++) {\r\n            if (children[i].style)\r\n                children[i].style.display = 'none';\r\n        }\r\n\r\n        document.querySelector(optionsClass).style.display = 'block';\r\n    };\r\n\r\n    var optionControls = prop.getElementsByClassName('wptb-element-property');\r\n    console.log(optionControls);\r\n    for (var i = 0; i < optionControls.length; i++) {\r\n    \tif(optionControls[i].classList.contains('wptb-color-picker')){\r\n    \t\tjQuery(optionControls[i]).wpColorPicker({\r\n                change: function(event, ui){\r\n                    var parent = event.target, classe, type, ps, number;\r\n \r\n\r\n\r\n                    classe = parent.dataset.element.match(/wptb-options-(.+)-(\\d+)/i);\r\n                    type = classe[1];\r\n                    number = classe[2];\r\n                    console.log('Element','wptb-element-'+type+'-'+number);\r\n                    affectedEl = document.getElementsByClassName('wptb-element-'+type+'-'+number)[0];\r\n                    ps = affectedEl.getElementsByTagName(\"p\");\r\n                    for (var i = 0; i < ps.length; i++) {\r\n                            ps[i].style.color =  ui.color.toString();\r\n                    } \r\n                }\r\n            });\r\n    \t}\r\n\r\n        if(optionControls[i].dataset.type === 'font-size'){\r\n            var slider = optionControls[i].parentNode.parentNode.getElementsByClassName('wptb-text-font-size-slider')[0];\r\n            slider.oninput = function(){\r\n                this.parentNode.parentNode.getElementsByClassName('wptb-text-font-size-number')[0].value = this.value;\r\n                this.parentNode.parentNode.getElementsByClassName('wptb-text-font-size-number')[0].onchange();\r\n            }\r\n        }\r\n\r\n    \toptionControls[i].onchange = function(event){\r\n\r\n    \t\tvar n_Class = this.dataset.element,\r\n    \t\t\tinfArr = n_Class.match(/wptb-options-(.+)-(\\d+)/i),\r\n\t\t\t\ttype = infArr[1],\r\n                num = infArr[2],\r\n    \t\t\taffectedEl = document.getElementsByClassName('wptb-element-'+type+'-'+num)[0],\r\n    \t\t\tval = this.value;\r\n\r\n                console.log('Event triggered',this.dataset.type,this.value);\r\n\r\n    \t\tswitch(this.dataset.type){\r\n                case 'src':\r\n                        var img = affectedEl.getElementsByTagName(\"img\");\r\n                        img.src=this.value;\r\n                        break;\r\n                        break;\r\n                    case 'alternative-text':\r\n                        var img = affectedEl.getElementsByTagName(\"img\");\r\n                        img.alt=this.value;\r\n                        break;\r\n                    case 'image-width':\r\n                        var img = affectedEl.getElementsByTagName(\"img\");\r\n                        img.width=this.value+'px';\r\n                        break;\r\n                        break;\r\n                    case 'image-height':\r\n                        var img = affectedEl.getElementsByTagName(\"img\");\r\n                        img.height=this.value+'px';\r\n                        break;\r\n                        break;\r\n    \t\t\tcase 'font-size':\r\n                        var ps = affectedEl.getElementsByTagName(\"p\");\r\n                        for (var i = 0; i < ps.length; i++) {\r\n                            ps[i].style.fontSize =  val + 'px';\r\n                        }\r\n\r\n                        this.parentNode.parentNode.getElementsByClassName('wptb-text-font-size-slider')[0].value = this.value;\r\n                        \r\n                        break;\r\n                    case 'color':\r\n                        var ps = affectedEl.getElementsByTagName(\"p\");\r\n                        for (var i = 0; i < ps.length; i++) {\r\n                            ps[i].style.color =  val;\r\n                        } \r\n                        break;\r\n                    case 'list-class':\r\n                        if (val == 'unordered') {\r\n                            affectedEl.querySelector('[data-type=list-style-type]').parentNode.style.display= 'flex';\r\n                            var bullets = element.querySelectorAll('article .wptb-list-item-style-dot li');\r\n                            for (var i = 0; i < bullets.length; i++) {\r\n                                bullets[i].style.listStyleType= 'disc';\r\n                            }\r\n                            document.querySelector('[data-type=list-style-type]').value = 'disc';\r\n                        } else {\r\n                            affectedEl.querySelector('[data-type=list-style-type]').parentNode.style.display= 'none'; \r\n                            var bullets = element.querySelectorAll('article .wptb-list-item-style-dot li');\r\n                            for (var i = 0; i < bullets.length; i++) {\r\n                                bullets[i].style.listStyleType= 'decimal';\r\n                            } \r\n                        }\r\n                        break; \r\n                    case 'list-style-type':\r\n                            var bullets = element.querySelectorAll('article .wptb-list-item-style-dot li');\r\n                            for (var i = 0; i < bullets.length; i++) {\r\n                                bullets[i].style.listStyleType= val.toLowerCase();\r\n                            } \r\n                        break;\r\n    \t\t}\r\n    \t};\r\n    }\r\n};","var WPTB_Image = function(text){\r\n        var DOMElement = document.createElement('div'),\r\n        \timg = document.createElement('img');\r\n\r\n\t\tthis.kind = 'image';\r\n\r\n        DOMElement.appendChild(img);\r\n\r\n        this.getDOMElement = function (){ \r\n        \treturn DOMElement;\r\n        }\r\n        applyGenericItemSettings(this);\r\n\r\n        file_frame = wp.media.frames.file_frame = wp.media({\r\n                                        title: 'Select a image to upload',\r\n                                        button: {\r\n                                                text: 'Use this image',\r\n                                        },\r\n                                        multiple: false  \r\n                                });\r\n                                // When an image is selected, run a callback.\r\n                                file_frame.on( 'select', function() {\r\n                                        attachment = file_frame.state().get('selection').first().toJSON();\r\n                                        img.src = attachment.url; \r\n                                });\r\n                                        // Finally, open the modal\r\n        file_frame.open();\r\n\r\n        return this;\r\n};","var WPTB_Initializer = function(){\r\n\tconst MIN_COLUMNS = 1,\r\n\t\t  MIN_ROWS = 1,\r\n\t\t  MAX_COLUMNS = 10,\r\n\t\t  MAX_ROWS = 10;\r\n\r\n\tvar tableGenerator = document.body;\r\n\t\tcolumnsDecrementButton = tableGenerator.getElementsByClassName('wptb-input-number-decrement')[0],\r\n\t\tcolumnsIncrementButton = tableGenerator.getElementsByClassName('wptb-input-number-increment')[0],\r\n\t\trowsDecrementButton = tableGenerator.getElementsByClassName('wptb-input-number-decrement')[1],\r\n\t\trowsIncrementButton = tableGenerator.getElementsByClassName('wptb-input-number-increment')[1],\r\n\t\tcolumnsInput = document.getElementById('wptb-columns-number'),\r\n\t\trowsInput = document.getElementById('wptb-rows-number');\r\n\r\n\r\n\t\tcolumnsDecrementButton.onclick = function(){\r\n\t\t\tif(columnsInput.value > MIN_COLUMNS){\r\n\t\t\t\tcolumnsInput.value--;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tcolumnsIncrementButton.onclick = function(){\r\n\t\t\tif(columnsInput.value < MAX_COLUMNS){\r\n\t\t\t\tcolumnsInput.value++;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\trowsDecrementButton.onclick = function(){\r\n\t\t\tif(rowsInput.value > MIN_ROWS){\r\n\t\t\t\trowsInput.value--;\r\n\t\t\t}\r\n\t\t};\r\n\t\t\r\n\t\trowsIncrementButton.onclick = function(){\r\n\t\t\tif(rowsInput.value < MAX_ROWS){\r\n\t\t\t\trowsInput.value++;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\tdocument.getElementById('wptb-generate-table').onclick = function(){\r\n\r\n\t\t\t var columns = document.getElementById('wptb-columns-number').value,\r\n\t\t\t \t rows = document.getElementById('wptb-rows-number').value;\r\n\r\n\t\t\t WPTB_Table(columns, rows);\r\n\t\t}\r\n\r\n};","var WPTB_LeftPanel = function(){\r\n\tvar table = document.getElementsByClassName('wptb-preview-table')[0],\r\n\twptbElementButtons = document.getElementsByClassName('wptb-element');\r\n\r\n\tjQuery('#wptb-even-row-bg').wpColorPicker({\r\n\t\tchange: function(event,ui){\r\n                var tableRows = table.getElementsByTagName('tr');\r\n                for (var i = 1; i < tableRows.length; i+=2) {\r\n                \ttds = tableRows[i].getElementsByTagName('td');\r\n                \tfor (var j = 0; j < tds.length; j++) {\r\n                \t\ttds[j].style.backgroundColor = ui.color.toString();\r\n                \t} \r\n                }\r\n    \t}\r\n\t}); //3MNRVA96 \r\n    jQuery('#wptb-odd-row-bg').wpColorPicker({\r\n    \tchange: function(event,ui){\r\n                var tableRows = table.getElementsByTagName('tr');\r\n                for (var i = 2; i < tableRows.length; i+=2) {\r\n                \ttds = tableRows[i].getElementsByTagName('td');\r\n                \tfor (var j = 0; j < tds.length; j++) {\r\n                \t\ttds[j].style.backgroundColor = ui.color.toString();\r\n                \t} \r\n                }\r\n    \t}\r\n    });\r\n    jQuery('#wptb-table-header-bg').wpColorPicker({\r\n    \tchange: function(event,ui){\r\n                var tableHeader = table.getElementsByTagName('tr')[0],\r\n                \ttds = tableHeader.getElementsByTagName('td');\r\n                \tfor (var j = 0; j < tds.length; j++) {\r\n                \t\ttds[j].style.backgroundColor = ui.color.toString();\r\n                \t} \r\n    \t}\r\n    });\r\n\r\n\r\n\r\n    function addInnerBorderSize(value) {\r\n                var tableCells = table.getElementsByTagName('td');\r\n                for (var i = 0; i < tableCells.length; i++) {\r\n                    tableCells[i].style.border = value + 'px solid';\r\n                }\r\n    }\r\n\r\n    function addCellPadding(value) {\r\n                var tableCells = table.getElementsByTagName('td');\r\n                for (var i = 0; i < tableCells.length; i++) {\r\n                    tableCells[i].style.padding = value + 'px';\r\n                }\r\n    }\r\n\r\n\r\n    function addInnerBorder(checked) {\r\n                var styles;\r\n\r\n                if (checked == 'checked') {\r\n                    document.getElementById('wptb-apply-inner-border').style.marginBottom = '0px';\r\n                    var tableCells = document.getElementsByClassName('wptb-preview-table')[0].getElementsByTagName('td');\r\n                    for (var i = 0; i < tableCells.length; i++) {\r\n                        tableCells[i].style.border = '1px solid';\r\n                    }\r\n\r\n                    document.getElementById('wptb-inner-border-settings').classList.add('visible');\r\n                } else {\r\n                    document.getElementById('wptb-inner-border-settings').classList.remove('visible');\r\n                    var tableCells = document.getElementsByClassName('wptb-preview-table')[0].getElementsByTagName('td');\r\n                    for (var i = 0; i < tableCells.length; i++) {\r\n                        tableCells[i].style.border = '';\r\n                    }\r\n                }\r\n    }\r\n\r\n    function addBorderSize(value) {\r\n                table.style.border = value + 'px solid';\r\n    }\r\n\r\n    document.getElementById('wptb-table-cell-slider').oninput = function () {\r\n            document.getElementById('wptb-table-cell-number').value = this.value;\r\n            addCellPadding(this.value);\r\n    };\r\n\r\n    document.getElementById('wptb-table-cell-number').onchange = function () {\r\n            document.getElementById('wptb-table-cell-slider').value = this.value;\r\n            addCellPadding(this.value);\r\n    };\r\n\r\n    document.getElementById('wptb-table-border-slider').oninput = function () {\r\n            document.getElementById('wptb-table-border-number').value = this.value;\r\n            addBorderSize(this.value);\r\n    };\r\n\r\n    document.getElementById('wptb-table-border-number').onchange = function () {\r\n            document.getElementById('wptb-table-border-slider').value = this.value;\r\n            addBorderSize(this.value);\r\n    };\r\n\r\n    document.getElementById('wptb-table-inner-border-slider').oninput = function () {\r\n            document.getElementById('wptb-table-inner-border-number').value = this.value;\r\n            addInnerBorderSize(this.value);\r\n    };\r\n\r\n    document.getElementById('wptb-table-inner-border-number').onchange = function () {\r\n            document.getElementById('wptb-table-inner-border-slider').value = this.value;\r\n            addInnerBorderSize(this.value);\r\n    };\r\n\r\n    document.getElementById('wptb-inner-border-check').onchange = function () {\r\n                var _val = this.checked ? 'checked' : 'unchecked';\r\n                addInnerBorder(_val);\r\n            };\r\n\r\n\tfor (var i = 0; i < wptbElementButtons.length; i++) {\r\n\t\twptbElementButtons[i].ondragstart = function(e){\r\n\t\t\te.dataTransfer.setData('wptbElement',this.dataset.wptbElement);\r\n\t\t}\r\n\t}\r\n\r\n\tdocument.getElementById('wptb-add-end-row').onclick = table.addRowToTheEnd;\r\n\tdocument.getElementById('wptb-add-start-row').onclick = table.addRowToTheStart;\r\n\tdocument.getElementById('wptb-add-row-before').onclick = table.addRowBefore;\r\n\tdocument.getElementById('wptb-add-row-after').onclick = table.addRowAfter;\r\n\tdocument.getElementById('wptb-add-end-column').onclick = table.addColumnToTheEnd;\r\n\tdocument.getElementById('wptb-add-start-column').onclick = table.addColumnToTheStart;\r\n\tdocument.getElementById('wptb-add-column-before').onclick = table.addColumnBefore;\r\n\tdocument.getElementById('wptb-add-column-after').onclick = table.addColumnAfter;\r\n\tdocument.getElementById('add-elements').onclick = function(){\r\n        document.getElementById('element-options').getElementsByTagName('a')[0].classList.remove('active');\r\n        document.getElementById('add-elements').getElementsByTagName('a')[0].classList.add('active');\r\n        document.getElementsByClassName('wptb-elements-container')[0].style.display = 'table';\r\n        document.getElementsByClassName('wptb-settings-section')[0].style.display = 'block';\r\n        document.getElementById(\"element-options-group\").style.display = 'none';\r\n\t};\r\n};","var WPTB_List = function(innerElements){\r\n    \tvar el_L = document.createElement('ul'), item,\r\n\t\t\tDOMElement = document.createElement('div');\r\n\r\n\t\tthis.kind = 'list';\r\n\r\n        if (!innerElements)\r\n            for (var i = 0; i < 3; i++) {\r\n            \titem = new WPTB_ListItem('List Item ' + (i + 1));\r\n                el_L.appendChild(item.getDOMElement());\r\n            }\r\n        else {\r\n            for (var i = 0; i < innerElements.length; i++) {\r\n            \titem = new WPTB_ListItem(innerElements[i]);\r\n                el_L.appendChild(item.getDOMElement());\r\n            }\r\n        } \r\n        DOMElement.appendChild(el_L);\r\n        //window.addElementOptions('list', elList);\r\n\r\n        this.getDOMElement = function (){ \r\n        \treturn DOMElement;\r\n        }\r\n        applyGenericItemSettings(this);\r\n\r\n        return this;\r\n};","var WPTB_ListItem = function(text){\r\n\r\n        if (text == undefined) text = 'New List Item';\r\n        var DOMElement = document.createElement('article'),\r\n        \tdivdot = document.createElement('div'),\r\n            divcontent = document.createElement('div'),\r\n            libullet = document.createElement('li');\r\n        divdot.classList.add('wptb-list-item-style-dot');\r\n        divcontent.classList.add('wptb-list-item-content');\r\n        libullet.classList.add('wptb-bullet');\r\n        DOMElement.appendChild(divdot);\r\n        DOMElement.appendChild(divcontent);\r\n        divdot.appendChild(libullet);\r\n        divcontent.innerHTML = text;\r\n        divcontent.onkeyup = window.listItemKeyListener;\r\n\r\n        DOMElement.onmouseenter = function (event) {\r\n\r\n            var btnDelete = document.createElement('span'),\r\n                btnCopy = document.createElement('span'),\r\n                actions = document.createElement('span'),\r\n                previous, i;\r\n            actions.classList.add('wptb-actions');\r\n            btnDelete.classList.add('dashicons', 'dashicons-trash', 'delete-action');\r\n            btnCopy.classList.add('dashicons', 'dashicons-admin-page', 'duplicate-action');\r\n            this.classList.add('wptb-directlyhovered');\r\n\r\n            btnDelete.onclick = function () {\r\n                var item = this.parentNode.parentNode,\r\n                    parent = item.parentNode;\r\n                parent.removeChild(item);\r\n            };\r\n\r\n            btnCopy.onclick = function (event) {\r\n                var article = event.target.parentNode.parentNode,\r\n                    content = article.querySelector('.wptb-list-item-content'),\r\n                    html = content.innerHTML;\r\n                var duplicate = new WPTB_ListItem(html);\r\n                article.parentNode.appendChild(duplicate.getDOMElement());\r\n            };\r\n\r\n            actions.append(btnCopy, btnDelete);\r\n            this.appendChild(actions);\r\n        };\r\n\r\n        DOMElement.onmouseleave = function (event) {\r\n            this.classList.remove('wptb-directlyhovered');\r\n            var actions = this.parentNode.querySelector('.wptb-actions');\r\n            if (actions != undefined) {\r\n                let parent = actions.parentNode;\r\n                parent.removeChild(actions);\r\n            }\r\n        };\r\n\r\n        divcontent.onkeydown = function (event) {\r\n            var key = (event.which != undefined) ? event.which :\r\n                event.keyCode, \r\n                duplicate, lastP;\r\n            if (key !== 13 ||\r\n                (window.dontAddItems !== undefined && window.dontAddItems === true)) {\r\n                return;\r\n            }\r\n            event.preventDefault();\r\n            duplicate = new WPTB_ListItem();\r\n            if(DOMElement.nextSibling != undefined){\r\n                DOMElement.parentNode.insertBefore(duplicate.getDOMElement(),DOMElement.nextSibling);\r\n            }\r\n            else{\r\n                DOMElement.parentNode.appendChild(duplicate.getDOMElement());\r\n            }\r\n            \r\n\r\n            duplicate.getDOMElement().querySelector('.wptb-list-item-content').focus();\r\n\r\n            lastP = this.childNodes[this.childNodes.length - 1];\r\n            this.removeChild(lastP);\r\n            if (this.innerHTML.trim() == '<p><br data-mce-bogus=\"1\"></p>') {\r\n                this.innerHTML = 'New List Item';\r\n            }\r\n            return false;\r\n        };\r\n\r\n        this.getDOMElement = function (){ \r\n        \treturn DOMElement;\r\n        }\r\n\r\n        return this;\r\n\r\n};","var WPTB_Settings = function(){\r\n\t\r\n\tvar elems = document.getElementsByClassName('wptb-element');\r\n\r\n\tfor (var i = 0; i < elems.length; i++) {\r\n\t\telems[i].ondragstart = function(event){\r\n\t\tevent.dataTransfer.effectAllowed = 'move';\r\n        event.dataTransfer.setData(\"text/plain\", event.target.getAttribute('id'));\r\n\t}\r\n\t};\r\n\r\n\tdocument.getElementsByClassName('wptb-save-btn')[0].onclick = function(){\r\n\t\tvar http = new XMLHttpRequest(),\r\n        \turl = ajaxurl+\"?action=save_table\",\r\n        \tt = document.getElementById('wptb-setup-name').value, \r\n        \tcode = document.getElementsByClassName('wptb-table-setup')[0].innerHTML;\r\n        console.log('Ajax called');\r\n\t\tvar params = 'title='+t+'&content='+code;\r\n\t\thttp.open('POST', url, true);\r\n\t\thttp.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\r\n\t\thttp.onreadystatechange = function(d) {\r\n            if (this.readyState == 4 && this.status == 200) {\r\n                alert('Table was saved successfully.'+d);\r\n            }\r\n\t\t}\r\n\t\thttp.send(params);\r\n\t}\r\n};\r\n","var WPTB_Table = function(columns, rows){\r\n\t\t\t\r\n\t\t\tvar settings = document.getElementsByClassName('wptb-settings-items'),\r\n\t\t\t\twptbTableSetup = document.getElementsByClassName(\"wptb-table-setup\")[0],\r\n\t\t\t\ttable, row, cell;\r\n\r\n            for (var i = 0; i < settings.length; i++) {\r\n                settings[i].classList.add('visible');\r\n            }\r\n\r\n            document.getElementsByClassName('wptb-table-generator')[0].style.display = 'none';\r\n            \r\n\r\n            //Create a HTML Table element.\r\n            table = document.createElement('table');\r\n            table.classList.add('wptb-preview-table');\r\n\r\n\r\n            //Add the header row.\r\n            row = table.insertRow(-1);\r\n            row.classList.add('wptb-table-head', 'wptb-row');\r\n\r\n            for (var i = 0; i < columns; i++) {\r\n                cell = new WPTB_Cell();\r\n                cell.setCoords(0,i); \r\n                row.appendChild(cell.getDOMElement()); \r\n            }\r\n\r\n            //Add the data rows.\r\n            for (var i = 1; i < rows; i++) {\r\n\r\n                row = table.insertRow(-1);\r\n                row.classList.add('wptb-row');\r\n\r\n                for (var j = 0; j < columns; j++) {\r\n                    cell = new WPTB_Cell();\r\n                \tcell.setCoords(i,j); \r\n                    row.appendChild(cell.getDOMElement());\r\n                }\r\n            }\r\n\r\n    \t\ttable.recalculateIndexes = function(){\r\n    \t\t\tvar trs = this.getElementsByTagName('tr'), tds;\r\n\r\n\t\t        for (var i = 0; i < trs.length; i++) {\r\n\t\t            tds = trs[i].getElementsByTagName('td');\r\n\t\t            for (var j = 0; j < tds.length; j++) {\r\n\r\n\t\t                if(i==0){ \r\n\t\t                    tds[j].parentNode.className=''; \r\n\t\t                    tds[j].parentNode.classList.add('wptb-row','wptb-table-head');\r\n\t\t                }\r\n\t\t                else{\r\n\t\t                    tds[j].parentNode.className=''; \r\n\t\t                    tds[j].parentNode.classList.add('wptb-row'); \r\n\t\t                }\r\n\r\n\t\t                tds[j].dataset.xIndex = j;\r\n\t\t                tds[j].dataset.yIndex = i;\r\n\t\t            }\r\n\t\t        }\r\n    \t\t}\r\n\r\n    \t\ttable.addColumn = function(pos){\r\n\t\t        var referenceTd, newTd, _this;\r\n\t\t        for (var i = 0; i < this.rows.length; i++) {\r\n\t\t            \r\n\t\t            var newTd = new WPTB_Cell(); \r\n\r\n\t\t            if(pos == 'before' || pos == 'after')\r\n\t\t            {\r\n\t\t                referenceTd = this.rows\r\n\t\t                        .getElementsByTagName('td')[_this.dataset.xIndex];\r\n\t\t                if(pos=='before'){\r\n\t\t                    this.rows[i].insertBefore(newTd.getDOMElement(),referenceTd);\r\n\t\t                    var buttons = document.getElementsByClassName('wptb-relative-action');\r\n\t\t                    for (var i = 0; i < buttons.length; i++) {\r\n\t\t                        buttons[i].dataset.xIndex++;\r\n\t\t                    } \r\n\t\t                }\r\n\t\t                else{\r\n\t\t                    this.rows[i].insertBefore(newTd.getDOMElement(),referenceTd.nextSibling);\r\n\t\t                }\r\n\t\t            }\r\n\t\t            else if(pos=='end'){\r\n\t\t                this.rows[i].appendChild(newTd.getDOMElement());  \r\n\t\t            }\r\n\t\t            else{\r\n\t\t                this.rows[i].innerHTML = '<td class=\"wptb-droppable wptb-cell\"></td>' + this.rows[i].innerHTML; \r\n\t\t            }\r\n\t\t        }\r\n\r\n\t\t        this.recalculateIndexes();\r\n\t\t    };\r\n\r\n    \t\ttable.addColumnToTheEnd = function(evt){\r\n\t\t        table.addColumn('end',this.dataset.activeCell);\r\n\t\t    };\r\n\r\n\t\t    table.addColumnToTheStart = function(evt){\r\n\t\t        table.addColumn('start',this.dataset.activeCell);\r\n\t\t    };\r\n\r\n\t\t    table.addColumnBefore = function(){\r\n\t\t        table.addColumn('before',this.dataset.activeCell);\r\n\t\t    };\r\n\r\n\t\t    table.addColumnAfter = function(){\r\n\t\t        table.addColumn('after',this.dataset.activeCell);\r\n\t\t    };\r\n\r\n    \t\ttable.addRow = function(pos){\r\n    \t\t\tvar _this, row, referenceRow = undefined;\r\n\t\t            \r\n\t\t        if(pos == 'end' || pos == 'start'){ \r\n\t\t            row = this.insertRow( pos == 'end' ? -1 : 0);\r\n\t\t        }else{\r\n\t\t            row = document.createElement('tr');\r\n\t\t        }\r\n\t\t            \r\n\t\t        for (var j = 0; j < this.columns; j++) {\r\n\t\t            var cell = new WPTB_Cell();\r\n\t\t            row.appendChild(cell.getDOMElement());\r\n\t\t        }\r\n\r\n\t\t        row.classList.add('wptb-row'); \r\n\r\n\t\t        if(pos == 'before' || pos == 'after' ){\r\n\t\t        \t_this = this.getElementsByClassName('wptb-highlighted')[0];\r\n\t\t            referenceRow = this.getElementsByTagName('tr')[_this.dataset.yIndex];\r\n\t\t            if(pos == \"before\"){\r\n\t\t                params.tbody.insertBefore(row,referenceRow);\r\n\t\t                var buttons = document.getElementsByClassName('wptb-relative-action');\r\n\t\t                for (var i = 0; i < buttons.length; i++) {\r\n\t\t                    buttons[i].dataset.yIndex++;\r\n\t\t                } \r\n\t\t            }else{\r\n\t\t                this.getElementsByTagName('tbody')[0].insertBefore(row,referenceRow.nextSibling);\r\n\t\t            }\r\n\t\t        }\r\n\r\n\t\t        if(pos =='before' || pos == 'start'){\r\n\t\t        \tvar active = document.querySelector('wptb-highlighted');\r\n\t\t        \tif(active){\r\n\t\t        \t\tactive.onclick();\r\n\t\t        \t}\r\n\t\t        }\r\n\r\n\t\t        this.recalculateIndexes();\r\n    \t\t};\r\n\r\n    \t\ttable.addRowToTheEnd = function(evt){\r\n\t\t        table.addRow('end');\r\n\t\t    };\r\n\r\n\t\t    table.addRowToTheStart = function(evt){\r\n\t\t        table.addRow('start');\r\n\t\t    };\r\n\r\n\t\t    table.addRowBefore = function(){\r\n\t\t        table.addRow('before');\r\n\t\t    };\r\n\r\n\t\t    table.addRowAfter = function(){\r\n\t\t        table.addRow('after');\r\n\t\t    };\r\n\r\n\t\t    table.columns = columns;\r\n\r\n            wptbTableSetup.appendChild(table);\r\n\r\n\t\t    WPTB_LeftPanel();\r\n\r\n             \r\n};","var WPTB_Text = function(text){\r\n        var DOMElement = document.createElement('div'),\r\n                elText2 = document.createElement('div'),\r\n                elP = document.createElement('p');\r\n\r\n                this.kind = 'text';\r\n\r\n        elText2.classList.add('editable');\r\n        elP.innerHTML = text != undefined ? text : 'Text';\r\n        elText2.appendChild(elP);\r\n        DOMElement.appendChild(elText2);\r\n\r\n        this.getDOMElement = function (){ \r\n                return DOMElement;\r\n        }\r\n        applyGenericItemSettings(this);\r\n\r\n        return this;\r\n};"]}