{"version":3,"file":"wptb-common.js","sources":["../../../packages/ui/components/alignment-control/index.tsx","../../../packages/ui/icons/box-sides.tsx","../../../packages/ui/components/choice-control/index.tsx","../../../packages/ui/components/image-picker/index.tsx","../../../packages/ui/components/sizexy-control/index.tsx","../../../packages/ui/components/spacing-control/index.tsx","../../../packages/ui/components/text-control/index.tsx","../src/public/table-preview/Block.tsx","../src/public/table-preview/Cell.tsx","../src/public/table-preview/Row.tsx","../src/public/table-preview/index.tsx","../src/public/block.ts","../src/blocks/text/control.tsx","../src/blocks/text/parse.ts","../src/blocks/text/index.tsx","../src/blocks/button/control.tsx","../src/blocks/button/parse.ts","../src/blocks/button/index.tsx","../src/blocks/image/control.tsx","../src/blocks/image/parse.ts","../src/blocks/image/index.tsx","../src/blocks/list/control.tsx","../src/blocks/list/parse.ts","../src/blocks/list/list-item/control.tsx","../src/blocks/list/list-item/index.tsx","../src/blocks/list/index.tsx","../src/blocks/star-rating/control.tsx","../src/blocks/star-rating/parse.ts","../src/blocks/star-rating/star.tsx","../src/blocks/star-rating/index.tsx","../../../node_modules/.pnpm/dompurify@3.2.4/node_modules/dompurify/dist/purify.es.mjs","../src/blocks/html/control.tsx","../src/blocks/html/parse.ts","../src/blocks/html/index.tsx","../src/blocks/shortcode/control.tsx","../src/blocks/shortcode/parse.ts","../src/blocks/shortcode/index.tsx","../src/wptb-common.ts"],"sourcesContent":["import {\n  AlignCenterIcon,\n  AlignLeftIcon,\n  AlignRightIcon,\n} from \"../../icons/alignment\";\nimport RadioGroup from \"../radio-group\";\n\ninterface AlignmentControlProps {\n  label?: string;\n  value?: string;\n  onChange?: (value: string) => void;\n}\nconst AlignmentControl = ({\n  label = \"Alignment\",\n  value,\n  onChange,\n}: AlignmentControlProps) => {\n  return (\n    <RadioGroup\n      label={label}\n      value={value}\n      onChange={onChange}\n      items={[\n        {\n          label: \"Align Left\",\n          value: \"left\",\n          icon: AlignLeftIcon,\n        },\n        {\n          label: \"Align Center\",\n          value: \"center\",\n          icon: AlignCenterIcon,\n        },\n        {\n          label: \"Align Right\",\n          value: \"right\",\n          icon: AlignRightIcon,\n        },\n      ]}\n    />\n  );\n};\n\nexport default AlignmentControl;\n","export const BoxAllSide = (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 24 24\"\n    width=\"24\"\n    height=\"24\"\n    aria-hidden=\"true\"\n    focusable=\"false\"\n  >\n    <path d=\"m7.5 6h9v-1.5h-9zm0 13.5h9v-1.5h-9zm-3-3h1.5v-9h-1.5zm13.5-9v9h1.5v-9z\" />\n  </svg>\n);\nexport const BoxTopSide = (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 24 24\"\n    width=\"24\"\n    height=\"24\"\n    aria-hidden=\"true\"\n    focusable=\"false\"\n  >\n    <path\n      d=\"m7.5 6h9v-1.5h-9zm0 13.5h9v-1.5h-9zm-3-3h1.5v-9h-1.5zm13.5-9v9h1.5v-9z\"\n      style={{\n        opacity: 0.25,\n      }}\n    />\n    <path d=\"m16.5 6h-9v-1.5h9z\" />\n  </svg>\n);\n\nexport const BoxRightSide = (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 24 24\"\n    width=\"24\"\n    height=\"24\"\n    aria-hidden=\"true\"\n    focusable=\"false\"\n  >\n    <path\n      d=\"m7.5 6h9v-1.5h-9zm0 13.5h9v-1.5h-9zm-3-3h1.5v-9h-1.5zm13.5-9v9h1.5v-9z\"\n      style={{\n        opacity: 0.25,\n      }}\n    />\n    <path d=\"m18 16.5v-9h1.5v9z\" />\n  </svg>\n);\n\nexport const BoxBottomSide = (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 24 24\"\n    width=\"24\"\n    height=\"24\"\n    aria-hidden=\"true\"\n    focusable=\"false\"\n  >\n    <path\n      d=\"m7.5 6h9v-1.5h-9zm0 13.5h9v-1.5h-9zm-3-3h1.5v-9h-1.5zm13.5-9v9h1.5v-9z\"\n      style={{\n        opacity: 0.25,\n      }}\n    />\n    <path d=\"m16.5 19.5h-9v-1.5h9z\" fill=\"rgb(30, 30, 30)\" />\n  </svg>\n);\n\nexport const BoxLeftSide = (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 24 24\"\n    width=\"24\"\n    height=\"24\"\n    aria-hidden=\"true\"\n    focusable=\"false\"\n  >\n    <path\n      d=\"m7.5 6h9v-1.5h-9zm0 13.5h9v-1.5h-9zm-3-3h1.5v-9h-1.5zm13.5-9v9h1.5v-9z\"\n      style={{\n        opacity: 0.25,\n      }}\n    />\n    <path d=\"m4.5 16.5v-9h1.5v9z\" />\n  </svg>\n);\n\nexport const BoxVerticalSide = (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 24 24\"\n    width=\"24\"\n    height=\"24\"\n    aria-hidden=\"true\"\n    focusable=\"false\"\n  >\n    <path\n      d=\"m7.5 6h9v-1.5h-9zm0 13.5h9v-1.5h-9zm-3-3h1.5v-9h-1.5zm13.5-9v9h1.5v-9z\"\n      style={{\n        opacity: 0.25,\n      }}\n    />\n    <path d=\"m7.5 6h9v-1.5h-9z\"></path>\n    <path d=\"m7.5 19.5h9v-1.5h-9z\"></path>\n  </svg>\n);\n\nexport const BoxHorizontalSide = (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 24 24\"\n    width=\"24\"\n    height=\"24\"\n    aria-hidden=\"true\"\n    focusable=\"false\"\n  >\n    <path\n      d=\"m7.5 6h9v-1.5h-9zm0 13.5h9v-1.5h-9zm-3-3h1.5v-9h-1.5zm13.5-9v9h1.5v-9z\"\n      style={{\n        opacity: 0.25,\n      }}\n    />\n    <path></path>\n    <path d=\"m4.5 7.5v9h1.5v-9z\"></path>\n    <path d=\"m18 7.5v9h1.5v-9z\"></path>\n  </svg>\n);\n","interface ChoiceGroupItem {\n  label: string;\n  value: string;\n}\n\ninterface ChoiceGroupProps {\n  label?: string;\n  value?: string[];\n  onChange?: (value: string[]) => void;\n  items: ChoiceGroupItem[];\n}\n\nconst ChoiceGroup = ({ label, value, onChange, items }: ChoiceGroupProps) => {\n  return (\n    <div className=\"wptb-choice-group wptb-control\">\n      {label && <p className=\"wptb-choice-group-label\">{label}</p>}\n      <div className=\"wptb-choice-group-items\">\n        {items.map((item) => {\n          const checked = value?.includes(item.value);\n          return (\n            <label key={item.value}>\n              <div className=\"wptb-checkbox\">\n                <input\n                  type=\"checkbox\"\n                  key={item.value}\n                  value={item.value}\n                  checked={checked}\n                  onChange={() =>\n                    onChange?.(\n                      checked\n                        ? value?.filter((x) => x !== item.value)\n                        : [...(value || []), item.value]\n                    )\n                  }\n                />\n                <span />\n              </div>\n              <p>{item.label}</p>\n            </label>\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n\nexport default ChoiceGroup;\n","import { useCallback, useRef } from \"react\";\n\ninterface ImagePickerProps {\n  label?: string;\n  value?: string;\n  onChange?: (url: string) => void;\n}\n\nconst ImagePicker = ({ label, value, onChange }: ImagePickerProps) => {\n  const imageFrameRef = useRef(null);\n\n  const openMediaLibrary = useCallback(() => {\n    let imageFrame = imageFrameRef.current;\n    if (imageFrame) {\n      imageFrame.open();\n      return;\n    }\n\n    imageFrame = imageFrameRef.current = wp.media({\n      title: \"Select Image\",\n      button: {\n        text: \"Use This Image\",\n      },\n      multiple: false,\n    });\n\n    imageFrame.on(\"open\", () => {\n      const modalElement = document.querySelector(\n        \".media-modal\"\n      ) as HTMLDivElement;\n      if (modalElement || !modalElement.dataset.isWptb) {\n        modalElement.dataset.isWptb = \"true\";\n        modalElement.addEventListener(\"pointerup\", (event) => {\n          event.stopPropagation();\n        });\n      }\n    });\n\n    imageFrame.on(\"select\", function () {\n      const attachment = imageFrame.state().get(\"selection\").first().toJSON();\n      onChange?.(attachment.url);\n    });\n\n    imageFrame.open();\n  }, [onChange]);\n\n  return (\n    <div className=\"wptb-image-picker wptb-control\">\n      <div className=\"wptb-image-picker-left\">\n        {label && <p>{label}</p>}\n        <button type=\"button\" onClick={openMediaLibrary}>\n          Select Image\n        </button>\n      </div>\n      <button className=\"wptb-image-picker-right\" onClick={openMediaLibrary}>\n        {value && (\n          <img\n            src={value}\n            alt=\"Selected\"\n            style={{ maxWidth: \"300px\", display: \"block\" }}\n          />\n        )}\n      </button>\n    </div>\n  );\n};\n\nexport default ImagePicker;\n","import { useMemo, useState } from \"react\";\nimport ControlLabel from \"../control-label\";\n\ninterface SizeXYControlProps {\n  label?: string;\n  value?: string;\n  height?: number;\n  width?: number;\n  onChange?: (value: string) => void;\n}\n\nconst SizeXYControl = ({\n  height = 1,\n  width = 1,\n  label,\n  value,\n  onChange,\n}: SizeXYControlProps) => {\n  const [isLocked, setLocked] = useState(true);\n  const [w, h, unit] = useMemo(() => {\n    if (!value) {\n      return [height, width, \"px\"];\n    }\n    const [w, h] = value.split(\":\");\n    const unit = w?.replace(/[^a-z%]/gi, \"\") || \"px\";\n    return [\n      parseFloat(w.replace(/[^0-9.]/g, \"1\")),\n      parseFloat(h.replace(/[^0-9.]/g, \"1\")),\n      unit,\n    ];\n  }, [value, height, width]);\n\n  const ratio = w / h;\n\n  return (\n    <div className=\"wptb-sizexy-control wptb-control\">\n      <ControlLabel\n        label={label}\n        onReset={() => onChange?.(`${height}px:${width}px`)}\n      />\n      <div className=\"wptb-sizexy-control-input\">\n        <label className=\"wptb-sizexy-control-input-item\">\n          <p>Width</p>\n          <input\n            type=\"number\"\n            min={1}\n            value={w}\n            onInput={(e: any) => {\n              const w = +e.target.value || 1;\n              const nh = isLocked ? (w / ratio).toFixed(2) : h;\n              onChange?.(`${w}${unit}:${nh}${unit}`);\n            }}\n          />\n        </label>\n        <button\n          type=\"button\"\n          className=\"wptb-sizexy-control-input-lock\"\n          onClick={() => setLocked(!isLocked)}\n        >\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 512 512\"\n            style={{\n              fill: isLocked ? \"red\" : \"green\",\n            }}\n          >\n            {isLocked ? (\n              <path d=\"M304.083 405.907c4.686 4.686 4.686 12.284 0 16.971l-44.674 44.674c-59.263 59.262-155.693 59.266-214.961 0-59.264-59.265-59.264-155.696 0-214.96l44.675-44.675c4.686-4.686 12.284-4.686 16.971 0l39.598 39.598c4.686 4.686 4.686 12.284 0 16.971l-44.675 44.674c-28.072 28.073-28.072 73.75 0 101.823 28.072 28.072 73.75 28.073 101.824 0l44.674-44.674c4.686-4.686 12.284-4.686 16.971 0l39.597 39.598zm-56.568-260.216c4.686 4.686 12.284 4.686 16.971 0l44.674-44.674c28.072-28.075 73.75-28.073 101.824 0 28.072 28.073 28.072 73.75 0 101.823l-44.675 44.674c-4.686 4.686-4.686 12.284 0 16.971l39.598 39.598c4.686 4.686 12.284 4.686 16.971 0l44.675-44.675c59.265-59.265 59.265-155.695 0-214.96-59.266-59.264-155.695-59.264-214.961 0l-44.674 44.674c-4.686 4.686-4.686 12.284 0 16.971l39.597 39.598zm234.828 359.28l22.627-22.627c9.373-9.373 9.373-24.569 0-33.941L63.598 7.029c-9.373-9.373-24.569-9.373-33.941 0L7.029 29.657c-9.373 9.373-9.373 24.569 0 33.941l441.373 441.373c9.373 9.372 24.569 9.372 33.941 0z\" />\n            ) : (\n              <path d=\"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z\" />\n            )}\n          </svg>\n        </button>\n        <label className=\"wptb-sizexy-control-input-item\">\n          <p>Height</p>\n          <input\n            disabled={isLocked}\n            type=\"number\"\n            min={1}\n            value={h}\n            onInput={(e: any) =>\n              onChange?.(`${w}${unit}:${e.target.value}${unit}`)\n            }\n          />\n        </label>\n        <select\n          value={unit}\n          onChange={(e: any) =>\n            onChange?.(`${w}${e.target.value}:${h}${e.target.value}`)\n          }\n        >\n          <option value=\"px\">px</option>\n          <option value=\"%\">%</option>\n        </select>\n      </div>\n      <p className=\"wptb-sizexy-control-aspect\">\n        Aspect Ratio: <b>{ratio.toFixed(2)}</b>\n      </p>\n    </div>\n  );\n};\n\nexport default SizeXYControl;\n","import { SpacingValue } from \"@wptb/dev/types\";\nimport {\n  BoxAllSide,\n  BoxBottomSide,\n  BoxHorizontalSide,\n  BoxLeftSide,\n  BoxRightSide,\n  BoxTopSide,\n  BoxVerticalSide,\n} from \"../../icons/box-sides\";\nimport { SplitIcon, UnSplitIcon } from \"../../icons/actions\";\nimport { useState } from \"react\";\nimport SizeControl, { AllowedUnits } from \"../size-control\";\nimport ControlLabel from \"../control-label\";\n\ntype Side = \"top\" | \"right\" | \"bottom\" | \"left\" | \"vertical\" | \"horizontal\";\n\nconst SIDE_ICON_MAP = {\n  all: BoxAllSide,\n  top: BoxTopSide,\n  right: BoxRightSide,\n  bottom: BoxBottomSide,\n  left: BoxLeftSide,\n  vertical: BoxVerticalSide,\n  horizontal: BoxHorizontalSide,\n} as const;\n\ninterface SpacingSingleProps {\n  side: Side | \"all\";\n  value?: string;\n  onChange: (value: string) => void;\n  allowedUnits?: AllowedUnits;\n  allowOutOfRange?: boolean;\n  allowOutOfRangeMax?: boolean;\n  allowOutOfRangeMin?: boolean;\n}\n\nconst SpacingSingle = ({\n  side,\n  value,\n  onChange,\n  allowedUnits,\n  allowOutOfRange,\n  allowOutOfRangeMax,\n  allowOutOfRangeMin,\n}: SpacingSingleProps) => {\n  return (\n    <div className=\"wptb-spacing-single\">\n      <div className=\"wptb-spacing-single-icon\">{SIDE_ICON_MAP[side]}</div>\n      <SizeControl\n        value={value}\n        onChange={onChange}\n        allowedUnits={allowedUnits}\n        allowOutOfRange={allowOutOfRange}\n        allowOutOfRangeMax={allowOutOfRangeMax}\n        allowOutOfRangeMin={allowOutOfRangeMin}\n      />\n    </div>\n  );\n};\n\ninterface SpacingControlProps {\n  label?: string;\n  sides?: Side[];\n  value?: SpacingValue;\n  onChange?: (value: SpacingValue) => void;\n  onReset?: () => void;\n  allowedUnits?: AllowedUnits;\n  allowOutOfRange?: boolean;\n  allowOutOfRangeMax?: boolean;\n  allowOutOfRangeMin?: boolean;\n}\n\nconst defaultAllowedUnits: AllowedUnits = {\n  px: {\n    min: 0,\n    max: 50,\n    step: 1,\n  },\n  em: {\n    min: 0,\n    max: 5,\n    step: 0.2,\n  },\n  rem: {\n    min: 0,\n    max: 5,\n    step: 0.2,\n  },\n  \"%\": {\n    min: 0,\n    max: 100,\n    step: 1,\n  },\n};\n\nconst SpacingControl = ({\n  label,\n  value,\n  onChange,\n  onReset,\n  sides = [\"top\", \"right\", \"bottom\", \"left\"],\n  allowedUnits = defaultAllowedUnits,\n  allowOutOfRange,\n  allowOutOfRangeMax,\n  allowOutOfRangeMin,\n}: SpacingControlProps) => {\n  const [isSplit, setIsSplit] = useState(typeof value === \"object\");\n\n  const changeSplit = () => {\n    if (isSplit) {\n      onChange?.((value as any).top);\n      setIsSplit(false);\n    } else {\n      onChange?.({\n        top: value as any,\n        right: value as any,\n        bottom: value as any,\n        left: value as any,\n      });\n      setIsSplit(true);\n    }\n  };\n\n  const setSideValue = (val: string, side: Side) => {\n    if (side === \"horizontal\") {\n      onChange?.({\n        top: val,\n        bottom: val,\n        ...(value as any),\n      });\n    } else if (side === \"vertical\") {\n      onChange?.({\n        left: val,\n        right: val,\n        ...(value as any),\n      });\n    } else {\n      onChange?.({\n        ...(value as any),\n        [side]: val,\n      });\n    }\n  };\n\n  return (\n    <div className=\"wptb-spacing-control wptb-control\">\n      <ControlLabel label={label} onReset={onReset}>\n        {sides?.length && (\n          <button\n            type=\"button\"\n            onClick={changeSplit}\n            className=\"wptb-split-btn\"\n          >\n            {isSplit ? UnSplitIcon : SplitIcon}\n          </button>\n        )}\n      </ControlLabel>\n      {isSplit ? (\n        sides.map((side) => {\n          let val: any;\n          if (side === \"horizontal\") {\n            val = (value as any)?.left;\n          } else if (side === \"vertical\") {\n            val = (value as any)?.top;\n          } else {\n            val = value?.[side];\n          }\n\n          return (\n            <SpacingSingle\n              key={side}\n              side={side}\n              value={val}\n              allowedUnits={allowedUnits}\n              onChange={(val) => setSideValue(val, side)}\n              allowOutOfRange={allowOutOfRange}\n              allowOutOfRangeMax={allowOutOfRangeMax}\n              allowOutOfRangeMin={allowOutOfRangeMin}\n            />\n          );\n        })\n      ) : (\n        <SpacingSingle\n          side=\"all\"\n          value={value as string}\n          onChange={(val) => onChange?.(val)}\n          allowedUnits={allowedUnits}\n          allowOutOfRange={allowOutOfRange}\n          allowOutOfRangeMax={allowOutOfRangeMax}\n          allowOutOfRangeMin={allowOutOfRangeMin}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default SpacingControl;\n","interface TextControlProps {\n  label?: string;\n  value?: string;\n  onChange?: (value: string) => void;\n  placeholder?: string;\n}\n\nconst TextControl = ({\n  label,\n  value,\n  onChange,\n  placeholder,\n}: TextControlProps) => {\n  return (\n    <label className=\"wptb-text-control wptb-control\">\n      {label && <p className=\"wptb-text-control-label\">{label}</p>}\n      <input\n        type=\"text\"\n        value={value || \"\"}\n        onChange={(e) => onChange?.(e.target.value)}\n        placeholder={placeholder}\n      />\n    </label>\n  );\n};\n\nexport default TextControl;\n","import { BLOCK_MAP } from \"@/block_registry\";\nimport InvalidBlock from \"@/builder/blocks/InvalidBlock\";\nimport { useSelector } from \"react-redux\";\nimport { RootState } from \"@/store\";\nimport { useMemo } from \"react\";\n\ninterface BlockRCProps {\n  id: string;\n  index: number;\n  ancestor: string[];\n}\n\nconst Block = ({ id, index, ancestor }: BlockRCProps) => {\n  const tableId = ancestor[0];\n  const blockInfo = useSelector(\n    (state: RootState) => state.table[tableId].innerBlocks[id]\n  );\n  const newAncestor = useMemo(() => [...ancestor, id], [ancestor, id]);\n  const { blockOrder } = blockInfo;\n  const blockProps = useSelector(\n    (state: RootState) => state.table[tableId].blocksProps[id]\n  );\n\n  const BlockComponent = BLOCK_MAP[blockInfo.name]?.Preview ?? InvalidBlock;\n  return (\n    <BlockComponent blockPath={newAncestor} index={index} props={blockProps}>\n      {blockOrder.map((blockId, idx) => (\n        <Block key={blockId} id={blockId} index={idx} ancestor={newAncestor} />\n      ))}\n    </BlockComponent>\n  );\n};\n\nexport default Block;\n","import { useMemo } from \"react\";\nimport { CellProps, TableProps } from \"@wptb/dev/types\";\nimport { useBlockProps, useResponsiveProps } from \"@/public/hooks\";\nimport { useSelector } from \"react-redux\";\nimport { RootState } from \"@/store\";\nimport cls from \"classnames\";\nimport { TABLE_ID } from \"@/store/table\";\nimport Block from \"./Block\";\nimport { useCellAttrs } from \"@/builder/blocks/get-attrs\";\n\ninterface CellRCProps {\n  id: string;\n  tableId: string;\n  rowId: string;\n  rowIndex: number;\n  cellIndex: number;\n}\n\nconst Cell = ({ id, rowId, tableId, rowIndex, cellIndex }: CellRCProps) => {\n  const tableProps = useBlockProps<TableProps>([tableId, TABLE_ID]);\n  const props = useResponsiveProps<CellProps>([tableId, id]);\n\n  const attrs = useCellAttrs(props, tableProps);\n\n  const blockOrder = useSelector(\n    (state: RootState) => state.table[tableId].innerBlocks[id].blockOrder\n  );\n\n  const isEmpty = props.isEmpty;\n\n  const innerBlocks = useMemo(() => {\n    const ancestor = [tableId, rowId, id];\n    return isEmpty\n      ? null\n      : blockOrder.map((blockId, idx) => (\n          <Block key={blockId} id={blockId} index={idx} ancestor={ancestor} />\n        ));\n  }, [tableId, rowId, id, isEmpty, blockOrder]);\n\n  return (\n    <td\n      {...attrs}\n      className={cls({\n        \"wptb-empty\": props.isEmpty,\n        \"wptb-cell-placeholder\": !blockOrder.length,\n        \"wptb-row-stack-cell\": props.isRowStack,\n        \"wptb-row-ending-cell\": props.col + props.colspan === tableProps.cols,\n      })}\n      data-x-index={cellIndex}\n      data-y-index={rowIndex}\n    >\n      {innerBlocks}\n      {tableProps.sortVertical?.enable || tableProps.sortHorizontal?.enable ? (\n        <button\n          className=\"wptb-sort-button\"\n          onClick={(_evt) => {\n            // if (tableProps.sortVertical?.enable) {\n            //   RowColActions.sortTableV(\n            //     evt.currentTarget.parentElement as HTMLTableCellElement,\n            //     props.row,\n            //     tableProps.sortVertical\n            //   );\n            // } else if (tableProps.sortHorizontal?.enable) {\n            //   RowColActions.sortTableH(\n            //     evt.currentTarget.parentElement as HTMLTableCellElement,\n            //     props.col,\n            //     tableProps.sortHorizontal\n            //   );\n            // }\n          }}\n        />\n      ) : null}\n    </td>\n  );\n};\n\nexport default Cell;\n","import Cell from \"./Cell\";\nimport { RowProps, TableProps } from \"@wptb/dev/types\";\nimport { useBlockProps } from \"@/public/hooks\";\nimport { useRowAttrs } from \"@/builder/blocks/get-attrs\";\n\ninterface RowRCProps {\n  id: string;\n  tableId: string;\n  tableProps: TableProps;\n  rowIndex: number;\n  blockOrder: string[];\n}\n\nconst Row = ({ id, tableId, blockOrder, tableProps, rowIndex }: RowRCProps) => {\n  const props = useBlockProps<RowProps>([tableId, id]);\n  const attrs = useRowAttrs(props, rowIndex, tableProps);\n\n  return (\n    <tr {...attrs}>\n      {blockOrder.map((cellId, cellIndex) => (\n        <Cell\n          tableId={tableId}\n          key={cellId}\n          id={cellId}\n          rowId={id}\n          rowIndex={rowIndex}\n          cellIndex={cellIndex}\n        />\n      ))}\n    </tr>\n  );\n};\n\nexport default Row;\n","import { useSelector } from \"react-redux\";\nimport Row from \"./Row\";\nimport { RootState } from \"../../store\";\nimport { TableProps } from \"@wptb/dev/types\";\nimport { CSSProperties, useMemo } from \"react\";\nimport { TABLE_ID } from \"@/store/table\";\nimport {\n  calcTableMinWidth,\n  getTableAttrs,\n  getTableStyle,\n  getTBodyAttrs,\n} from \"@/builder/blocks/get-attrs\";\n\ninterface TableRCProps {\n  id: string;\n}\n\nconst Table = ({ id }: TableRCProps) => {\n  const table = useSelector((state: RootState) => {\n    const device = state.editorSettings.devicePreview;\n    return state.table[id]?.[device];\n  });\n\n  const props = useSelector((state: RootState) => {\n    return state.table[id]?.blocksProps[TABLE_ID] as TableProps;\n  });\n\n  const { tblStyle, tbodyAttrs, tableAttrs, containerStyle } = useMemo(() => {\n    if (!props) {\n      return {\n        tableAttrs: {},\n        tblStyle: {},\n        tbodyAttrs: {},\n      };\n    }\n    const calced = calcTableMinWidth(props);\n    const containerStyle: CSSProperties = {};\n    if (!props?.alignment || props.alignment === \"center\") {\n      containerStyle.marginLeft = \"auto\";\n      containerStyle.marginRight = \"auto\";\n    } else if (props.alignment === \"right\") {\n      containerStyle.marginLeft = \"auto\";\n    }\n\n    if (props?.enableMaxWidth) {\n      containerStyle.maxWidth = props?.maxWidth;\n    }\n    if (calced.total <= 700) {\n      containerStyle.maxWidth = \"700px\";\n    }\n\n    return {\n      tableAttrs: getTableAttrs(props, calced),\n      tblStyle: getTableStyle(props, calced.minWidth),\n      tbodyAttrs: getTBodyAttrs(props),\n      containerStyle,\n    };\n  }, [props]);\n\n  return !table ? null : (\n    <div className=\"wptb-builder-table-container\" style={containerStyle}>\n      <table {...tableAttrs} style={tblStyle}>\n        <tbody {...tbodyAttrs}>\n          {table.blockOrder.map((rowId, index) => (\n            <Row\n              key={rowId}\n              tableId={id}\n              blockOrder={table.innerBlocks[rowId]}\n              id={rowId}\n              tableProps={props}\n              rowIndex={index}\n            />\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n};\n\nexport default Table;\n","import store from \"@/store\";\nimport { setActiveBlock } from \"@/store/editor\";\nimport { addBlock, removeBlock as internalRemoveBlock } from \"@/store/table\";\nimport TimeTravel from \"@/store/time-travel\";\n\nexport const insertInnerBlock = <\n  T extends Record<string, any> = Record<string, any>,\n>(\n  parentId: string,\n  name: string,\n  props?: T,\n  index?: number,\n  setActive?: string[]\n) => {\n  const newId = {\n    current: \"\",\n  };\n  TimeTravel.captured(addBlock, {\n    parentId,\n    blockName: name,\n    props,\n    index,\n    newId,\n  });\n  if (setActive) {\n    store.dispatch(setActiveBlock([...setActive, newId.current]));\n  }\n  return newId.current;\n};\n\nexport const removeBlock = (id: string) => {\n  TimeTravel.captured(internalRemoveBlock, {\n    blockId: id,\n  });\n};\n","import { BlockControlProps } from \"@wptb/dev/types\";\nimport { TextBlockProps } from \"@wptb/dev/types\";\nimport {\n  ColorControl,\n  PanelBody,\n  SizeControl,\n  SpacingControl,\n} from \"@wptb/ui/components\";\nimport UpsellControl from \"@/builder/components/upsell-control\";\n\nconst Control = ({\n  blockProps,\n  setBlockProps,\n}: BlockControlProps<TextBlockProps>) => {\n  return (\n    <PanelBody title=\"TEXT OPTIONS\" className=\"wptb-settings\" initialOpen>\n      <ColorControl\n        label=\"Font Color\"\n        value={blockProps?.color}\n        onReset={() => setBlockProps({ color: undefined })}\n        onChange={(color) => setBlockProps({ color })}\n      />\n      <ColorControl\n        label=\"Link Font Color\"\n        value={blockProps?.linkColor}\n        onReset={() => setBlockProps({ linkColor: undefined })}\n        onChange={(linkColor) => setBlockProps({ linkColor })}\n      />\n      <SizeControl\n        label=\"Font Size\"\n        value={blockProps?.fontSize}\n        onReset={() => setBlockProps({ fontSize: undefined })}\n        onChange={(fontSize) => setBlockProps({ fontSize })}\n        allowOutOfRangeMax\n      />\n      <UpsellControl name=\"text.padding\">\n        <SpacingControl label=\"Padding\" value={blockProps?.padding} />\n      </UpsellControl>\n      <UpsellControl name=\"text.margin\">\n        <SpacingControl label=\"Margin\" value={blockProps?.margin} />\n      </UpsellControl>\n    </PanelBody>\n  );\n};\nexport default Control;\n","import { v4 as uuidv4 } from \"uuid\";\nimport { BlockParser } from \"@wptb/dev/types\";\nimport { TextBlockProps } from \"@wptb/dev/types\";\nimport { hexToRgbA, parseSpacing } from \"@wptb/utils/parser\";\n\nconst parseBlock: BlockParser = (el, allProps, _, tableProps) => {\n  let text = \"\";\n  Array.from(el.querySelectorAll(\"p\")).forEach((child) => {\n    text += child.outerHTML;\n  });\n\n  const id = uuidv4();\n  let color: string | undefined = hexToRgbA(el.style.color);\n  if (color === tableProps.fontColor) {\n    color = undefined;\n  }\n  let fontSize: string | undefined = el.style.fontSize;\n  if (fontSize === tableProps.fontSize) {\n    fontSize = undefined;\n  }\n\n  let linkColor: string | undefined;\n\n  const linkEl = el.querySelector(\"a\");\n  if (linkEl) {\n    linkColor = hexToRgbA(linkEl.style.color);\n    if (linkColor === tableProps.linkColor) {\n      linkColor = undefined;\n    }\n  }\n\n  allProps[id] = {\n    text,\n    color,\n    fontSize,\n    linkColor,\n    padding: parseSpacing(\"padding\", el.style),\n    margin: parseSpacing(\"margin\", el.style),\n  } as TextBlockProps;\n\n  return [\n    id,\n    {\n      name: \"text\",\n      blockOrder: [],\n    },\n  ];\n};\n\nexport default parseBlock;\n","import { useMemo } from \"react\";\nimport cls from \"classnames\";\nimport { BlockInstance, BlockPreviewInstance } from \"@wptb/dev/types\";\nimport { TextBlockProps } from \"@wptb/dev/types\";\nimport { TextIcon } from \"@wptb/ui/icons/elements\";\nimport RichText from \"@wptb/ui/components/rich-text\";\nimport { registerBlock } from \"@/block_registry\";\nimport Control from \"./control\";\nimport parseBlock from \"./parse\";\nimport { useBlock } from \"@/public/hooks\";\nimport { getSpacingStyle } from \"@wptb/utils/style\";\n\nconst getTextStyle = (props: TextBlockProps) => {\n  return {\n    color: props[\"color\"],\n    fontSize: props[\"fontSize\"],\n    \"--wptb-link-color\": props[\"linkColor\"],\n    ...getSpacingStyle(props.padding, \"padding\"),\n    ...getSpacingStyle(props.margin, \"margin\"),\n  };\n};\n\nconst Edit = ({ name, blockPath }: BlockInstance) => {\n  const { props, updateProps, isActive, attributes } = useBlock<TextBlockProps>(\n    { name, blockPath }\n  );\n  const { style } = useMemo(() => {\n    return {\n      style: getTextStyle(props) as any,\n    };\n  }, [props]);\n\n  return (\n    <div\n      className={cls(\n        \"wptb-text-container wptb-ph-element wptb-element-text-404\",\n        {\n          \"wptb-active\": isActive,\n        }\n      )}\n      style={style}\n      {...attributes}\n    >\n      <RichText\n        value={props.text}\n        onChange={(value) => updateProps({ text: value })}\n      />\n    </div>\n  );\n};\n\nconst Preview = ({ props }: BlockPreviewInstance<TextBlockProps>) => {\n  const { style } = useMemo(() => {\n    return {\n      style: getTextStyle(props) as any,\n    };\n  }, [props]);\n\n  return (\n    <div\n      className=\"wptb-text-container wptb-ph-element wptb-element-text-404\"\n      style={style}\n    >\n      <div\n        style={{ position: \"relative\" }}\n        dangerouslySetInnerHTML={{ __html: props.text || \"\" }}\n      />\n    </div>\n  );\n};\n\nregisterBlock({\n  name: \"text\",\n  title: \"Text\",\n  Edit,\n  Preview,\n  icon: TextIcon,\n  Control,\n  isBlock: (el: HTMLElement) => el.classList.contains(\"wptb-text-container\"),\n  parse: parseBlock,\n  defaultProps: {\n    text: \"\",\n    fontSize: \"1em\",\n    align: \"left\",\n  },\n});\n","import { useState } from \"react\";\nimport { BlockControlProps } from \"@wptb/dev/types\";\nimport { ButtonBlockProps } from \"@wptb/dev/types\";\nimport {\n  AlignCenterIcon,\n  AlignLeftIcon,\n  AlignRightIcon,\n} from \"@wptb/ui/icons/alignment\";\nimport UpsellControl from \"@/builder/components/upsell-control\";\nimport {\n  BorderRadiusControl,\n  ChoiceGroup,\n  ColorControl,\n  IconPicker,\n  PanelBody,\n  RadioGroup,\n  RangeControl,\n  SelectControl,\n  SizeControl,\n  SpacingControl,\n  SwitchControl,\n  Tab,\n  TextControl,\n} from \"@wptb/ui/components\";\n\ninterface TabAttrs {\n  blockProps: ButtonBlockProps;\n  setBlockProps: (props: Partial<ButtonBlockProps>) => void;\n}\n\nconst GeneralTab = ({ blockProps, setBlockProps }: TabAttrs) => {\n  return (\n    <div className=\"wptb-control-group\">\n      <RadioGroup\n        label=\"Button Size\"\n        value={blockProps?.size}\n        onChange={(size: any) => setBlockProps({ size })}\n        items={[\n          { label: \"Small\", value: \"s\", icon: \"S\" },\n          { label: \"Medium\", value: \"m\", icon: \"M\" },\n          { label: \"Large\", value: \"l\", icon: \"L\" },\n          { label: \"Extra Large\", value: \"xl\", icon: \"XL\" },\n        ]}\n      />\n      <SwitchControl\n        label=\"Full Width\"\n        checked={blockProps?.fullWidth as any}\n        onChange={(fullWidth: any) => setBlockProps({ fullWidth })}\n      />\n      <BorderRadiusControl\n        label=\"Border Radius\"\n        value={blockProps?.borderRadius}\n        onChange={(v) => setBlockProps({ borderRadius: v })}\n      />\n      <ColorControl\n        label=\"Button Color\"\n        value={blockProps?.background}\n        onChange={(background: any) => setBlockProps({ background })}\n      />\n      <ColorControl\n        label=\"Button Hover Color\"\n        value={blockProps?.hoverBg}\n        onReset={() => setBlockProps({ hoverBg: undefined })}\n        onChange={(hoverBg: any) => setBlockProps({ hoverBg })}\n      />\n      <ColorControl\n        label=\"Text Color\"\n        value={blockProps?.color}\n        onChange={(color: any) => setBlockProps({ color })}\n      />\n      <ColorControl\n        label=\"Text Hover Color\"\n        value={blockProps?.hoverColor}\n        onReset={() => setBlockProps({ hoverColor: undefined })}\n        onChange={(hoverColor: any) => setBlockProps({ hoverColor })}\n      />\n      <SizeControl\n        label=\"Font Size\"\n        allowOutOfRangeMax\n        value={blockProps?.fontSize}\n        onReset={() => setBlockProps({ fontSize: undefined })}\n        onChange={(fontSize: any) => setBlockProps({ fontSize })}\n      />\n      <RangeControl\n        label=\"Scale on Hover\"\n        value={blockProps.hoverScale}\n        onChange={(v) => setBlockProps({ hoverScale: v })}\n        step={0.1}\n        allowOutOfRange\n        max={10}\n      />\n      <RadioGroup\n        label=\"Button Alignment\"\n        value={blockProps.buttonAlignment}\n        onChange={(x) => setBlockProps({ buttonAlignment: x })}\n        items={[\n          {\n            label: \"Align Left\",\n            value: \"left\",\n            icon: AlignLeftIcon,\n          },\n          {\n            label: \"Align Center\",\n            value: \"center\",\n            icon: AlignCenterIcon,\n          },\n          {\n            label: \"Align Right\",\n            value: \"right\",\n            icon: AlignRightIcon,\n          },\n        ]}\n      />\n      <RadioGroup\n        label=\"Content Alignment\"\n        value={blockProps.contentAlignment}\n        onChange={(x) => setBlockProps({ contentAlignment: x })}\n        items={[\n          {\n            label: \"Align Left\",\n            value: \"flex-start\",\n            icon: AlignLeftIcon,\n          },\n          {\n            label: \"Align Center\",\n            value: \"center\",\n            icon: AlignCenterIcon,\n          },\n          {\n            label: \"Align Right\",\n            value: \"flex-end\",\n            icon: AlignRightIcon,\n          },\n        ]}\n      />\n      <TextControl\n        label=\"Button Id\"\n        value={blockProps?.id}\n        onChange={(id) => setBlockProps({ id })}\n        placeholder=\"Enter ID\"\n      />\n      <UpsellControl name=\"button.padding\">\n        <SpacingControl label=\"Padding\" value={blockProps?.padding} />\n      </UpsellControl>\n      <UpsellControl name=\"button.margin\">\n        <SpacingControl label=\"Margin\" value={blockProps?.margin} />\n      </UpsellControl>\n    </div>\n  );\n};\n\nconst LinkTab = ({ blockProps, setBlockProps }: TabAttrs) => {\n  return (\n    <div className=\"wptb-control-group\">\n      <TextControl\n        label=\"Button Link\"\n        value={blockProps.url}\n        onChange={(url: any) => setBlockProps({ url })}\n        placeholder=\"Insert Link Here\"\n      />\n      <ChoiceGroup\n        label=\"Link rel\"\n        items={[\n          {\n            label: \"Sponsored\",\n            value: \"sponsored\",\n          },\n          {\n            label: \"No Follow\",\n            value: \"nofollow\",\n          },\n          {\n            label: \"No Referer\",\n            value: \"noreferer\",\n          },\n        ]}\n        value={blockProps?.linkRel}\n        onChange={(linkRel: any) => setBlockProps({ linkRel })}\n      />\n      <SelectControl\n        label=\"Link Target\"\n        value={blockProps?.linkTarget}\n        options={[\n          {\n            label: \"Self\",\n            value: \"_self\",\n          },\n          {\n            label: \"Blank\",\n            value: \"_blank\",\n          },\n        ]}\n        onChange={(linkTarget: any) => setBlockProps({ linkTarget })}\n      />\n      <SwitchControl\n        label=\"Convert link to absolute\"\n        checked={blockProps.convertToAbsolute!}\n        onChange={(x: any) => setBlockProps({ convertToAbsolute: x })}\n      />\n    </div>\n  );\n};\n\nconst IconTab = ({ blockProps, setBlockProps }: TabAttrs) => {\n  return (\n    <div className=\"wptb-control-group\">\n      <IconPicker\n        label=\"Button Icon\"\n        value={blockProps.icon}\n        onChange={(icon: any) => setBlockProps({ icon })}\n        onReset={() => setBlockProps({ icon: undefined })}\n      />\n      <RadioGroup\n        label=\"Icon Position\"\n        value={blockProps.iconPosition}\n        onChange={(x: any) => setBlockProps({ iconPosition: x })}\n        items={[\n          {\n            value: \"left\",\n            icon: \"Left\",\n          },\n          {\n            value: \"right\",\n            icon: \"Right\",\n          },\n        ]}\n      />\n      <SizeControl\n        allowOutOfRange\n        label=\"Icon Size\"\n        value={blockProps?.iconSize}\n        onReset={() => setBlockProps({ iconSize: undefined })}\n        onChange={(iconSize: any) => setBlockProps({ iconSize })}\n      />\n    </div>\n  );\n};\n\nconst LabelTab = ({ blockProps }: TabAttrs) => {\n  return (\n    <div className=\"wptb-control-group\">\n      <UpsellControl name=\"button.label\">\n        <SwitchControl\n          label=\"Enable Button Label\"\n          checked={blockProps.hasLabel!}\n        />\n        <ColorControl label=\"Label Color\" value={blockProps?.labelBg} />\n        <ColorControl label=\"Label Text Color\" value={blockProps?.labelColor} />\n      </UpsellControl>\n    </div>\n  );\n};\n\nconst Control = ({\n  blockProps,\n  setBlockProps,\n}: BlockControlProps<ButtonBlockProps>) => {\n  const [activeTab, setActiveTab] = useState<string>(\"general\");\n  return (\n    <PanelBody title=\"Button\" initialOpen className=\"wptb-settings\">\n      <Tab\n        active={activeTab}\n        setActive={setActiveTab}\n        tabs={{\n          general: {\n            title: \"General\",\n            component: GeneralTab,\n          },\n          link: {\n            title: \"Link\",\n            component: LinkTab,\n          },\n          icon: {\n            title: \"Icon\",\n            component: IconTab,\n          },\n          label: {\n            title: \"Label\",\n            component: LabelTab,\n          },\n        }}\n        props={{ blockProps, setBlockProps }}\n      />\n    </PanelBody>\n  );\n};\n\nexport default Control;\n","import { v4 as uuidv4 } from \"uuid\";\nimport { BlockParser } from \"@wptb/dev/types\";\nimport { ButtonBlockProps } from \"@wptb/dev/types\";\nimport { parseSpacing } from \"@wptb/utils/parser\";\n\nconst parseBlock: BlockParser = (el, allProps) => {\n  const bWrap: HTMLDivElement | null = el.querySelector(\".wptb-button-wrapper\");\n  const lTarget: HTMLAnchorElement | null =\n    el.querySelector(\".wptb-link-target\");\n  const btnDiv: HTMLDivElement | null = el.querySelector(\".wptb-button\");\n  const iconEl: HTMLDivElement | null = el.querySelector(\".wptb-button-icon\");\n  const labelEl: HTMLDivElement | null = el.querySelector(\".wptb-button-label\");\n\n  const pEl = el.querySelector(\"p\");\n\n  const props: ButtonBlockProps = {\n    text: pEl?.innerHTML || \"\",\n    fontSize: pEl?.style.fontSize,\n    size: (bWrap?.className.match(/wptb-size-(s|m|l|xl)/)?.[1] as any) || \"m\",\n    fullWidth: lTarget?.style.width === \"100%\",\n    borderRadius: btnDiv?.style.borderRadius,\n    background: btnDiv?.dataset.wptbElementBgColor,\n    color: btnDiv?.dataset.wptbElementColor,\n    buttonAlignment: bWrap?.style.justifyContent,\n    contentAlignment: btnDiv?.style.justifyContent,\n    id: lTarget?.id,\n    // Url\n    url: lTarget?.href,\n    linkRel: lTarget?.getAttribute(\"rel\")?.split(\" \"),\n    linkTarget: lTarget?.getAttribute(\"target\") as any,\n    convertToAbsolute:\n      lTarget?.dataset.wptbLinkEnableConvertRelative === \"true\",\n\n    // Hover\n    hoverBg: btnDiv?.dataset.wptbElementHoverBgColor,\n    hoverColor: btnDiv?.dataset.wptbElementHoverTextColor,\n    hoverScale: parseFloat(btnDiv?.dataset.wptbElementHoverScale || \"1.0\") || 1,\n\n    // Icon\n    icon: iconEl?.dataset.wptbButtonIconSrc || \"\",\n    iconPosition: btnDiv?.classList.contains(\"wptb-plugin-button-order-right\")\n      ? \"right\"\n      : \"left\",\n    iconSize: iconEl?.style.height,\n\n    // Label\n    hasLabel: bWrap?.classList.contains(\"wptb-button-has-label\"),\n    labelBg: labelEl?.style.backgroundColor,\n    labelColor: labelEl?.style.color,\n    labelText: labelEl?.querySelector(\".wptb-button-label-text\")?.innerHTML,\n\n    // Spacing\n    padding: parseSpacing(\"padding\", el.style),\n    margin: parseSpacing(\"margin\", el.style),\n  };\n\n  const bid = uuidv4();\n  allProps[bid] = props;\n\n  return [\n    bid,\n    {\n      name: \"button\",\n      blockOrder: [],\n    },\n  ];\n};\n\nexport default parseBlock;\n","import cls from \"classnames\";\nimport { createElement, CSSProperties, useMemo, useState } from \"react\";\nimport { ButtonIcon } from \"@wptb/ui/icons/elements\";\nimport { getBorderRadiusCss, getSpacingStyle } from \"@wptb/utils/style\";\nimport { registerBlock } from \"@/block_registry\";\n\nimport Control from \"./control\";\nimport parseBlock from \"./parse\";\nimport { BlockInstance, BlockPreviewInstance } from \"@wptb/dev/types\";\nimport { ButtonBlockProps } from \"@wptb/dev/types\";\nimport RichText from \"@wptb/ui/components/rich-text\";\nimport { useBlock } from \"@/public/hooks\";\nimport { NetIcon } from \"@wptb/ui/components\";\n\nconst getAttrs = (props: ButtonBlockProps, isHovered: boolean) => {\n  const mainStyle = {\n    ...getSpacingStyle(props.padding, \"padding\"),\n    ...getSpacingStyle(props.margin, \"margin\"),\n  };\n  const btnStyle: CSSProperties = {\n    borderRadius: getBorderRadiusCss(props.borderRadius),\n    background: isHovered\n      ? props.hoverBg || props.background\n      : props.background,\n    color: isHovered ? props.hoverColor || props.color : props.color,\n    justifyContent: props.contentAlignment,\n    position: \"relative\",\n    transform:\n      isHovered && props.hoverScale ? `scale(${props.hoverScale})` : undefined,\n  };\n\n  const hoverAttrs = {\n    \"data-wptb-element-hover-bg-color\": props.hoverBg,\n    \"data-wptb-element-hover-text-color\": props.hoverColor,\n    \"data-wptb-element-hover-scale\": props.hoverScale,\n  };\n\n  const btnAttrs = {\n    \"data-wptb-element-bg-color\": props.background,\n    \"data-wptb-element-color\": props.color,\n    ...hoverAttrs,\n  };\n\n  const labelStyle = {\n    display: props.hasLabel ? \"inline-flex\" : \"none\",\n    background: props.labelBg,\n    color: props.labelColor,\n  };\n  const btnPStyle = {\n    fontSize: props.fontSize ?? \"15px\",\n  };\n\n  return {\n    mainStyle,\n    btnStyle,\n    btnAttrs,\n    btnPStyle,\n    labelStyle,\n    hoverAttrs,\n  };\n};\n\nconst getLinkEl = (props: ButtonBlockProps) => {\n  let lTag = \"div\";\n  let lAttrs: any = {\n    id: props.id,\n    style: {\n      width: props.fullWidth ? \"100%\" : null,\n    },\n  };\n\n  if (props.url && props.url !== \"\") {\n    lTag = \"a\";\n    let url = props.url;\n    if (props.convertToAbsolute && !/^https?:\\/\\//.test(props.url)) {\n      url = \"https://\" + url.replace(/^\\//, \"\");\n    }\n    lAttrs = {\n      ...lAttrs,\n      href: url,\n      target: props.linkTarget,\n      rel: props.linkRel?.join?.(\" \"),\n      \"data-wptb-link-enable-convert-relative\": props.convertToAbsolute,\n      onClick: (evt: any) => evt.preventDefault(),\n    };\n  }\n\n  return { lTag, lAttrs };\n};\n\nconst Edit = ({ name, blockPath }: BlockInstance) => {\n  const [isLabelFocused, setLabelFocused] = useState(false);\n  const [isHovered, setHovered] = useState(false);\n  const { props, isActive, attributes, updateProps } =\n    useBlock<ButtonBlockProps>({\n      name,\n      blockPath,\n      onMouseEnter: () => setHovered(true),\n      onMouseLeave: () => setHovered(false),\n    });\n\n  const { lTag, lAttrs } = useMemo(() => getLinkEl(props), [props]);\n  const { mainStyle, btnStyle, btnAttrs, labelStyle, hoverAttrs, btnPStyle } =\n    useMemo(() => getAttrs(props, isHovered), [props, isHovered]);\n\n  let wrapperClass = `wptb-size-${props.size}`;\n  if (props.hasLabel) {\n    wrapperClass += \" wptb-button-has-label\";\n  }\n  const iconSize = props.iconSize ?? \"25px\";\n\n  return (\n    <div\n      style={mainStyle}\n      {...attributes}\n      className={cls(\n        \"wptb-button-container wptb-ph-element wptb-element-button-404\",\n        {\n          \"wptb-label-focused\": isLabelFocused,\n          \"wptb-active\": isActive,\n        }\n      )}\n    >\n      <div\n        className={`wptb-button-wrapper ${wrapperClass}`}\n        style={{ justifyContent: props.buttonAlignment }}\n      >\n        {createElement(\n          lTag,\n          {\n            className: \"wptb-link-target\",\n            ...lAttrs,\n          },\n          <div\n            className={`wptb-button wptb-plugin-button-order-${props.iconPosition ?? \"left\"}`}\n            style={btnStyle}\n            {...btnAttrs}\n          >\n            <RichText\n              preventNewLine\n              value={props.text}\n              onChange={(text) => updateProps({ text })}\n              toolbar={[\"bold\", \"italic\", \"underline\", \"strike\"]}\n              props={{ style: btnPStyle }}\n              placeholder=\"\"\n            />\n            <div\n              className=\"wptb-button-icon\"\n              data-wptb-button-icon-src={props.icon || \"\"}\n              style={{ width: iconSize, height: iconSize }}\n              {...hoverAttrs}\n            >\n              <NetIcon name={props.icon as any} />\n            </div>\n            <div\n              className=\"wptb-button-label\"\n              style={labelStyle}\n              {...hoverAttrs}\n            >\n              <div\n                className=\"wptb-button-label-decorator\"\n                style={{\n                  borderColor: `rgba(0, 0, 0, 0) ${props.labelBg} rgba(0, 0, 0, 0)`,\n                }}\n              >\n                <br />\n              </div>\n              <RichText\n                preventNewLine\n                value={props.labelText}\n                onChange={(labelText) => updateProps({ labelText })}\n                toolbar={[\"bold\", \"italic\", \"underline\", \"strike\"]}\n                props={{\n                  onFocus: () => setLabelFocused(true),\n                  onBlur: () => setLabelFocused(false),\n                }}\n                placeholder=\"Label\"\n              />\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nconst Preview = ({ props }: BlockPreviewInstance) => {\n  const [isHovered, setHovered] = useState(false);\n\n  const { lTag, lAttrs } = useMemo(() => getLinkEl(props), [props]);\n  const { mainStyle, btnStyle, btnAttrs, labelStyle, hoverAttrs, btnPStyle } =\n    useMemo(() => getAttrs(props, isHovered), [props, isHovered]);\n\n  let wrapperClass = `wptb-size-${props.size}`;\n  if (props.hasLabel) {\n    wrapperClass += \" wptb-button-has-label\";\n  }\n  const iconSize = props.iconSize ?? \"25px\";\n\n  return (\n    <div\n      style={mainStyle}\n      className=\"wptb-button-container wptb-ph-element wptb-element-button-404\"\n      onMouseEnter={() => setHovered(true)}\n      onMouseLeave={() => setHovered(false)}\n    >\n      <div\n        className={`wptb-button-wrapper ${wrapperClass}`}\n        style={{ justifyContent: props.buttonAlignment }}\n      >\n        {createElement(\n          lTag,\n          {\n            className: \"wptb-link-target\",\n            ...lAttrs,\n          },\n          <div\n            className={`wptb-button wptb-plugin-button-order-${props.iconPosition ?? \"left\"}`}\n            style={btnStyle}\n            {...btnAttrs}\n          >\n            <p\n              style={btnPStyle}\n              dangerouslySetInnerHTML={{ __html: props.text }}\n            />\n            <div\n              className=\"wptb-button-icon\"\n              data-wptb-button-icon-src={props.icon}\n              style={{ width: iconSize, height: iconSize }}\n              {...hoverAttrs}\n            >\n              <NetIcon name={props.icon as any} />\n            </div>\n            <div\n              className=\"wptb-button-label\"\n              style={labelStyle}\n              {...hoverAttrs}\n            >\n              <div\n                className=\"wptb-button-label-decorator\"\n                style={{\n                  borderColor: `rgba(0, 0, 0, 0) ${props.labelBg} rgba(0, 0, 0, 0)`,\n                }}\n              >\n                <br />\n              </div>\n              <div\n                {...hoverAttrs}\n                className=\"wptb-button-label-text\"\n                dangerouslySetInnerHTML={{ __html: props.labelText }}\n              />\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nregisterBlock<ButtonBlockProps>({\n  name: \"button\",\n  title: \"Button\",\n  Edit,\n  Preview,\n  icon: ButtonIcon,\n  Control,\n  isBlock: (el: HTMLElement) => el.classList.contains(\"wptb-button-container\"),\n  parse: parseBlock,\n  defaultProps: {\n    text: \"Button Text\",\n    size: \"m\",\n    fullWidth: false,\n    borderRadius: \"5px\",\n    background: \"rgb(50, 57, 63)\",\n    color: \"#ffffff\",\n    buttonAlignment: \"center\",\n    contentAlignment: \"center\",\n    hoverScale: 1,\n  },\n});\n","import { useState } from \"react\";\nimport { BlockControlProps } from \"@wptb/dev/types\";\nimport { ImageBlockProps } from \"@wptb/dev/types\";\nimport {\n  AlignmentControl,\n  ChoiceGroup,\n  ImagePicker,\n  PanelBody,\n  SelectControl,\n  SizeControl,\n  SpacingControl,\n  SwitchControl,\n  Tab,\n  TextControl,\n} from \"@wptb/ui/components\";\nimport UpsellControl from \"@/builder/components/upsell-control\";\n\ninterface TabAttrs {\n  blockProps: ImageBlockProps;\n  setBlockProps: (props: Partial<ImageBlockProps>) => void;\n}\n\nconst GeneralTab = ({ blockProps, setBlockProps }: TabAttrs) => {\n  return (\n    <div className=\"wptb-control-group\">\n      <ImagePicker\n        label=\"Choose Image\"\n        value={blockProps.src}\n        onChange={(src: any) => setBlockProps({ src })}\n      />\n      <AlignmentControl\n        label=\"Image Alignment\"\n        value={blockProps.alignment}\n        onChange={(alignment: any) => setBlockProps({ alignment })}\n      />\n      <TextControl\n        label=\"Image Alt Text\"\n        value={blockProps.alt}\n        onChange={(alt: any) => setBlockProps({ alt })}\n        placeholder=\"Alt Text\"\n      />\n      <UpsellControl name=\"image.padding\">\n        <SpacingControl label=\"Padding\" value={blockProps?.padding} />\n      </UpsellControl>\n      <UpsellControl name=\"image.margin\">\n        <SpacingControl label=\"Margin\" value={blockProps?.margin} />\n      </UpsellControl>\n    </div>\n  );\n};\n\nconst SizeTab = ({ blockProps, setBlockProps }: TabAttrs) => {\n  return (\n    <div className=\"wptb-control-group\">\n      <UpsellControl name=\"image.size_relative_to\">\n        <SelectControl\n          label=\"Relative to\"\n          value={blockProps.sizeRelativeTo}\n          options={[\n            {\n              label: \"Container\",\n              value: \"container\",\n            },\n            {\n              label: \"Self\",\n              value: \"self\",\n            },\n          ]}\n        />\n      </UpsellControl>\n      {WPTB_CFG.IS_PRO && blockProps.sizeRelativeTo === \"self\" ? (\n        <UpsellControl name=\"image.size_self\">{\"\"}</UpsellControl>\n      ) : (\n        <SizeControl\n          label=\"Size\"\n          value={blockProps?.width}\n          onChange={(width: any) => setBlockProps({ width })}\n          allowOutOfRangeMax\n        />\n      )}\n    </div>\n  );\n};\n\nconst LinkTab = ({ blockProps, setBlockProps }: TabAttrs) => {\n  return (\n    <div className=\"wptb-control-group\">\n      <TextControl\n        label=\"Button Link\"\n        value={blockProps.url}\n        onChange={(url: any) => setBlockProps({ url })}\n        placeholder=\"Insert Link Here\"\n      />\n      <ChoiceGroup\n        label=\"Link rel\"\n        items={[\n          {\n            label: \"Sponsored\",\n            value: \"sponsored\",\n          },\n          {\n            label: \"No Follow\",\n            value: \"nofollow\",\n          },\n          {\n            label: \"No Referer\",\n            value: \"noreferer\",\n          },\n        ]}\n        value={blockProps?.linkRel}\n        onChange={(linkRel: any) => setBlockProps({ linkRel })}\n      />\n      <SelectControl\n        label=\"Link Target\"\n        value={blockProps?.linkTarget}\n        options={[\n          {\n            label: \"Self\",\n            value: \"_self\",\n          },\n          {\n            label: \"Blank\",\n            value: \"_blank\",\n          },\n        ]}\n        onChange={(linkTarget: any) => setBlockProps({ linkTarget })}\n      />\n      <SwitchControl\n        label=\"Convert link to absolute\"\n        checked={blockProps.convertToAbsolute!}\n        onChange={(x: any) => setBlockProps({ convertToAbsolute: x })}\n      />\n    </div>\n  );\n};\n\nconst Control = ({\n  blockProps,\n  setBlockProps,\n}: BlockControlProps<ImageBlockProps>) => {\n  const [activeTab, setActiveTab] = useState<string>(\"general\");\n  return (\n    <PanelBody title=\"Image\" initialOpen className=\"wptb-settings\">\n      <Tab\n        active={activeTab}\n        setActive={setActiveTab}\n        props={{ blockProps, setBlockProps }}\n        tabs={{\n          general: { title: \"General\", component: GeneralTab },\n          size: { title: \"Size\", component: SizeTab },\n          link: { title: \"Link\", component: LinkTab },\n        }}\n      />\n    </PanelBody>\n  );\n};\n\nexport default Control;\n","import { v4 as uuidv4 } from \"uuid\";\nimport { BlockParser } from \"@wptb/dev/types\";\nimport { ImageBlockProps } from \"@wptb/dev/types\";\nimport { parseSpacing } from \"@wptb/utils/parser\";\n\nconst parseBlock: BlockParser = (el, allProps) => {\n  const imgEl: HTMLImageElement | null = el.querySelector(\"img\");\n  const lTarget: HTMLAnchorElement | null =\n    el.querySelector(\".wptb-link-target\");\n\n  const props: ImageBlockProps = {\n    src: imgEl?.src,\n    alignment: el.dataset.wptbImageAlignment || \"center\",\n    alt: imgEl?.getAttribute(\"alt\") as any,\n    imgHeight: parseFloat(imgEl?.getAttribute(\"height\") || \"1\"),\n    imgWidth: parseFloat(imgEl?.getAttribute(\"width\") || \"1\"),\n\n    sizeRelativeTo: el.dataset.wptbImageSizeRelative || \"container\",\n    size: imgEl?.dataset.wptbSize,\n    width: lTarget?.style.width || \"100%\",\n\n    url: lTarget?.href,\n    linkRel: lTarget?.getAttribute(\"rel\")?.split(\" \") || [],\n    linkTarget: lTarget?.getAttribute(\"target\") as any,\n    convertToAbsolute:\n      lTarget?.dataset.wptbLinkEnableConvertRelative === \"true\",\n\n    padding: parseSpacing(\"padding\", el.style),\n    margin: parseSpacing(\"margin\", el.style),\n  };\n\n  const bid = uuidv4();\n  allProps[bid] = props;\n\n  return [\n    bid,\n    {\n      name: \"image\",\n      blockOrder: [],\n    },\n  ];\n};\n\nexport default parseBlock;\n","import cls from \"classnames\";\nimport { ImageIcon } from \"@wptb/ui/icons/elements\";\nimport { registerBlock } from \"@/block_registry\";\n\nimport Control from \"./control\";\nimport parseBlock from \"./parse\";\nimport { BlockInstance, BlockPreviewInstance } from \"@wptb/dev/types\";\nimport { ImageBlockProps } from \"@wptb/dev/types\";\nimport { getSpacingStyle } from \"@wptb/utils/style\";\nimport { createElement, useMemo } from \"react\";\nimport { useBlock } from \"@/public/hooks\";\n\nconst getLinkEl = (props: ImageBlockProps) => {\n  let lTag = \"div\";\n  let lAttrs: any = {\n    className: \"wptb-link-target\",\n    style: {\n      float: props.alignment === \"center\" ? \"none\" : props.alignment,\n      width: props.width || \"50%\",\n    },\n  };\n\n  if (props.url && props.url !== \"\") {\n    lTag = \"a\";\n    let url = props.url;\n    if (props.convertToAbsolute && !/^https?:\\/\\//.test(props.url)) {\n      url = \"https://\" + url.replace(/^\\//, \"\");\n    }\n    lAttrs = {\n      ...lAttrs,\n      href: url,\n      target: props.linkTarget,\n      rel: props.linkRel?.join?.(\" \"),\n      \"data-wptb-link-enable-convert-relative\": props.convertToAbsolute,\n      onClick: (evt: any) => evt.preventDefault(),\n    };\n  }\n\n  return { lTag, lAttrs };\n};\n\nconst PlaceHolder = () => {\n  return (\n    <div className=\"wptb-image-placeholder\">\n      {ImageIcon}\n      <p>Select Image</p>\n    </div>\n  );\n};\n\nconst Edit = ({ name, blockPath }: BlockInstance) => {\n  const { props, attributes, isActive } = useBlock<ImageBlockProps>({\n    name,\n    blockPath,\n  });\n\n  const wrapperAttrs = {\n    \"data-wptb-image-alignment\": props.alignment,\n    \"data-wptb-image-size-relative\": props.sizeRelativeTo,\n  };\n\n  const wrapperStyle = {\n    ...getSpacingStyle(props.margin, \"margin\"),\n    ...getSpacingStyle(props.padding, \"padding\"),\n  };\n\n  const imgAttrs = {\n    \"data-wptb-size\": props.size,\n    height: props.imgHeight,\n    width: props.imgWidth,\n    src: props.src,\n    alt: props.alt,\n  };\n\n  const { lTag, lAttrs } = useMemo(() => getLinkEl(props), [props]);\n\n  return (\n    <div\n      className={cls(\n        \"wptb-image-container wptb-ph-element wptb-element-image-404\",\n        {\n          \"wptb-active\": isActive,\n        }\n      )}\n      {...wrapperAttrs}\n      style={wrapperStyle}\n      {...attributes}\n    >\n      <div className=\"wptb-image-wrapper\">\n        {createElement(\n          lTag,\n          lAttrs,\n          imgAttrs.src ? <img {...imgAttrs} /> : <PlaceHolder />\n        )}\n      </div>\n    </div>\n  );\n};\n\nconst Preview = ({ props }: BlockPreviewInstance<ImageBlockProps>) => {\n  const wrapperAttrs = {\n    \"data-wptb-image-alignment\": props.alignment,\n    \"data-wptb-image-size-relative\": props.sizeRelativeTo,\n  };\n\n  const wrapperStyle = {\n    ...getSpacingStyle(props.margin, \"margin\"),\n    ...getSpacingStyle(props.padding, \"padding\"),\n  };\n\n  const imgAttrs = {\n    \"data-wptb-size\": props.size,\n    height: props.imgHeight,\n    width: props.imgWidth,\n    src: props.src,\n    alt: props.alt,\n  };\n\n  const { lTag, lAttrs } = useMemo(() => getLinkEl(props), [props]);\n\n  return (\n    <div\n      className=\"wptb-image-container wptb-ph-element wptb-element-image-404\"\n      {...wrapperAttrs}\n      style={wrapperStyle}\n    >\n      <div className=\"wptb-image-wrapper\">\n        {createElement(\n          lTag,\n          lAttrs,\n          imgAttrs.src ? <img {...imgAttrs} /> : <PlaceHolder />\n        )}\n      </div>\n    </div>\n  );\n};\n\nregisterBlock<ImageBlockProps>({\n  name: \"image\",\n  title: \"Image\",\n  Edit,\n  Preview,\n  icon: ImageIcon,\n  Control,\n  isBlock: (el: HTMLElement) => el.classList.contains(\"wptb-image-container\"),\n  parse: parseBlock,\n  defaultProps: {\n    width: \"100%\",\n    sizeRelativeTo: \"container\",\n  },\n});\n","import UpsellControl from \"@/builder/components/upsell-control\";\nimport {\n  AlignmentControl,\n  ColorControl,\n  PanelBody,\n  SelectControl,\n  SizeControl,\n  SpacingControl,\n  Tab,\n} from \"@wptb/ui/components\";\nimport { BlockControlProps } from \"@wptb/dev/types\";\nimport { ListBlockProps } from \"@wptb/dev/types\";\nimport { useState } from \"react\";\n\ninterface TabAttrs {\n  blockProps: ListBlockProps;\n  setBlockProps: (props: Partial<ListBlockProps>) => void;\n}\n\nconst GeneralTab = ({ blockProps, setBlockProps }: TabAttrs) => {\n  return (\n    <div className=\"wptb-control-group\">\n      <SelectControl\n        label=\"List Type\"\n        options={[\n          {\n            value: \"unordered\",\n            label: \"Unordered\",\n          },\n          {\n            value: \"ordered\",\n            label: \"Ordered\",\n          },\n        ]}\n        value={blockProps.type}\n        onChange={(type: any) => setBlockProps({ type })}\n      />\n      {blockProps.type === \"unordered\" ? (\n        <SelectControl\n          label=\"List Icon\"\n          options={[\n            {\n              value: \"circle\",\n              label: \"Circle\",\n            },\n            {\n              value: \"square\",\n              label: \"Square\",\n            },\n            {\n              value: \"disc\",\n              label: \"Disc\",\n            },\n            {\n              value: \"none\",\n              label: \"None\",\n            },\n          ]}\n          value={blockProps.listIcon}\n          onChange={(listIcon: any) => setBlockProps({ listIcon })}\n        />\n      ) : null}\n      <UpsellControl name=\"list.padding\">\n        <SpacingControl label=\"Padding\" value={blockProps?.padding} />\n      </UpsellControl>\n      <UpsellControl name=\"list.margin\">\n        <SpacingControl label=\"Margin\" value={blockProps?.margin} />\n      </UpsellControl>\n    </div>\n  );\n};\n\nconst FontTab = ({ blockProps, setBlockProps }: TabAttrs) => {\n  return (\n    <div className=\"wptb-control-group\">\n      <ColorControl\n        label=\"Text Color\"\n        value={blockProps?.color}\n        onReset={() => setBlockProps({ color: undefined })}\n        onChange={(color) => setBlockProps({ color })}\n      />\n      <SizeControl\n        label=\"Font Size\"\n        value={blockProps?.fontSize}\n        onReset={() => setBlockProps({ fontSize: undefined })}\n        onChange={(fontSize) => setBlockProps({ fontSize })}\n      />\n    </div>\n  );\n};\n\nconst LayoutTab = ({ blockProps, setBlockProps }: TabAttrs) => {\n  return (\n    <div className=\"wptb-control-group\">\n      <SizeControl\n        label=\"Item Spacing\"\n        value={blockProps?.itemSpacing}\n        onReset={() => setBlockProps({ itemSpacing: undefined })}\n        onChange={(itemSpacing) => setBlockProps({ itemSpacing })}\n      />\n      <AlignmentControl\n        label=\"List Alignment\"\n        value={blockProps?.alignment}\n        onChange={(alignment) => setBlockProps({ alignment })}\n      />\n    </div>\n  );\n};\n\nconst Control = ({\n  blockProps,\n  setBlockProps,\n}: BlockControlProps<ListBlockProps>) => {\n  const [activeTab, setActiveTab] = useState<string>(\"general\");\n  return (\n    <PanelBody title=\"List\" initialOpen className=\"wptb-settings\">\n      <Tab\n        active={activeTab}\n        setActive={setActiveTab}\n        tabs={{\n          general: { title: \"General\", component: GeneralTab },\n          font: { title: \"Font\", component: FontTab },\n          layout: { title: \"Layout\", component: LayoutTab },\n        }}\n        props={{ blockProps, setBlockProps }}\n      />\n    </PanelBody>\n  );\n};\n\nexport default Control;\n","import { v4 as uuidv4 } from \"uuid\";\nimport { ListBlockProps, ListItemBlockProps } from \"@wptb/dev/types\";\nimport { BlockParser } from \"@wptb/dev/types\";\nimport { parseSpacing } from \"@wptb/utils/parser\";\n\nconst parseBlock: BlockParser = (el, allProps, innerBlocks) => {\n  const firstLi: HTMLLIElement | null = el.querySelector(\"li\");\n  const firstP: HTMLParagraphElement | null | undefined =\n    firstLi?.querySelector(\"p\");\n\n  const icon = firstP?.className.match(\n    /wptb-list-style-type-(none|circle|square|disc)/\n  )?.[1];\n\n  const blockOrder: string[] = [];\n  const alignMap = new Map<string, number>();\n  const liProps: ListItemBlockProps[] = [];\n\n  const props: ListBlockProps = {\n    type: icon ? \"unordered\" : \"ordered\",\n    listIcon: icon || \"disc\",\n    color: firstP?.style.color,\n    fontSize: firstP?.style.fontSize,\n    itemSpacing: firstLi?.style.marginBottom,\n    padding: parseSpacing(\"padding\", el.style),\n    margin: parseSpacing(\"margin\", el.style),\n  };\n\n  const listId = uuidv4();\n  allProps[listId] = props;\n\n  Array.from(el.querySelectorAll(\"li\")).forEach((child) => {\n    const toolTipEl = child.querySelector(\".wptb-m-tooltip\");\n    const tooltipPosision =\n      child.className.match(/wptb-tooltip-(top|bottom|left|right)/)?.[1] ||\n      \"top\";\n    const pEl = child.querySelector(\"p\");\n\n    const alignment = pEl?.style.textAlign || \"left\";\n\n    const lastEntry = alignMap.get(alignment);\n    if (lastEntry) {\n      alignMap.set(alignment, lastEntry + 1);\n    } else {\n      alignMap.set(alignment, 1);\n    }\n\n    const itmProps: ListItemBlockProps = {\n      text: pEl?.innerHTML || \"\",\n      alignment,\n      toolTip: toolTipEl?.innerHTML || \"\",\n      tooltipPosision,\n    };\n\n    const bId = uuidv4();\n    blockOrder.push(bId);\n    allProps[bId] = itmProps;\n    liProps.push(itmProps);\n\n    innerBlocks[bId] = {\n      name: \"list-item\",\n      blockOrder: [],\n      parentId: listId,\n    };\n  });\n\n  let alignment: string = \"left\";\n  let aCount = 0;\n\n  alignMap.forEach((value, key) => {\n    if (value > aCount) {\n      alignment = key;\n      aCount = value;\n    }\n  });\n\n  liProps.forEach((item) => {\n    if (item.alignment === alignment) {\n      delete item.alignment;\n    }\n  });\n\n  props.alignment = alignment;\n\n  return [\n    listId,\n    {\n      name: \"list\",\n      blockOrder,\n    },\n  ];\n};\n\nexport default parseBlock;\n","import UpsellControl from \"@/builder/components/upsell-control\";\nimport PanelBody from \"@wptb/ui/components/panel-body\";\nimport SelectControl from \"@wptb/ui/components/select-Control\";\nimport TextControl from \"@wptb/ui/components/text-Control\";\nimport { BlockControlProps } from \"@wptb/dev/types\";\nimport { ListItemBlockProps } from \"@wptb/dev/types\";\n\nconst Control = ({ blockProps }: BlockControlProps<ListItemBlockProps>) => {\n  return (\n    <PanelBody title=\"List Item Tooltip\" className=\"wptb-settings\" initialOpen>\n      <UpsellControl name=\"list-item.tooltip\">\n        <TextControl label=\"Tooltip Text\" value={blockProps.toolTip} />\n        <SelectControl\n          label=\"Tooltip Position\"\n          value={blockProps.tooltipPosision}\n          options={[\n            {\n              label: \"Top\",\n              value: \"top\",\n            },\n            {\n              label: \"Bottom\",\n              value: \"bottom\",\n            },\n            {\n              label: \"Left\",\n              value: \"left\",\n            },\n            {\n              label: \"Right\",\n              value: \"right\",\n            },\n          ]}\n        />\n      </UpsellControl>\n    </PanelBody>\n  );\n};\n\nexport default Control;\n","import { CSSProperties, useEffect, useRef } from \"react\";\nimport cls from \"classnames\";\nimport { BlockInstance, BlockPreviewInstance } from \"@wptb/dev/types\";\nimport { ListBlockProps, ListItemBlockProps } from \"@wptb/dev/types\";\nimport RichText, { RichTextRef } from \"@wptb/ui/components/rich-text\";\nimport { registerInnerBlock } from \"@/block_registry\";\nimport Control from \"./control\";\nimport { useBlockProps } from \"@/public/hooks\";\nimport { useBlock } from \"@/public/hooks\";\nimport { insertInnerBlock } from \"@/public/block\";\n\nconst useInfo = (props: ListItemBlockProps, blockPath: string[]) => {\n  const { listIcon, itemSpacing, color, fontSize, type, alignment } =\n    useBlockProps<ListBlockProps>(blockPath, -2);\n\n  const pClass = type === \"unordered\" ? `wptb-list-style-type-${listIcon}` : \"\";\n\n  const liStyle: CSSProperties = {\n    marginBottom: itemSpacing,\n  };\n\n  const pStyle: CSSProperties = {\n    color,\n    fontSize: fontSize,\n    justifyContent:\n      {\n        left: \"flex-start\",\n        right: \"flex-end\",\n      }[props.alignment || (alignment as string)] || \"center\",\n  };\n\n  let liClass = \"wptb-in-element\";\n  const toolTip = props.toolTip?.trim();\n\n  if (toolTip) {\n    liClass += ` wptb-tooltip wptb-tooltip-${props.tooltipPosision}`;\n  }\n\n  return {\n    pClass,\n    liStyle,\n    pStyle,\n    liClass,\n    toolTip,\n  };\n};\n\nlet shouldFocus: string | null = null;\n\nconst Edit = ({ name, index, blockPath }: BlockInstance) => {\n  const editorRef = useRef<RichTextRef>();\n\n  const { props, isActive, attributes, updateProps } =\n    useBlock<ListItemBlockProps>({\n      name,\n      blockPath,\n    });\n\n  const split = (one: any, two: any) => {\n    updateProps({ text: one });\n    shouldFocus = insertInnerBlock(\n      blockPath.at(-2)!,\n      \"list-item\",\n      { text: two },\n      index! + 1,\n      blockPath.slice(0, -1)\n    );\n  };\n\n  const { pClass, liStyle, pStyle, liClass, toolTip } = useInfo(\n    props,\n    blockPath\n  );\n\n  useEffect(() => {\n    if (shouldFocus === blockPath.at(-1)) {\n      editorRef.current?.focus();\n      shouldFocus = null;\n    }\n  }, [blockPath]);\n\n  const isEmpty = !props.text || props.text === \"<p><br></p>\";\n\n  return (\n    <li\n      className={cls(liClass, {\n        \"wptb-active\": isActive,\n        \"wptb-list-item-empty\": isEmpty,\n      })}\n      style={liStyle}\n      {...attributes}\n    >\n      <div className=\"wptb-list-item-content\" style={{ position: \"relative\" }}>\n        <RichText\n          ref={editorRef as any}\n          value={props.text}\n          props={\n            {\n              \"data-list-style-type-index\": `${index! + 1}.`,\n              className: pClass + \" ql-container ql-snow\",\n              style: pStyle,\n            } as any\n          }\n          onChange={(update) => updateProps({ text: update })}\n          onAlignmentChange={(u) =>\n            updateProps({\n              alignment: !u || u === \"justify\" ? \"left\" : u,\n            })\n          }\n          onSplit={split}\n        />\n      </div>\n      {toolTip && !isActive && <div className=\"wptb-m-tooltip\">{toolTip}</div>}\n    </li>\n  );\n};\n\nconst Preview = ({ props, blockPath }: BlockPreviewInstance) => {\n  const { pClass, liStyle, pStyle, liClass, toolTip } = useInfo(\n    props,\n    blockPath\n  );\n\n  return (\n    <li className={liClass} style={liStyle}>\n      <div className=\"wptb-list-item-content\" style={{ position: \"relative\" }}>\n        <p\n          className={pClass}\n          style={pStyle}\n          dangerouslySetInnerHTML={{ __html: props.text }}\n        />\n      </div>\n      {toolTip && <div className=\"wptb-m-tooltip\">{toolTip}</div>}\n    </li>\n  );\n};\n\nregisterInnerBlock<ListItemBlockProps>({\n  name: \"list-item\",\n  Edit,\n  Preview,\n  Control,\n  defaultProps: {\n    text: \"List Item\",\n  },\n  supportedParents: [\"list\"],\n});\n","import cls from \"classnames\";\nimport { ListIcon } from \"@wptb/ui/icons/elements\";\nimport { registerBlock } from \"@/block_registry\";\n\nimport Control from \"./control\";\nimport parseBlock from \"./parse\";\nimport { BlockInstance, BlockPreviewInstance } from \"@wptb/dev/types\";\nimport { ListBlockProps, ListItemBlockProps } from \"@wptb/dev/types\";\nimport { getSpacingStyle } from \"@wptb/utils/style\";\nimport { useBlock } from \"@/public/hooks\";\n\nimport \"./list-item\";\n\nconst Edit = ({ name, blockPath, children }: BlockInstance) => {\n  const { props, isActive, attributes } = useBlock<ListBlockProps>({\n    name,\n    blockPath,\n  });\n  const { padding, margin } = props;\n\n  const listStyle = {\n    ...getSpacingStyle(padding, \"padding\"),\n    ...getSpacingStyle(margin, \"margin\"),\n  };\n\n  return (\n    <div\n      className={cls(\n        \"wptb-list-container wptb-ph-element wptb-element-list-404\",\n        {\n          \"wptb-list-active\": isActive,\n        }\n      )}\n      style={listStyle}\n      {...attributes}\n    >\n      <ul>{children}</ul>\n    </div>\n  );\n};\n\nconst Preview = ({ props, children }: BlockPreviewInstance<ListBlockProps>) => {\n  const { padding, margin } = props;\n\n  const listStyle = {\n    ...getSpacingStyle(padding, \"padding\"),\n    ...getSpacingStyle(margin, \"margin\"),\n  };\n\n  return (\n    <div\n      className=\"wptb-list-container wptb-ph-element wptb-element-list-404\"\n      style={listStyle}\n    >\n      <ul>{children}</ul>\n    </div>\n  );\n};\n\nregisterBlock<ListBlockProps, ListItemBlockProps>({\n  name: \"list\",\n  title: \"List\",\n  Edit,\n  Preview,\n  icon: ListIcon,\n  Control,\n  isBlock: (el: HTMLElement) => el.classList.contains(\"wptb-list-container\"),\n  parse: parseBlock,\n  defaultProps: {\n    type: \"ordered\",\n    alignment: \"left\",\n  },\n  defaultInnerBlocks: [\n    [\"list-item\", { text: \"List item 1\" }],\n    [\"list-item\", { text: \"List item 2\" }],\n  ],\n  supportedChildren: [\"list-item\"],\n});\n","import UpsellControl from \"@/builder/components/upsell-control\";\nimport {\n  AlignmentControl,\n  ColorControl,\n  PanelBody,\n  RangeControl,\n  SizeControl,\n  SpacingControl,\n  SwitchControl,\n} from \"@wptb/ui/components\";\nimport { BlockControlProps } from \"@wptb/dev/types\";\nimport { StarRatingBlockProps } from \"@wptb/dev/types\";\n\nconst Control = ({\n  blockProps,\n  setBlockProps,\n}: BlockControlProps<StarRatingBlockProps>) => {\n  return (\n    <PanelBody initialOpen title=\"Star Rating\" className=\"wptb-settings\">\n      <RangeControl\n        label=\"Max Rating\"\n        value={blockProps.maxValue}\n        onChange={(v) => setBlockProps({ maxValue: v })}\n        allowOutOfRange\n        min={0}\n        max={10}\n      />\n\n      <RangeControl\n        label=\"Rating Value\"\n        value={blockProps.value}\n        onChange={(v) => setBlockProps({ value: v })}\n        min={0}\n        max={blockProps.maxValue}\n        step={0.2}\n      />\n\n      <SizeControl\n        label=\"Star Size\"\n        value={blockProps.starSize}\n        onChange={(v) => setBlockProps({ starSize: v })}\n        allowOutOfRange\n      />\n\n      <AlignmentControl\n        label=\"Content Alignment\"\n        value={blockProps.alignment}\n        onChange={(x) => setBlockProps({ alignment: x })}\n      />\n      <ColorControl\n        label=\"Star Color\"\n        value={blockProps.starColor}\n        onChange={(x) => setBlockProps({ starColor: x })}\n      />\n      <SwitchControl\n        label=\"Show Rating\"\n        checked={blockProps.showRating!}\n        onChange={(x: any) => setBlockProps({ showRating: x })}\n      />\n      {blockProps.showRating && (\n        <>\n          <SizeControl\n            label=\"Font Size\"\n            value={blockProps.fontSize}\n            onChange={(x: any) => setBlockProps({ fontSize: x })}\n          />\n          <ColorControl\n            label=\"Text Color\"\n            value={blockProps.color}\n            onChange={(x: any) => setBlockProps({ color: x })}\n          />\n        </>\n      )}\n      <UpsellControl name=\"star-rating.padding\">\n        <SpacingControl label=\"Padding\" value={blockProps?.padding} />\n      </UpsellControl>\n      <UpsellControl name=\"star-rating.margin\">\n        <SpacingControl label=\"Margin\" value={blockProps?.margin} />\n      </UpsellControl>\n    </PanelBody>\n  );\n};\n\nexport default Control;\n","import { BlockParser } from \"@wptb/dev/types\";\nimport { StarRatingBlockProps } from \"@wptb/dev/types\";\nimport { parseSpacing } from \"@wptb/utils/parser\";\n\nimport { v4 as uuidv4 } from \"uuid\";\n\nconst parseBlock: BlockParser = (el, allBlocks) => {\n  const firstStar = el.querySelector(\"li\");\n  const ratingBox: HTMLDivElement | null = el.querySelector(\n    \".wptb-number-rating-box\"\n  );\n  const ratingEl: HTMLDivElement | null = ratingBox?.firstElementChild as any;\n\n  const props: StarRatingBlockProps = {\n    starSize: firstStar?.style.height || \"20px\",\n    starColor:\n      firstStar?.querySelector(\"svg\")?.style.fill || \"rgb(219, 172, 0)\",\n    maxValue: parseInt(el.dataset.starCount || \"5\") || 5,\n    alignment: el.style.textAlign,\n    showRating: ratingBox?.style.display !== \"none\",\n    fontSize: ratingEl?.style.fontSize,\n    color: ratingEl?.style.color,\n\n    value: Number(ratingEl?.textContent?.split(\"/\")?.[0].trim() || 0),\n\n    padding: parseSpacing(\"padding\", el.style),\n    margin: parseSpacing(\"margin\", el.style),\n  };\n  const bid = uuidv4();\n  allBlocks[bid] = props;\n\n  return [\n    bid,\n    {\n      name: \"star-rating\",\n      blockOrder: [],\n    },\n  ];\n};\n\nexport default parseBlock;\n","import { useEffect, useRef } from \"react\";\n\ninterface StarProps {\n  id: string;\n  index: number;\n  value: number;\n  size: string;\n  displayColor: string;\n  setValue?: (value: number) => void;\n  setHighlighted?: (value: number) => void;\n  reset?: () => void;\n}\n\nexport const Star = ({\n  id,\n  index,\n  size,\n  value,\n  displayColor,\n  setHighlighted,\n  setValue,\n  reset,\n}: StarProps) => {\n  const elRef = useRef<SVGSVGElement>(null);\n\n  useEffect(() => {\n    if (!elRef.current) {\n      return;\n    }\n\n    const onMove = (evt: any) => {\n      const rect = elRef.current?.getBoundingClientRect();\n      if (!rect) {\n        return;\n      }\n      const x = evt.clientX - rect.left;\n      const val = index + x / rect.width;\n      setHighlighted?.(val);\n    };\n\n    const onClick = (evt: any) => {\n      const rect = elRef.current?.getBoundingClientRect();\n      if (!rect) {\n        return;\n      }\n      const x = evt.clientX - rect.left;\n      const val = index + x / rect.width;\n      setValue?.(val);\n    };\n\n    elRef.current.addEventListener(\"mousemove\", onMove);\n    elRef.current.addEventListener(\"click\", onClick);\n\n    return () => {\n      elRef.current?.removeEventListener(\"mousemove\", onMove);\n      elRef.current?.removeEventListener(\"click\", onClick);\n    };\n  }, [elRef.current]);\n\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      height={size}\n      width={size}\n      viewBox=\"-10 -10 170 170\"\n      ref={elRef}\n      onMouseLeave={reset}\n    >\n      <defs>\n        <mask id={`wptb_star_rating_filter-${id}-${index}`}>\n          <rect\n            height=\"150\"\n            width={Math.max(0, Math.min(value - index, 1)) * 150}\n            y=\"0\"\n            x=\"0\"\n            fill=\"#fff\"\n          />\n        </mask>\n      </defs>\n\n      <path\n        fill={\"none\"}\n        strokeWidth=\"5\"\n        d=\"m0.75,56.89914l56.02207,0l17.31126,-56.14914l17.31126,56.14914l56.02206,0l-45.32273,34.70168l17.31215,56.14914l-45.32274,-34.70262l-45.32274,34.70262l17.31215,-56.14914l-45.32274,-34.70168z\"\n        stroke={displayColor}\n      />\n      <path\n        className=\"star\"\n        mask={`url(#wptb_star_rating_filter-${id}-${index})`}\n        fill={displayColor}\n        strokeWidth=\"5\"\n        d=\"m0.75,56.89914l56.02207,0l17.31126,-56.14914l17.31126,56.14914l56.02206,0l-45.32273,34.70168l17.31215,56.14914l-45.32274,-34.70262l-45.32274,34.70262l17.31215,-56.14914l-45.32274,-34.70168z\"\n        stroke={displayColor}\n      />\n    </svg>\n  );\n};\n","import { StarRatingIcon } from \"@wptb/ui/icons/elements\";\nimport { registerBlock } from \"@/block_registry\";\n\nimport Control from \"./control\";\nimport parseBlock from \"./parse\";\nimport { BlockInstance, BlockPreviewInstance } from \"@wptb/dev/types\";\nimport { StarRatingBlockProps } from \"@wptb/dev/types\";\nimport { getSpacingStyle } from \"@wptb/utils/style\";\nimport { CSSProperties, useEffect, useState } from \"react\";\nimport { Star } from \"./star\";\nimport { useBlock } from \"@/public/hooks\";\nimport classNames from \"classnames\";\n\nconst getInfo = (props: StarRatingBlockProps) => {\n  const style: CSSProperties = {\n    textAlign: (props.alignment as any) || \"center\",\n    ...getSpacingStyle(props.margin, \"margin\"),\n    ...getSpacingStyle(props.padding, \"padding\"),\n  };\n\n  const value = props.value || 0;\n\n  const fontSize = props.fontSize || \"15px\";\n  const ratingStyle = {\n    fontSize,\n    lineHeight: fontSize,\n    height: fontSize,\n    color: props.color || \"\",\n  };\n\n  const total = props.maxValue || 0;\n  const ratingDisplay = props.showRating ? \"block\" : \"none\";\n\n  const starColor = props.starColor || \"#000000\";\n  const starSize = props.starSize || \"20px\";\n\n  return {\n    style,\n    total,\n    ratingDisplay,\n    ratingStyle,\n    starColor,\n    starSize,\n    value,\n  };\n};\n\nconst Edit = ({ name, blockPath }: BlockInstance) => {\n  const { props, attributes, updateProps, isActive } =\n    useBlock<StarRatingBlockProps>({\n      name,\n      blockPath,\n    });\n\n  const {\n    style,\n    total,\n    ratingDisplay,\n    ratingStyle,\n    starColor,\n    starSize,\n    value,\n  } = getInfo(props);\n\n  const [highlighted, setHighlighted] = useState(value);\n\n  useEffect(() => {\n    setHighlighted(value);\n  }, [value]);\n\n  return (\n    <div\n      data-star-count={total}\n      style={style}\n      {...attributes}\n      className={classNames(\n        \"wptb-star_rating-container wptb-ph-element wptb-element-star_rating-404\",\n        {\n          \"wptb-active\": isActive,\n        }\n      )}\n    >\n      <div className=\"wptb-rating-stars-box\">\n        <ul className=\"wptb-rating-stars-list\">\n          {Array(total)\n            .fill(0)\n            .map((_, i) => (\n              <li key={i}>\n                <Star\n                  id={blockPath.at(-1)!}\n                  index={i}\n                  displayColor={starColor}\n                  size={starSize}\n                  value={highlighted}\n                  setHighlighted={setHighlighted}\n                  setValue={(val) => updateProps({ value: val })}\n                  reset={() => setHighlighted(value)}\n                />\n              </li>\n            ))}\n        </ul>\n        <div\n          className=\"wptb-number-rating-box\"\n          style={{ display: ratingDisplay }}\n        >\n          <div className=\"wptb-number-rating\" style={ratingStyle}>\n            {value}/{total}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst Preview = ({\n  props,\n  blockPath,\n}: BlockPreviewInstance<StarRatingBlockProps>) => {\n  const {\n    style,\n    total,\n    ratingDisplay,\n    ratingStyle,\n    starColor,\n    starSize,\n    value,\n  } = getInfo(props);\n\n  return (\n    <div\n      data-star-count={total}\n      style={style}\n      className=\"wptb-star_rating-container wptb-ph-element wptb-element-star_rating-404\"\n    >\n      <div className=\"wptb-rating-stars-box\">\n        <ul className=\"wptb-rating-stars-list\">\n          {Array(total)\n            .fill(0)\n            .map((_, i) => (\n              <li key={i}>\n                <Star\n                  id={blockPath.at(-1)!}\n                  index={i}\n                  displayColor={starColor}\n                  size={starSize}\n                  value={value}\n                />\n              </li>\n            ))}\n        </ul>\n        <div\n          className=\"wptb-number-rating-box\"\n          style={{ display: ratingDisplay }}\n        >\n          <div className=\"wptb-number-rating\" style={ratingStyle}>\n            {value}/{total}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nregisterBlock<StarRatingBlockProps>({\n  name: \"star-rating\",\n  title: \"Star Rating\",\n  Edit,\n  Preview,\n  icon: StarRatingIcon,\n  Control,\n  isBlock: (el: HTMLElement) =>\n    el.classList.contains(\"wptb-star_rating-container\"),\n  parse: parseBlock,\n  defaultProps: {\n    value: 2.5,\n    starSize: \"20px\",\n    starColor: \"rgb(219, 172, 0)\",\n    maxValue: 5,\n    alignment: \"center\",\n    showRating: false,\n  },\n});\n","/*! @license DOMPurify 3.2.4 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.4/LICENSE */\n\nconst {\n  entries,\n  setPrototypeOf,\n  isFrozen,\n  getPrototypeOf,\n  getOwnPropertyDescriptor\n} = Object;\nlet {\n  freeze,\n  seal,\n  create\n} = Object; // eslint-disable-line import/no-mutable-exports\nlet {\n  apply,\n  construct\n} = typeof Reflect !== 'undefined' && Reflect;\nif (!freeze) {\n  freeze = function freeze(x) {\n    return x;\n  };\n}\nif (!seal) {\n  seal = function seal(x) {\n    return x;\n  };\n}\nif (!apply) {\n  apply = function apply(fun, thisValue, args) {\n    return fun.apply(thisValue, args);\n  };\n}\nif (!construct) {\n  construct = function construct(Func, args) {\n    return new Func(...args);\n  };\n}\nconst arrayForEach = unapply(Array.prototype.forEach);\nconst arrayLastIndexOf = unapply(Array.prototype.lastIndexOf);\nconst arrayPop = unapply(Array.prototype.pop);\nconst arrayPush = unapply(Array.prototype.push);\nconst arraySplice = unapply(Array.prototype.splice);\nconst stringToLowerCase = unapply(String.prototype.toLowerCase);\nconst stringToString = unapply(String.prototype.toString);\nconst stringMatch = unapply(String.prototype.match);\nconst stringReplace = unapply(String.prototype.replace);\nconst stringIndexOf = unapply(String.prototype.indexOf);\nconst stringTrim = unapply(String.prototype.trim);\nconst objectHasOwnProperty = unapply(Object.prototype.hasOwnProperty);\nconst regExpTest = unapply(RegExp.prototype.test);\nconst typeErrorCreate = unconstruct(TypeError);\n/**\n * Creates a new function that calls the given function with a specified thisArg and arguments.\n *\n * @param func - The function to be wrapped and called.\n * @returns A new function that calls the given function with a specified thisArg and arguments.\n */\nfunction unapply(func) {\n  return function (thisArg) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n    return apply(func, thisArg, args);\n  };\n}\n/**\n * Creates a new function that constructs an instance of the given constructor function with the provided arguments.\n *\n * @param func - The constructor function to be wrapped and called.\n * @returns A new function that constructs an instance of the given constructor function with the provided arguments.\n */\nfunction unconstruct(func) {\n  return function () {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n    return construct(func, args);\n  };\n}\n/**\n * Add properties to a lookup table\n *\n * @param set - The set to which elements will be added.\n * @param array - The array containing elements to be added to the set.\n * @param transformCaseFunc - An optional function to transform the case of each element before adding to the set.\n * @returns The modified set with added elements.\n */\nfunction addToSet(set, array) {\n  let transformCaseFunc = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : stringToLowerCase;\n  if (setPrototypeOf) {\n    // Make 'in' and truthy checks like Boolean(set.constructor)\n    // independent of any properties defined on Object.prototype.\n    // Prevent prototype setters from intercepting set as a this value.\n    setPrototypeOf(set, null);\n  }\n  let l = array.length;\n  while (l--) {\n    let element = array[l];\n    if (typeof element === 'string') {\n      const lcElement = transformCaseFunc(element);\n      if (lcElement !== element) {\n        // Config presets (e.g. tags.js, attrs.js) are immutable.\n        if (!isFrozen(array)) {\n          array[l] = lcElement;\n        }\n        element = lcElement;\n      }\n    }\n    set[element] = true;\n  }\n  return set;\n}\n/**\n * Clean up an array to harden against CSPP\n *\n * @param array - The array to be cleaned.\n * @returns The cleaned version of the array\n */\nfunction cleanArray(array) {\n  for (let index = 0; index < array.length; index++) {\n    const isPropertyExist = objectHasOwnProperty(array, index);\n    if (!isPropertyExist) {\n      array[index] = null;\n    }\n  }\n  return array;\n}\n/**\n * Shallow clone an object\n *\n * @param object - The object to be cloned.\n * @returns A new object that copies the original.\n */\nfunction clone(object) {\n  const newObject = create(null);\n  for (const [property, value] of entries(object)) {\n    const isPropertyExist = objectHasOwnProperty(object, property);\n    if (isPropertyExist) {\n      if (Array.isArray(value)) {\n        newObject[property] = cleanArray(value);\n      } else if (value && typeof value === 'object' && value.constructor === Object) {\n        newObject[property] = clone(value);\n      } else {\n        newObject[property] = value;\n      }\n    }\n  }\n  return newObject;\n}\n/**\n * This method automatically checks if the prop is function or getter and behaves accordingly.\n *\n * @param object - The object to look up the getter function in its prototype chain.\n * @param prop - The property name for which to find the getter function.\n * @returns The getter function found in the prototype chain or a fallback function.\n */\nfunction lookupGetter(object, prop) {\n  while (object !== null) {\n    const desc = getOwnPropertyDescriptor(object, prop);\n    if (desc) {\n      if (desc.get) {\n        return unapply(desc.get);\n      }\n      if (typeof desc.value === 'function') {\n        return unapply(desc.value);\n      }\n    }\n    object = getPrototypeOf(object);\n  }\n  function fallbackValue() {\n    return null;\n  }\n  return fallbackValue;\n}\n\nconst html$1 = freeze(['a', 'abbr', 'acronym', 'address', 'area', 'article', 'aside', 'audio', 'b', 'bdi', 'bdo', 'big', 'blink', 'blockquote', 'body', 'br', 'button', 'canvas', 'caption', 'center', 'cite', 'code', 'col', 'colgroup', 'content', 'data', 'datalist', 'dd', 'decorator', 'del', 'details', 'dfn', 'dialog', 'dir', 'div', 'dl', 'dt', 'element', 'em', 'fieldset', 'figcaption', 'figure', 'font', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'head', 'header', 'hgroup', 'hr', 'html', 'i', 'img', 'input', 'ins', 'kbd', 'label', 'legend', 'li', 'main', 'map', 'mark', 'marquee', 'menu', 'menuitem', 'meter', 'nav', 'nobr', 'ol', 'optgroup', 'option', 'output', 'p', 'picture', 'pre', 'progress', 'q', 'rp', 'rt', 'ruby', 's', 'samp', 'section', 'select', 'shadow', 'small', 'source', 'spacer', 'span', 'strike', 'strong', 'style', 'sub', 'summary', 'sup', 'table', 'tbody', 'td', 'template', 'textarea', 'tfoot', 'th', 'thead', 'time', 'tr', 'track', 'tt', 'u', 'ul', 'var', 'video', 'wbr']);\nconst svg$1 = freeze(['svg', 'a', 'altglyph', 'altglyphdef', 'altglyphitem', 'animatecolor', 'animatemotion', 'animatetransform', 'circle', 'clippath', 'defs', 'desc', 'ellipse', 'filter', 'font', 'g', 'glyph', 'glyphref', 'hkern', 'image', 'line', 'lineargradient', 'marker', 'mask', 'metadata', 'mpath', 'path', 'pattern', 'polygon', 'polyline', 'radialgradient', 'rect', 'stop', 'style', 'switch', 'symbol', 'text', 'textpath', 'title', 'tref', 'tspan', 'view', 'vkern']);\nconst svgFilters = freeze(['feBlend', 'feColorMatrix', 'feComponentTransfer', 'feComposite', 'feConvolveMatrix', 'feDiffuseLighting', 'feDisplacementMap', 'feDistantLight', 'feDropShadow', 'feFlood', 'feFuncA', 'feFuncB', 'feFuncG', 'feFuncR', 'feGaussianBlur', 'feImage', 'feMerge', 'feMergeNode', 'feMorphology', 'feOffset', 'fePointLight', 'feSpecularLighting', 'feSpotLight', 'feTile', 'feTurbulence']);\n// List of SVG elements that are disallowed by default.\n// We still need to know them so that we can do namespace\n// checks properly in case one wants to add them to\n// allow-list.\nconst svgDisallowed = freeze(['animate', 'color-profile', 'cursor', 'discard', 'font-face', 'font-face-format', 'font-face-name', 'font-face-src', 'font-face-uri', 'foreignobject', 'hatch', 'hatchpath', 'mesh', 'meshgradient', 'meshpatch', 'meshrow', 'missing-glyph', 'script', 'set', 'solidcolor', 'unknown', 'use']);\nconst mathMl$1 = freeze(['math', 'menclose', 'merror', 'mfenced', 'mfrac', 'mglyph', 'mi', 'mlabeledtr', 'mmultiscripts', 'mn', 'mo', 'mover', 'mpadded', 'mphantom', 'mroot', 'mrow', 'ms', 'mspace', 'msqrt', 'mstyle', 'msub', 'msup', 'msubsup', 'mtable', 'mtd', 'mtext', 'mtr', 'munder', 'munderover', 'mprescripts']);\n// Similarly to SVG, we want to know all MathML elements,\n// even those that we disallow by default.\nconst mathMlDisallowed = freeze(['maction', 'maligngroup', 'malignmark', 'mlongdiv', 'mscarries', 'mscarry', 'msgroup', 'mstack', 'msline', 'msrow', 'semantics', 'annotation', 'annotation-xml', 'mprescripts', 'none']);\nconst text = freeze(['#text']);\n\nconst html = freeze(['accept', 'action', 'align', 'alt', 'autocapitalize', 'autocomplete', 'autopictureinpicture', 'autoplay', 'background', 'bgcolor', 'border', 'capture', 'cellpadding', 'cellspacing', 'checked', 'cite', 'class', 'clear', 'color', 'cols', 'colspan', 'controls', 'controlslist', 'coords', 'crossorigin', 'datetime', 'decoding', 'default', 'dir', 'disabled', 'disablepictureinpicture', 'disableremoteplayback', 'download', 'draggable', 'enctype', 'enterkeyhint', 'face', 'for', 'headers', 'height', 'hidden', 'high', 'href', 'hreflang', 'id', 'inputmode', 'integrity', 'ismap', 'kind', 'label', 'lang', 'list', 'loading', 'loop', 'low', 'max', 'maxlength', 'media', 'method', 'min', 'minlength', 'multiple', 'muted', 'name', 'nonce', 'noshade', 'novalidate', 'nowrap', 'open', 'optimum', 'pattern', 'placeholder', 'playsinline', 'popover', 'popovertarget', 'popovertargetaction', 'poster', 'preload', 'pubdate', 'radiogroup', 'readonly', 'rel', 'required', 'rev', 'reversed', 'role', 'rows', 'rowspan', 'spellcheck', 'scope', 'selected', 'shape', 'size', 'sizes', 'span', 'srclang', 'start', 'src', 'srcset', 'step', 'style', 'summary', 'tabindex', 'title', 'translate', 'type', 'usemap', 'valign', 'value', 'width', 'wrap', 'xmlns', 'slot']);\nconst svg = freeze(['accent-height', 'accumulate', 'additive', 'alignment-baseline', 'amplitude', 'ascent', 'attributename', 'attributetype', 'azimuth', 'basefrequency', 'baseline-shift', 'begin', 'bias', 'by', 'class', 'clip', 'clippathunits', 'clip-path', 'clip-rule', 'color', 'color-interpolation', 'color-interpolation-filters', 'color-profile', 'color-rendering', 'cx', 'cy', 'd', 'dx', 'dy', 'diffuseconstant', 'direction', 'display', 'divisor', 'dur', 'edgemode', 'elevation', 'end', 'exponent', 'fill', 'fill-opacity', 'fill-rule', 'filter', 'filterunits', 'flood-color', 'flood-opacity', 'font-family', 'font-size', 'font-size-adjust', 'font-stretch', 'font-style', 'font-variant', 'font-weight', 'fx', 'fy', 'g1', 'g2', 'glyph-name', 'glyphref', 'gradientunits', 'gradienttransform', 'height', 'href', 'id', 'image-rendering', 'in', 'in2', 'intercept', 'k', 'k1', 'k2', 'k3', 'k4', 'kerning', 'keypoints', 'keysplines', 'keytimes', 'lang', 'lengthadjust', 'letter-spacing', 'kernelmatrix', 'kernelunitlength', 'lighting-color', 'local', 'marker-end', 'marker-mid', 'marker-start', 'markerheight', 'markerunits', 'markerwidth', 'maskcontentunits', 'maskunits', 'max', 'mask', 'media', 'method', 'mode', 'min', 'name', 'numoctaves', 'offset', 'operator', 'opacity', 'order', 'orient', 'orientation', 'origin', 'overflow', 'paint-order', 'path', 'pathlength', 'patterncontentunits', 'patterntransform', 'patternunits', 'points', 'preservealpha', 'preserveaspectratio', 'primitiveunits', 'r', 'rx', 'ry', 'radius', 'refx', 'refy', 'repeatcount', 'repeatdur', 'restart', 'result', 'rotate', 'scale', 'seed', 'shape-rendering', 'slope', 'specularconstant', 'specularexponent', 'spreadmethod', 'startoffset', 'stddeviation', 'stitchtiles', 'stop-color', 'stop-opacity', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-opacity', 'stroke', 'stroke-width', 'style', 'surfacescale', 'systemlanguage', 'tabindex', 'tablevalues', 'targetx', 'targety', 'transform', 'transform-origin', 'text-anchor', 'text-decoration', 'text-rendering', 'textlength', 'type', 'u1', 'u2', 'unicode', 'values', 'viewbox', 'visibility', 'version', 'vert-adv-y', 'vert-origin-x', 'vert-origin-y', 'width', 'word-spacing', 'wrap', 'writing-mode', 'xchannelselector', 'ychannelselector', 'x', 'x1', 'x2', 'xmlns', 'y', 'y1', 'y2', 'z', 'zoomandpan']);\nconst mathMl = freeze(['accent', 'accentunder', 'align', 'bevelled', 'close', 'columnsalign', 'columnlines', 'columnspan', 'denomalign', 'depth', 'dir', 'display', 'displaystyle', 'encoding', 'fence', 'frame', 'height', 'href', 'id', 'largeop', 'length', 'linethickness', 'lspace', 'lquote', 'mathbackground', 'mathcolor', 'mathsize', 'mathvariant', 'maxsize', 'minsize', 'movablelimits', 'notation', 'numalign', 'open', 'rowalign', 'rowlines', 'rowspacing', 'rowspan', 'rspace', 'rquote', 'scriptlevel', 'scriptminsize', 'scriptsizemultiplier', 'selection', 'separator', 'separators', 'stretchy', 'subscriptshift', 'supscriptshift', 'symmetric', 'voffset', 'width', 'xmlns']);\nconst xml = freeze(['xlink:href', 'xml:id', 'xlink:title', 'xml:space', 'xmlns:xlink']);\n\n// eslint-disable-next-line unicorn/better-regex\nconst MUSTACHE_EXPR = seal(/\\{\\{[\\w\\W]*|[\\w\\W]*\\}\\}/gm); // Specify template detection regex for SAFE_FOR_TEMPLATES mode\nconst ERB_EXPR = seal(/<%[\\w\\W]*|[\\w\\W]*%>/gm);\nconst TMPLIT_EXPR = seal(/\\$\\{[\\w\\W]*/gm); // eslint-disable-line unicorn/better-regex\nconst DATA_ATTR = seal(/^data-[\\-\\w.\\u00B7-\\uFFFF]+$/); // eslint-disable-line no-useless-escape\nconst ARIA_ATTR = seal(/^aria-[\\-\\w]+$/); // eslint-disable-line no-useless-escape\nconst IS_ALLOWED_URI = seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i // eslint-disable-line no-useless-escape\n);\nconst IS_SCRIPT_OR_DATA = seal(/^(?:\\w+script|data):/i);\nconst ATTR_WHITESPACE = seal(/[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g // eslint-disable-line no-control-regex\n);\nconst DOCTYPE_NAME = seal(/^html$/i);\nconst CUSTOM_ELEMENT = seal(/^[a-z][.\\w]*(-[.\\w]+)+$/i);\n\nvar EXPRESSIONS = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  ARIA_ATTR: ARIA_ATTR,\n  ATTR_WHITESPACE: ATTR_WHITESPACE,\n  CUSTOM_ELEMENT: CUSTOM_ELEMENT,\n  DATA_ATTR: DATA_ATTR,\n  DOCTYPE_NAME: DOCTYPE_NAME,\n  ERB_EXPR: ERB_EXPR,\n  IS_ALLOWED_URI: IS_ALLOWED_URI,\n  IS_SCRIPT_OR_DATA: IS_SCRIPT_OR_DATA,\n  MUSTACHE_EXPR: MUSTACHE_EXPR,\n  TMPLIT_EXPR: TMPLIT_EXPR\n});\n\n/* eslint-disable @typescript-eslint/indent */\n// https://developer.mozilla.org/en-US/docs/Web/API/Node/nodeType\nconst NODE_TYPE = {\n  element: 1,\n  attribute: 2,\n  text: 3,\n  cdataSection: 4,\n  entityReference: 5,\n  // Deprecated\n  entityNode: 6,\n  // Deprecated\n  progressingInstruction: 7,\n  comment: 8,\n  document: 9,\n  documentType: 10,\n  documentFragment: 11,\n  notation: 12 // Deprecated\n};\nconst getGlobal = function getGlobal() {\n  return typeof window === 'undefined' ? null : window;\n};\n/**\n * Creates a no-op policy for internal use only.\n * Don't export this function outside this module!\n * @param trustedTypes The policy factory.\n * @param purifyHostElement The Script element used to load DOMPurify (to determine policy name suffix).\n * @return The policy created (or null, if Trusted Types\n * are not supported or creating the policy failed).\n */\nconst _createTrustedTypesPolicy = function _createTrustedTypesPolicy(trustedTypes, purifyHostElement) {\n  if (typeof trustedTypes !== 'object' || typeof trustedTypes.createPolicy !== 'function') {\n    return null;\n  }\n  // Allow the callers to control the unique policy name\n  // by adding a data-tt-policy-suffix to the script element with the DOMPurify.\n  // Policy creation with duplicate names throws in Trusted Types.\n  let suffix = null;\n  const ATTR_NAME = 'data-tt-policy-suffix';\n  if (purifyHostElement && purifyHostElement.hasAttribute(ATTR_NAME)) {\n    suffix = purifyHostElement.getAttribute(ATTR_NAME);\n  }\n  const policyName = 'dompurify' + (suffix ? '#' + suffix : '');\n  try {\n    return trustedTypes.createPolicy(policyName, {\n      createHTML(html) {\n        return html;\n      },\n      createScriptURL(scriptUrl) {\n        return scriptUrl;\n      }\n    });\n  } catch (_) {\n    // Policy creation failed (most likely another DOMPurify script has\n    // already run). Skip creating the policy, as this will only cause errors\n    // if TT are enforced.\n    console.warn('TrustedTypes policy ' + policyName + ' could not be created.');\n    return null;\n  }\n};\nconst _createHooksMap = function _createHooksMap() {\n  return {\n    afterSanitizeAttributes: [],\n    afterSanitizeElements: [],\n    afterSanitizeShadowDOM: [],\n    beforeSanitizeAttributes: [],\n    beforeSanitizeElements: [],\n    beforeSanitizeShadowDOM: [],\n    uponSanitizeAttribute: [],\n    uponSanitizeElement: [],\n    uponSanitizeShadowNode: []\n  };\n};\nfunction createDOMPurify() {\n  let window = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : getGlobal();\n  const DOMPurify = root => createDOMPurify(root);\n  DOMPurify.version = '3.2.4';\n  DOMPurify.removed = [];\n  if (!window || !window.document || window.document.nodeType !== NODE_TYPE.document || !window.Element) {\n    // Not running in a browser, provide a factory function\n    // so that you can pass your own Window\n    DOMPurify.isSupported = false;\n    return DOMPurify;\n  }\n  let {\n    document\n  } = window;\n  const originalDocument = document;\n  const currentScript = originalDocument.currentScript;\n  const {\n    DocumentFragment,\n    HTMLTemplateElement,\n    Node,\n    Element,\n    NodeFilter,\n    NamedNodeMap = window.NamedNodeMap || window.MozNamedAttrMap,\n    HTMLFormElement,\n    DOMParser,\n    trustedTypes\n  } = window;\n  const ElementPrototype = Element.prototype;\n  const cloneNode = lookupGetter(ElementPrototype, 'cloneNode');\n  const remove = lookupGetter(ElementPrototype, 'remove');\n  const getNextSibling = lookupGetter(ElementPrototype, 'nextSibling');\n  const getChildNodes = lookupGetter(ElementPrototype, 'childNodes');\n  const getParentNode = lookupGetter(ElementPrototype, 'parentNode');\n  // As per issue #47, the web-components registry is inherited by a\n  // new document created via createHTMLDocument. As per the spec\n  // (http://w3c.github.io/webcomponents/spec/custom/#creating-and-passing-registries)\n  // a new empty registry is used when creating a template contents owner\n  // document, so we use that as our parent document to ensure nothing\n  // is inherited.\n  if (typeof HTMLTemplateElement === 'function') {\n    const template = document.createElement('template');\n    if (template.content && template.content.ownerDocument) {\n      document = template.content.ownerDocument;\n    }\n  }\n  let trustedTypesPolicy;\n  let emptyHTML = '';\n  const {\n    implementation,\n    createNodeIterator,\n    createDocumentFragment,\n    getElementsByTagName\n  } = document;\n  const {\n    importNode\n  } = originalDocument;\n  let hooks = _createHooksMap();\n  /**\n   * Expose whether this browser supports running the full DOMPurify.\n   */\n  DOMPurify.isSupported = typeof entries === 'function' && typeof getParentNode === 'function' && implementation && implementation.createHTMLDocument !== undefined;\n  const {\n    MUSTACHE_EXPR,\n    ERB_EXPR,\n    TMPLIT_EXPR,\n    DATA_ATTR,\n    ARIA_ATTR,\n    IS_SCRIPT_OR_DATA,\n    ATTR_WHITESPACE,\n    CUSTOM_ELEMENT\n  } = EXPRESSIONS;\n  let {\n    IS_ALLOWED_URI: IS_ALLOWED_URI$1\n  } = EXPRESSIONS;\n  /**\n   * We consider the elements and attributes below to be safe. Ideally\n   * don't add any new ones but feel free to remove unwanted ones.\n   */\n  /* allowed element names */\n  let ALLOWED_TAGS = null;\n  const DEFAULT_ALLOWED_TAGS = addToSet({}, [...html$1, ...svg$1, ...svgFilters, ...mathMl$1, ...text]);\n  /* Allowed attribute names */\n  let ALLOWED_ATTR = null;\n  const DEFAULT_ALLOWED_ATTR = addToSet({}, [...html, ...svg, ...mathMl, ...xml]);\n  /*\n   * Configure how DOMPurify should handle custom elements and their attributes as well as customized built-in elements.\n   * @property {RegExp|Function|null} tagNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any custom elements)\n   * @property {RegExp|Function|null} attributeNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any attributes not on the allow list)\n   * @property {boolean} allowCustomizedBuiltInElements allow custom elements derived from built-ins if they pass CUSTOM_ELEMENT_HANDLING.tagNameCheck. Default: `false`.\n   */\n  let CUSTOM_ELEMENT_HANDLING = Object.seal(create(null, {\n    tagNameCheck: {\n      writable: true,\n      configurable: false,\n      enumerable: true,\n      value: null\n    },\n    attributeNameCheck: {\n      writable: true,\n      configurable: false,\n      enumerable: true,\n      value: null\n    },\n    allowCustomizedBuiltInElements: {\n      writable: true,\n      configurable: false,\n      enumerable: true,\n      value: false\n    }\n  }));\n  /* Explicitly forbidden tags (overrides ALLOWED_TAGS/ADD_TAGS) */\n  let FORBID_TAGS = null;\n  /* Explicitly forbidden attributes (overrides ALLOWED_ATTR/ADD_ATTR) */\n  let FORBID_ATTR = null;\n  /* Decide if ARIA attributes are okay */\n  let ALLOW_ARIA_ATTR = true;\n  /* Decide if custom data attributes are okay */\n  let ALLOW_DATA_ATTR = true;\n  /* Decide if unknown protocols are okay */\n  let ALLOW_UNKNOWN_PROTOCOLS = false;\n  /* Decide if self-closing tags in attributes are allowed.\n   * Usually removed due to a mXSS issue in jQuery 3.0 */\n  let ALLOW_SELF_CLOSE_IN_ATTR = true;\n  /* Output should be safe for common template engines.\n   * This means, DOMPurify removes data attributes, mustaches and ERB\n   */\n  let SAFE_FOR_TEMPLATES = false;\n  /* Output should be safe even for XML used within HTML and alike.\n   * This means, DOMPurify removes comments when containing risky content.\n   */\n  let SAFE_FOR_XML = true;\n  /* Decide if document with <html>... should be returned */\n  let WHOLE_DOCUMENT = false;\n  /* Track whether config is already set on this instance of DOMPurify. */\n  let SET_CONFIG = false;\n  /* Decide if all elements (e.g. style, script) must be children of\n   * document.body. By default, browsers might move them to document.head */\n  let FORCE_BODY = false;\n  /* Decide if a DOM `HTMLBodyElement` should be returned, instead of a html\n   * string (or a TrustedHTML object if Trusted Types are supported).\n   * If `WHOLE_DOCUMENT` is enabled a `HTMLHtmlElement` will be returned instead\n   */\n  let RETURN_DOM = false;\n  /* Decide if a DOM `DocumentFragment` should be returned, instead of a html\n   * string  (or a TrustedHTML object if Trusted Types are supported) */\n  let RETURN_DOM_FRAGMENT = false;\n  /* Try to return a Trusted Type object instead of a string, return a string in\n   * case Trusted Types are not supported  */\n  let RETURN_TRUSTED_TYPE = false;\n  /* Output should be free from DOM clobbering attacks?\n   * This sanitizes markups named with colliding, clobberable built-in DOM APIs.\n   */\n  let SANITIZE_DOM = true;\n  /* Achieve full DOM Clobbering protection by isolating the namespace of named\n   * properties and JS variables, mitigating attacks that abuse the HTML/DOM spec rules.\n   *\n   * HTML/DOM spec rules that enable DOM Clobbering:\n   *   - Named Access on Window (7.3.3)\n   *   - DOM Tree Accessors (3.1.5)\n   *   - Form Element Parent-Child Relations (4.10.3)\n   *   - Iframe srcdoc / Nested WindowProxies (4.8.5)\n   *   - HTMLCollection (4.2.10.2)\n   *\n   * Namespace isolation is implemented by prefixing `id` and `name` attributes\n   * with a constant string, i.e., `user-content-`\n   */\n  let SANITIZE_NAMED_PROPS = false;\n  const SANITIZE_NAMED_PROPS_PREFIX = 'user-content-';\n  /* Keep element content when removing element? */\n  let KEEP_CONTENT = true;\n  /* If a `Node` is passed to sanitize(), then performs sanitization in-place instead\n   * of importing it into a new Document and returning a sanitized copy */\n  let IN_PLACE = false;\n  /* Allow usage of profiles like html, svg and mathMl */\n  let USE_PROFILES = {};\n  /* Tags to ignore content of when KEEP_CONTENT is true */\n  let FORBID_CONTENTS = null;\n  const DEFAULT_FORBID_CONTENTS = addToSet({}, ['annotation-xml', 'audio', 'colgroup', 'desc', 'foreignobject', 'head', 'iframe', 'math', 'mi', 'mn', 'mo', 'ms', 'mtext', 'noembed', 'noframes', 'noscript', 'plaintext', 'script', 'style', 'svg', 'template', 'thead', 'title', 'video', 'xmp']);\n  /* Tags that are safe for data: URIs */\n  let DATA_URI_TAGS = null;\n  const DEFAULT_DATA_URI_TAGS = addToSet({}, ['audio', 'video', 'img', 'source', 'image', 'track']);\n  /* Attributes safe for values like \"javascript:\" */\n  let URI_SAFE_ATTRIBUTES = null;\n  const DEFAULT_URI_SAFE_ATTRIBUTES = addToSet({}, ['alt', 'class', 'for', 'id', 'label', 'name', 'pattern', 'placeholder', 'role', 'summary', 'title', 'value', 'style', 'xmlns']);\n  const MATHML_NAMESPACE = 'http://www.w3.org/1998/Math/MathML';\n  const SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\n  const HTML_NAMESPACE = 'http://www.w3.org/1999/xhtml';\n  /* Document namespace */\n  let NAMESPACE = HTML_NAMESPACE;\n  let IS_EMPTY_INPUT = false;\n  /* Allowed XHTML+XML namespaces */\n  let ALLOWED_NAMESPACES = null;\n  const DEFAULT_ALLOWED_NAMESPACES = addToSet({}, [MATHML_NAMESPACE, SVG_NAMESPACE, HTML_NAMESPACE], stringToString);\n  let MATHML_TEXT_INTEGRATION_POINTS = addToSet({}, ['mi', 'mo', 'mn', 'ms', 'mtext']);\n  let HTML_INTEGRATION_POINTS = addToSet({}, ['annotation-xml']);\n  // Certain elements are allowed in both SVG and HTML\n  // namespace. We need to specify them explicitly\n  // so that they don't get erroneously deleted from\n  // HTML namespace.\n  const COMMON_SVG_AND_HTML_ELEMENTS = addToSet({}, ['title', 'style', 'font', 'a', 'script']);\n  /* Parsing of strict XHTML documents */\n  let PARSER_MEDIA_TYPE = null;\n  const SUPPORTED_PARSER_MEDIA_TYPES = ['application/xhtml+xml', 'text/html'];\n  const DEFAULT_PARSER_MEDIA_TYPE = 'text/html';\n  let transformCaseFunc = null;\n  /* Keep a reference to config to pass to hooks */\n  let CONFIG = null;\n  /* Ideally, do not touch anything below this line */\n  /* ______________________________________________ */\n  const formElement = document.createElement('form');\n  const isRegexOrFunction = function isRegexOrFunction(testValue) {\n    return testValue instanceof RegExp || testValue instanceof Function;\n  };\n  /**\n   * _parseConfig\n   *\n   * @param cfg optional config literal\n   */\n  // eslint-disable-next-line complexity\n  const _parseConfig = function _parseConfig() {\n    let cfg = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    if (CONFIG && CONFIG === cfg) {\n      return;\n    }\n    /* Shield configuration object from tampering */\n    if (!cfg || typeof cfg !== 'object') {\n      cfg = {};\n    }\n    /* Shield configuration object from prototype pollution */\n    cfg = clone(cfg);\n    PARSER_MEDIA_TYPE =\n    // eslint-disable-next-line unicorn/prefer-includes\n    SUPPORTED_PARSER_MEDIA_TYPES.indexOf(cfg.PARSER_MEDIA_TYPE) === -1 ? DEFAULT_PARSER_MEDIA_TYPE : cfg.PARSER_MEDIA_TYPE;\n    // HTML tags and attributes are not case-sensitive, converting to lowercase. Keeping XHTML as is.\n    transformCaseFunc = PARSER_MEDIA_TYPE === 'application/xhtml+xml' ? stringToString : stringToLowerCase;\n    /* Set configuration parameters */\n    ALLOWED_TAGS = objectHasOwnProperty(cfg, 'ALLOWED_TAGS') ? addToSet({}, cfg.ALLOWED_TAGS, transformCaseFunc) : DEFAULT_ALLOWED_TAGS;\n    ALLOWED_ATTR = objectHasOwnProperty(cfg, 'ALLOWED_ATTR') ? addToSet({}, cfg.ALLOWED_ATTR, transformCaseFunc) : DEFAULT_ALLOWED_ATTR;\n    ALLOWED_NAMESPACES = objectHasOwnProperty(cfg, 'ALLOWED_NAMESPACES') ? addToSet({}, cfg.ALLOWED_NAMESPACES, stringToString) : DEFAULT_ALLOWED_NAMESPACES;\n    URI_SAFE_ATTRIBUTES = objectHasOwnProperty(cfg, 'ADD_URI_SAFE_ATTR') ? addToSet(clone(DEFAULT_URI_SAFE_ATTRIBUTES), cfg.ADD_URI_SAFE_ATTR, transformCaseFunc) : DEFAULT_URI_SAFE_ATTRIBUTES;\n    DATA_URI_TAGS = objectHasOwnProperty(cfg, 'ADD_DATA_URI_TAGS') ? addToSet(clone(DEFAULT_DATA_URI_TAGS), cfg.ADD_DATA_URI_TAGS, transformCaseFunc) : DEFAULT_DATA_URI_TAGS;\n    FORBID_CONTENTS = objectHasOwnProperty(cfg, 'FORBID_CONTENTS') ? addToSet({}, cfg.FORBID_CONTENTS, transformCaseFunc) : DEFAULT_FORBID_CONTENTS;\n    FORBID_TAGS = objectHasOwnProperty(cfg, 'FORBID_TAGS') ? addToSet({}, cfg.FORBID_TAGS, transformCaseFunc) : {};\n    FORBID_ATTR = objectHasOwnProperty(cfg, 'FORBID_ATTR') ? addToSet({}, cfg.FORBID_ATTR, transformCaseFunc) : {};\n    USE_PROFILES = objectHasOwnProperty(cfg, 'USE_PROFILES') ? cfg.USE_PROFILES : false;\n    ALLOW_ARIA_ATTR = cfg.ALLOW_ARIA_ATTR !== false; // Default true\n    ALLOW_DATA_ATTR = cfg.ALLOW_DATA_ATTR !== false; // Default true\n    ALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || false; // Default false\n    ALLOW_SELF_CLOSE_IN_ATTR = cfg.ALLOW_SELF_CLOSE_IN_ATTR !== false; // Default true\n    SAFE_FOR_TEMPLATES = cfg.SAFE_FOR_TEMPLATES || false; // Default false\n    SAFE_FOR_XML = cfg.SAFE_FOR_XML !== false; // Default true\n    WHOLE_DOCUMENT = cfg.WHOLE_DOCUMENT || false; // Default false\n    RETURN_DOM = cfg.RETURN_DOM || false; // Default false\n    RETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT || false; // Default false\n    RETURN_TRUSTED_TYPE = cfg.RETURN_TRUSTED_TYPE || false; // Default false\n    FORCE_BODY = cfg.FORCE_BODY || false; // Default false\n    SANITIZE_DOM = cfg.SANITIZE_DOM !== false; // Default true\n    SANITIZE_NAMED_PROPS = cfg.SANITIZE_NAMED_PROPS || false; // Default false\n    KEEP_CONTENT = cfg.KEEP_CONTENT !== false; // Default true\n    IN_PLACE = cfg.IN_PLACE || false; // Default false\n    IS_ALLOWED_URI$1 = cfg.ALLOWED_URI_REGEXP || IS_ALLOWED_URI;\n    NAMESPACE = cfg.NAMESPACE || HTML_NAMESPACE;\n    MATHML_TEXT_INTEGRATION_POINTS = cfg.MATHML_TEXT_INTEGRATION_POINTS || MATHML_TEXT_INTEGRATION_POINTS;\n    HTML_INTEGRATION_POINTS = cfg.HTML_INTEGRATION_POINTS || HTML_INTEGRATION_POINTS;\n    CUSTOM_ELEMENT_HANDLING = cfg.CUSTOM_ELEMENT_HANDLING || {};\n    if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck)) {\n      CUSTOM_ELEMENT_HANDLING.tagNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck;\n    }\n    if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)) {\n      CUSTOM_ELEMENT_HANDLING.attributeNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck;\n    }\n    if (cfg.CUSTOM_ELEMENT_HANDLING && typeof cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements === 'boolean') {\n      CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements = cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements;\n    }\n    if (SAFE_FOR_TEMPLATES) {\n      ALLOW_DATA_ATTR = false;\n    }\n    if (RETURN_DOM_FRAGMENT) {\n      RETURN_DOM = true;\n    }\n    /* Parse profile info */\n    if (USE_PROFILES) {\n      ALLOWED_TAGS = addToSet({}, text);\n      ALLOWED_ATTR = [];\n      if (USE_PROFILES.html === true) {\n        addToSet(ALLOWED_TAGS, html$1);\n        addToSet(ALLOWED_ATTR, html);\n      }\n      if (USE_PROFILES.svg === true) {\n        addToSet(ALLOWED_TAGS, svg$1);\n        addToSet(ALLOWED_ATTR, svg);\n        addToSet(ALLOWED_ATTR, xml);\n      }\n      if (USE_PROFILES.svgFilters === true) {\n        addToSet(ALLOWED_TAGS, svgFilters);\n        addToSet(ALLOWED_ATTR, svg);\n        addToSet(ALLOWED_ATTR, xml);\n      }\n      if (USE_PROFILES.mathMl === true) {\n        addToSet(ALLOWED_TAGS, mathMl$1);\n        addToSet(ALLOWED_ATTR, mathMl);\n        addToSet(ALLOWED_ATTR, xml);\n      }\n    }\n    /* Merge configuration parameters */\n    if (cfg.ADD_TAGS) {\n      if (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS) {\n        ALLOWED_TAGS = clone(ALLOWED_TAGS);\n      }\n      addToSet(ALLOWED_TAGS, cfg.ADD_TAGS, transformCaseFunc);\n    }\n    if (cfg.ADD_ATTR) {\n      if (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR) {\n        ALLOWED_ATTR = clone(ALLOWED_ATTR);\n      }\n      addToSet(ALLOWED_ATTR, cfg.ADD_ATTR, transformCaseFunc);\n    }\n    if (cfg.ADD_URI_SAFE_ATTR) {\n      addToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR, transformCaseFunc);\n    }\n    if (cfg.FORBID_CONTENTS) {\n      if (FORBID_CONTENTS === DEFAULT_FORBID_CONTENTS) {\n        FORBID_CONTENTS = clone(FORBID_CONTENTS);\n      }\n      addToSet(FORBID_CONTENTS, cfg.FORBID_CONTENTS, transformCaseFunc);\n    }\n    /* Add #text in case KEEP_CONTENT is set to true */\n    if (KEEP_CONTENT) {\n      ALLOWED_TAGS['#text'] = true;\n    }\n    /* Add html, head and body to ALLOWED_TAGS in case WHOLE_DOCUMENT is true */\n    if (WHOLE_DOCUMENT) {\n      addToSet(ALLOWED_TAGS, ['html', 'head', 'body']);\n    }\n    /* Add tbody to ALLOWED_TAGS in case tables are permitted, see #286, #365 */\n    if (ALLOWED_TAGS.table) {\n      addToSet(ALLOWED_TAGS, ['tbody']);\n      delete FORBID_TAGS.tbody;\n    }\n    if (cfg.TRUSTED_TYPES_POLICY) {\n      if (typeof cfg.TRUSTED_TYPES_POLICY.createHTML !== 'function') {\n        throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a \"createHTML\" hook.');\n      }\n      if (typeof cfg.TRUSTED_TYPES_POLICY.createScriptURL !== 'function') {\n        throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a \"createScriptURL\" hook.');\n      }\n      // Overwrite existing TrustedTypes policy.\n      trustedTypesPolicy = cfg.TRUSTED_TYPES_POLICY;\n      // Sign local variables required by `sanitize`.\n      emptyHTML = trustedTypesPolicy.createHTML('');\n    } else {\n      // Uninitialized policy, attempt to initialize the internal dompurify policy.\n      if (trustedTypesPolicy === undefined) {\n        trustedTypesPolicy = _createTrustedTypesPolicy(trustedTypes, currentScript);\n      }\n      // If creating the internal policy succeeded sign internal variables.\n      if (trustedTypesPolicy !== null && typeof emptyHTML === 'string') {\n        emptyHTML = trustedTypesPolicy.createHTML('');\n      }\n    }\n    // Prevent further manipulation of configuration.\n    // Not available in IE8, Safari 5, etc.\n    if (freeze) {\n      freeze(cfg);\n    }\n    CONFIG = cfg;\n  };\n  /* Keep track of all possible SVG and MathML tags\n   * so that we can perform the namespace checks\n   * correctly. */\n  const ALL_SVG_TAGS = addToSet({}, [...svg$1, ...svgFilters, ...svgDisallowed]);\n  const ALL_MATHML_TAGS = addToSet({}, [...mathMl$1, ...mathMlDisallowed]);\n  /**\n   * @param element a DOM element whose namespace is being checked\n   * @returns Return false if the element has a\n   *  namespace that a spec-compliant parser would never\n   *  return. Return true otherwise.\n   */\n  const _checkValidNamespace = function _checkValidNamespace(element) {\n    let parent = getParentNode(element);\n    // In JSDOM, if we're inside shadow DOM, then parentNode\n    // can be null. We just simulate parent in this case.\n    if (!parent || !parent.tagName) {\n      parent = {\n        namespaceURI: NAMESPACE,\n        tagName: 'template'\n      };\n    }\n    const tagName = stringToLowerCase(element.tagName);\n    const parentTagName = stringToLowerCase(parent.tagName);\n    if (!ALLOWED_NAMESPACES[element.namespaceURI]) {\n      return false;\n    }\n    if (element.namespaceURI === SVG_NAMESPACE) {\n      // The only way to switch from HTML namespace to SVG\n      // is via <svg>. If it happens via any other tag, then\n      // it should be killed.\n      if (parent.namespaceURI === HTML_NAMESPACE) {\n        return tagName === 'svg';\n      }\n      // The only way to switch from MathML to SVG is via`\n      // svg if parent is either <annotation-xml> or MathML\n      // text integration points.\n      if (parent.namespaceURI === MATHML_NAMESPACE) {\n        return tagName === 'svg' && (parentTagName === 'annotation-xml' || MATHML_TEXT_INTEGRATION_POINTS[parentTagName]);\n      }\n      // We only allow elements that are defined in SVG\n      // spec. All others are disallowed in SVG namespace.\n      return Boolean(ALL_SVG_TAGS[tagName]);\n    }\n    if (element.namespaceURI === MATHML_NAMESPACE) {\n      // The only way to switch from HTML namespace to MathML\n      // is via <math>. If it happens via any other tag, then\n      // it should be killed.\n      if (parent.namespaceURI === HTML_NAMESPACE) {\n        return tagName === 'math';\n      }\n      // The only way to switch from SVG to MathML is via\n      // <math> and HTML integration points\n      if (parent.namespaceURI === SVG_NAMESPACE) {\n        return tagName === 'math' && HTML_INTEGRATION_POINTS[parentTagName];\n      }\n      // We only allow elements that are defined in MathML\n      // spec. All others are disallowed in MathML namespace.\n      return Boolean(ALL_MATHML_TAGS[tagName]);\n    }\n    if (element.namespaceURI === HTML_NAMESPACE) {\n      // The only way to switch from SVG to HTML is via\n      // HTML integration points, and from MathML to HTML\n      // is via MathML text integration points\n      if (parent.namespaceURI === SVG_NAMESPACE && !HTML_INTEGRATION_POINTS[parentTagName]) {\n        return false;\n      }\n      if (parent.namespaceURI === MATHML_NAMESPACE && !MATHML_TEXT_INTEGRATION_POINTS[parentTagName]) {\n        return false;\n      }\n      // We disallow tags that are specific for MathML\n      // or SVG and should never appear in HTML namespace\n      return !ALL_MATHML_TAGS[tagName] && (COMMON_SVG_AND_HTML_ELEMENTS[tagName] || !ALL_SVG_TAGS[tagName]);\n    }\n    // For XHTML and XML documents that support custom namespaces\n    if (PARSER_MEDIA_TYPE === 'application/xhtml+xml' && ALLOWED_NAMESPACES[element.namespaceURI]) {\n      return true;\n    }\n    // The code should never reach this place (this means\n    // that the element somehow got namespace that is not\n    // HTML, SVG, MathML or allowed via ALLOWED_NAMESPACES).\n    // Return false just in case.\n    return false;\n  };\n  /**\n   * _forceRemove\n   *\n   * @param node a DOM node\n   */\n  const _forceRemove = function _forceRemove(node) {\n    arrayPush(DOMPurify.removed, {\n      element: node\n    });\n    try {\n      // eslint-disable-next-line unicorn/prefer-dom-node-remove\n      getParentNode(node).removeChild(node);\n    } catch (_) {\n      remove(node);\n    }\n  };\n  /**\n   * _removeAttribute\n   *\n   * @param name an Attribute name\n   * @param element a DOM node\n   */\n  const _removeAttribute = function _removeAttribute(name, element) {\n    try {\n      arrayPush(DOMPurify.removed, {\n        attribute: element.getAttributeNode(name),\n        from: element\n      });\n    } catch (_) {\n      arrayPush(DOMPurify.removed, {\n        attribute: null,\n        from: element\n      });\n    }\n    element.removeAttribute(name);\n    // We void attribute values for unremovable \"is\" attributes\n    if (name === 'is') {\n      if (RETURN_DOM || RETURN_DOM_FRAGMENT) {\n        try {\n          _forceRemove(element);\n        } catch (_) {}\n      } else {\n        try {\n          element.setAttribute(name, '');\n        } catch (_) {}\n      }\n    }\n  };\n  /**\n   * _initDocument\n   *\n   * @param dirty - a string of dirty markup\n   * @return a DOM, filled with the dirty markup\n   */\n  const _initDocument = function _initDocument(dirty) {\n    /* Create a HTML document */\n    let doc = null;\n    let leadingWhitespace = null;\n    if (FORCE_BODY) {\n      dirty = '<remove></remove>' + dirty;\n    } else {\n      /* If FORCE_BODY isn't used, leading whitespace needs to be preserved manually */\n      const matches = stringMatch(dirty, /^[\\r\\n\\t ]+/);\n      leadingWhitespace = matches && matches[0];\n    }\n    if (PARSER_MEDIA_TYPE === 'application/xhtml+xml' && NAMESPACE === HTML_NAMESPACE) {\n      // Root of XHTML doc must contain xmlns declaration (see https://www.w3.org/TR/xhtml1/normative.html#strict)\n      dirty = '<html xmlns=\"http://www.w3.org/1999/xhtml\"><head></head><body>' + dirty + '</body></html>';\n    }\n    const dirtyPayload = trustedTypesPolicy ? trustedTypesPolicy.createHTML(dirty) : dirty;\n    /*\n     * Use the DOMParser API by default, fallback later if needs be\n     * DOMParser not work for svg when has multiple root element.\n     */\n    if (NAMESPACE === HTML_NAMESPACE) {\n      try {\n        doc = new DOMParser().parseFromString(dirtyPayload, PARSER_MEDIA_TYPE);\n      } catch (_) {}\n    }\n    /* Use createHTMLDocument in case DOMParser is not available */\n    if (!doc || !doc.documentElement) {\n      doc = implementation.createDocument(NAMESPACE, 'template', null);\n      try {\n        doc.documentElement.innerHTML = IS_EMPTY_INPUT ? emptyHTML : dirtyPayload;\n      } catch (_) {\n        // Syntax error if dirtyPayload is invalid xml\n      }\n    }\n    const body = doc.body || doc.documentElement;\n    if (dirty && leadingWhitespace) {\n      body.insertBefore(document.createTextNode(leadingWhitespace), body.childNodes[0] || null);\n    }\n    /* Work on whole document or just its body */\n    if (NAMESPACE === HTML_NAMESPACE) {\n      return getElementsByTagName.call(doc, WHOLE_DOCUMENT ? 'html' : 'body')[0];\n    }\n    return WHOLE_DOCUMENT ? doc.documentElement : body;\n  };\n  /**\n   * Creates a NodeIterator object that you can use to traverse filtered lists of nodes or elements in a document.\n   *\n   * @param root The root element or node to start traversing on.\n   * @return The created NodeIterator\n   */\n  const _createNodeIterator = function _createNodeIterator(root) {\n    return createNodeIterator.call(root.ownerDocument || root, root,\n    // eslint-disable-next-line no-bitwise\n    NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT | NodeFilter.SHOW_TEXT | NodeFilter.SHOW_PROCESSING_INSTRUCTION | NodeFilter.SHOW_CDATA_SECTION, null);\n  };\n  /**\n   * _isClobbered\n   *\n   * @param element element to check for clobbering attacks\n   * @return true if clobbered, false if safe\n   */\n  const _isClobbered = function _isClobbered(element) {\n    return element instanceof HTMLFormElement && (typeof element.nodeName !== 'string' || typeof element.textContent !== 'string' || typeof element.removeChild !== 'function' || !(element.attributes instanceof NamedNodeMap) || typeof element.removeAttribute !== 'function' || typeof element.setAttribute !== 'function' || typeof element.namespaceURI !== 'string' || typeof element.insertBefore !== 'function' || typeof element.hasChildNodes !== 'function');\n  };\n  /**\n   * Checks whether the given object is a DOM node.\n   *\n   * @param value object to check whether it's a DOM node\n   * @return true is object is a DOM node\n   */\n  const _isNode = function _isNode(value) {\n    return typeof Node === 'function' && value instanceof Node;\n  };\n  function _executeHooks(hooks, currentNode, data) {\n    arrayForEach(hooks, hook => {\n      hook.call(DOMPurify, currentNode, data, CONFIG);\n    });\n  }\n  /**\n   * _sanitizeElements\n   *\n   * @protect nodeName\n   * @protect textContent\n   * @protect removeChild\n   * @param currentNode to check for permission to exist\n   * @return true if node was killed, false if left alive\n   */\n  const _sanitizeElements = function _sanitizeElements(currentNode) {\n    let content = null;\n    /* Execute a hook if present */\n    _executeHooks(hooks.beforeSanitizeElements, currentNode, null);\n    /* Check if element is clobbered or can clobber */\n    if (_isClobbered(currentNode)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Now let's check the element's type and name */\n    const tagName = transformCaseFunc(currentNode.nodeName);\n    /* Execute a hook if present */\n    _executeHooks(hooks.uponSanitizeElement, currentNode, {\n      tagName,\n      allowedTags: ALLOWED_TAGS\n    });\n    /* Detect mXSS attempts abusing namespace confusion */\n    if (currentNode.hasChildNodes() && !_isNode(currentNode.firstElementChild) && regExpTest(/<[/\\w]/g, currentNode.innerHTML) && regExpTest(/<[/\\w]/g, currentNode.textContent)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Remove any occurrence of processing instructions */\n    if (currentNode.nodeType === NODE_TYPE.progressingInstruction) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Remove any kind of possibly harmful comments */\n    if (SAFE_FOR_XML && currentNode.nodeType === NODE_TYPE.comment && regExpTest(/<[/\\w]/g, currentNode.data)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Remove element if anything forbids its presence */\n    if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n      /* Check if we have a custom element to handle */\n      if (!FORBID_TAGS[tagName] && _isBasicCustomElement(tagName)) {\n        if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, tagName)) {\n          return false;\n        }\n        if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(tagName)) {\n          return false;\n        }\n      }\n      /* Keep content except for bad-listed elements */\n      if (KEEP_CONTENT && !FORBID_CONTENTS[tagName]) {\n        const parentNode = getParentNode(currentNode) || currentNode.parentNode;\n        const childNodes = getChildNodes(currentNode) || currentNode.childNodes;\n        if (childNodes && parentNode) {\n          const childCount = childNodes.length;\n          for (let i = childCount - 1; i >= 0; --i) {\n            const childClone = cloneNode(childNodes[i], true);\n            childClone.__removalCount = (currentNode.__removalCount || 0) + 1;\n            parentNode.insertBefore(childClone, getNextSibling(currentNode));\n          }\n        }\n      }\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Check whether element has a valid namespace */\n    if (currentNode instanceof Element && !_checkValidNamespace(currentNode)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Make sure that older browsers don't get fallback-tag mXSS */\n    if ((tagName === 'noscript' || tagName === 'noembed' || tagName === 'noframes') && regExpTest(/<\\/no(script|embed|frames)/i, currentNode.innerHTML)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Sanitize element content to be template-safe */\n    if (SAFE_FOR_TEMPLATES && currentNode.nodeType === NODE_TYPE.text) {\n      /* Get the element's text content */\n      content = currentNode.textContent;\n      arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], expr => {\n        content = stringReplace(content, expr, ' ');\n      });\n      if (currentNode.textContent !== content) {\n        arrayPush(DOMPurify.removed, {\n          element: currentNode.cloneNode()\n        });\n        currentNode.textContent = content;\n      }\n    }\n    /* Execute a hook if present */\n    _executeHooks(hooks.afterSanitizeElements, currentNode, null);\n    return false;\n  };\n  /**\n   * _isValidAttribute\n   *\n   * @param lcTag Lowercase tag name of containing element.\n   * @param lcName Lowercase attribute name.\n   * @param value Attribute value.\n   * @return Returns true if `value` is valid, otherwise false.\n   */\n  // eslint-disable-next-line complexity\n  const _isValidAttribute = function _isValidAttribute(lcTag, lcName, value) {\n    /* Make sure attribute cannot clobber */\n    if (SANITIZE_DOM && (lcName === 'id' || lcName === 'name') && (value in document || value in formElement)) {\n      return false;\n    }\n    /* Allow valid data-* attributes: At least one character after \"-\"\n        (https://html.spec.whatwg.org/multipage/dom.html#embedding-custom-non-visible-data-with-the-data-*-attributes)\n        XML-compatible (https://html.spec.whatwg.org/multipage/infrastructure.html#xml-compatible and http://www.w3.org/TR/xml/#d0e804)\n        We don't need to check the value; it's always URI safe. */\n    if (ALLOW_DATA_ATTR && !FORBID_ATTR[lcName] && regExpTest(DATA_ATTR, lcName)) ; else if (ALLOW_ARIA_ATTR && regExpTest(ARIA_ATTR, lcName)) ; else if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) {\n      if (\n      // First condition does a very basic check if a) it's basically a valid custom element tagname AND\n      // b) if the tagName passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n      // and c) if the attribute name passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.attributeNameCheck\n      _isBasicCustomElement(lcTag) && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, lcTag) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(lcTag)) && (CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.attributeNameCheck, lcName) || CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.attributeNameCheck(lcName)) ||\n      // Alternative, second condition checks if it's an `is`-attribute, AND\n      // the value passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n      lcName === 'is' && CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, value) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(value))) ; else {\n        return false;\n      }\n      /* Check value is safe. First, is attr inert? If so, is safe */\n    } else if (URI_SAFE_ATTRIBUTES[lcName]) ; else if (regExpTest(IS_ALLOWED_URI$1, stringReplace(value, ATTR_WHITESPACE, ''))) ; else if ((lcName === 'src' || lcName === 'xlink:href' || lcName === 'href') && lcTag !== 'script' && stringIndexOf(value, 'data:') === 0 && DATA_URI_TAGS[lcTag]) ; else if (ALLOW_UNKNOWN_PROTOCOLS && !regExpTest(IS_SCRIPT_OR_DATA, stringReplace(value, ATTR_WHITESPACE, ''))) ; else if (value) {\n      return false;\n    } else ;\n    return true;\n  };\n  /**\n   * _isBasicCustomElement\n   * checks if at least one dash is included in tagName, and it's not the first char\n   * for more sophisticated checking see https://github.com/sindresorhus/validate-element-name\n   *\n   * @param tagName name of the tag of the node to sanitize\n   * @returns Returns true if the tag name meets the basic criteria for a custom element, otherwise false.\n   */\n  const _isBasicCustomElement = function _isBasicCustomElement(tagName) {\n    return tagName !== 'annotation-xml' && stringMatch(tagName, CUSTOM_ELEMENT);\n  };\n  /**\n   * _sanitizeAttributes\n   *\n   * @protect attributes\n   * @protect nodeName\n   * @protect removeAttribute\n   * @protect setAttribute\n   *\n   * @param currentNode to sanitize\n   */\n  const _sanitizeAttributes = function _sanitizeAttributes(currentNode) {\n    /* Execute a hook if present */\n    _executeHooks(hooks.beforeSanitizeAttributes, currentNode, null);\n    const {\n      attributes\n    } = currentNode;\n    /* Check if we have attributes; if not we might have a text node */\n    if (!attributes || _isClobbered(currentNode)) {\n      return;\n    }\n    const hookEvent = {\n      attrName: '',\n      attrValue: '',\n      keepAttr: true,\n      allowedAttributes: ALLOWED_ATTR,\n      forceKeepAttr: undefined\n    };\n    let l = attributes.length;\n    /* Go backwards over all attributes; safely remove bad ones */\n    while (l--) {\n      const attr = attributes[l];\n      const {\n        name,\n        namespaceURI,\n        value: attrValue\n      } = attr;\n      const lcName = transformCaseFunc(name);\n      let value = name === 'value' ? attrValue : stringTrim(attrValue);\n      /* Execute a hook if present */\n      hookEvent.attrName = lcName;\n      hookEvent.attrValue = value;\n      hookEvent.keepAttr = true;\n      hookEvent.forceKeepAttr = undefined; // Allows developers to see this is a property they can set\n      _executeHooks(hooks.uponSanitizeAttribute, currentNode, hookEvent);\n      value = hookEvent.attrValue;\n      /* Full DOM Clobbering protection via namespace isolation,\n       * Prefix id and name attributes with `user-content-`\n       */\n      if (SANITIZE_NAMED_PROPS && (lcName === 'id' || lcName === 'name')) {\n        // Remove the attribute with this value\n        _removeAttribute(name, currentNode);\n        // Prefix the value and later re-create the attribute with the sanitized value\n        value = SANITIZE_NAMED_PROPS_PREFIX + value;\n      }\n      /* Work around a security issue with comments inside attributes */\n      if (SAFE_FOR_XML && regExpTest(/((--!?|])>)|<\\/(style|title)/i, value)) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n      /* Did the hooks approve of the attribute? */\n      if (hookEvent.forceKeepAttr) {\n        continue;\n      }\n      /* Remove attribute */\n      _removeAttribute(name, currentNode);\n      /* Did the hooks approve of the attribute? */\n      if (!hookEvent.keepAttr) {\n        continue;\n      }\n      /* Work around a security issue in jQuery 3.0 */\n      if (!ALLOW_SELF_CLOSE_IN_ATTR && regExpTest(/\\/>/i, value)) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n      /* Sanitize attribute content to be template-safe */\n      if (SAFE_FOR_TEMPLATES) {\n        arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], expr => {\n          value = stringReplace(value, expr, ' ');\n        });\n      }\n      /* Is `value` valid for this attribute? */\n      const lcTag = transformCaseFunc(currentNode.nodeName);\n      if (!_isValidAttribute(lcTag, lcName, value)) {\n        continue;\n      }\n      /* Handle attributes that require Trusted Types */\n      if (trustedTypesPolicy && typeof trustedTypes === 'object' && typeof trustedTypes.getAttributeType === 'function') {\n        if (namespaceURI) ; else {\n          switch (trustedTypes.getAttributeType(lcTag, lcName)) {\n            case 'TrustedHTML':\n              {\n                value = trustedTypesPolicy.createHTML(value);\n                break;\n              }\n            case 'TrustedScriptURL':\n              {\n                value = trustedTypesPolicy.createScriptURL(value);\n                break;\n              }\n          }\n        }\n      }\n      /* Handle invalid data-* attribute set by try-catching it */\n      try {\n        if (namespaceURI) {\n          currentNode.setAttributeNS(namespaceURI, name, value);\n        } else {\n          /* Fallback to setAttribute() for browser-unrecognized namespaces e.g. \"x-schema\". */\n          currentNode.setAttribute(name, value);\n        }\n        if (_isClobbered(currentNode)) {\n          _forceRemove(currentNode);\n        } else {\n          arrayPop(DOMPurify.removed);\n        }\n      } catch (_) {}\n    }\n    /* Execute a hook if present */\n    _executeHooks(hooks.afterSanitizeAttributes, currentNode, null);\n  };\n  /**\n   * _sanitizeShadowDOM\n   *\n   * @param fragment to iterate over recursively\n   */\n  const _sanitizeShadowDOM = function _sanitizeShadowDOM(fragment) {\n    let shadowNode = null;\n    const shadowIterator = _createNodeIterator(fragment);\n    /* Execute a hook if present */\n    _executeHooks(hooks.beforeSanitizeShadowDOM, fragment, null);\n    while (shadowNode = shadowIterator.nextNode()) {\n      /* Execute a hook if present */\n      _executeHooks(hooks.uponSanitizeShadowNode, shadowNode, null);\n      /* Sanitize tags and elements */\n      _sanitizeElements(shadowNode);\n      /* Check attributes next */\n      _sanitizeAttributes(shadowNode);\n      /* Deep shadow DOM detected */\n      if (shadowNode.content instanceof DocumentFragment) {\n        _sanitizeShadowDOM(shadowNode.content);\n      }\n    }\n    /* Execute a hook if present */\n    _executeHooks(hooks.afterSanitizeShadowDOM, fragment, null);\n  };\n  // eslint-disable-next-line complexity\n  DOMPurify.sanitize = function (dirty) {\n    let cfg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let body = null;\n    let importedNode = null;\n    let currentNode = null;\n    let returnNode = null;\n    /* Make sure we have a string to sanitize.\n      DO NOT return early, as this will return the wrong type if\n      the user has requested a DOM object rather than a string */\n    IS_EMPTY_INPUT = !dirty;\n    if (IS_EMPTY_INPUT) {\n      dirty = '<!-->';\n    }\n    /* Stringify, in case dirty is an object */\n    if (typeof dirty !== 'string' && !_isNode(dirty)) {\n      if (typeof dirty.toString === 'function') {\n        dirty = dirty.toString();\n        if (typeof dirty !== 'string') {\n          throw typeErrorCreate('dirty is not a string, aborting');\n        }\n      } else {\n        throw typeErrorCreate('toString is not a function');\n      }\n    }\n    /* Return dirty HTML if DOMPurify cannot run */\n    if (!DOMPurify.isSupported) {\n      return dirty;\n    }\n    /* Assign config vars */\n    if (!SET_CONFIG) {\n      _parseConfig(cfg);\n    }\n    /* Clean up removed elements */\n    DOMPurify.removed = [];\n    /* Check if dirty is correctly typed for IN_PLACE */\n    if (typeof dirty === 'string') {\n      IN_PLACE = false;\n    }\n    if (IN_PLACE) {\n      /* Do some early pre-sanitization to avoid unsafe root nodes */\n      if (dirty.nodeName) {\n        const tagName = transformCaseFunc(dirty.nodeName);\n        if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n          throw typeErrorCreate('root node is forbidden and cannot be sanitized in-place');\n        }\n      }\n    } else if (dirty instanceof Node) {\n      /* If dirty is a DOM element, append to an empty document to avoid\n         elements being stripped by the parser */\n      body = _initDocument('<!---->');\n      importedNode = body.ownerDocument.importNode(dirty, true);\n      if (importedNode.nodeType === NODE_TYPE.element && importedNode.nodeName === 'BODY') {\n        /* Node is already a body, use as is */\n        body = importedNode;\n      } else if (importedNode.nodeName === 'HTML') {\n        body = importedNode;\n      } else {\n        // eslint-disable-next-line unicorn/prefer-dom-node-append\n        body.appendChild(importedNode);\n      }\n    } else {\n      /* Exit directly if we have nothing to do */\n      if (!RETURN_DOM && !SAFE_FOR_TEMPLATES && !WHOLE_DOCUMENT &&\n      // eslint-disable-next-line unicorn/prefer-includes\n      dirty.indexOf('<') === -1) {\n        return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(dirty) : dirty;\n      }\n      /* Initialize the document to work on */\n      body = _initDocument(dirty);\n      /* Check we have a DOM node from the data */\n      if (!body) {\n        return RETURN_DOM ? null : RETURN_TRUSTED_TYPE ? emptyHTML : '';\n      }\n    }\n    /* Remove first element node (ours) if FORCE_BODY is set */\n    if (body && FORCE_BODY) {\n      _forceRemove(body.firstChild);\n    }\n    /* Get node iterator */\n    const nodeIterator = _createNodeIterator(IN_PLACE ? dirty : body);\n    /* Now start iterating over the created document */\n    while (currentNode = nodeIterator.nextNode()) {\n      /* Sanitize tags and elements */\n      _sanitizeElements(currentNode);\n      /* Check attributes next */\n      _sanitizeAttributes(currentNode);\n      /* Shadow DOM detected, sanitize it */\n      if (currentNode.content instanceof DocumentFragment) {\n        _sanitizeShadowDOM(currentNode.content);\n      }\n    }\n    /* If we sanitized `dirty` in-place, return it. */\n    if (IN_PLACE) {\n      return dirty;\n    }\n    /* Return sanitized string or DOM */\n    if (RETURN_DOM) {\n      if (RETURN_DOM_FRAGMENT) {\n        returnNode = createDocumentFragment.call(body.ownerDocument);\n        while (body.firstChild) {\n          // eslint-disable-next-line unicorn/prefer-dom-node-append\n          returnNode.appendChild(body.firstChild);\n        }\n      } else {\n        returnNode = body;\n      }\n      if (ALLOWED_ATTR.shadowroot || ALLOWED_ATTR.shadowrootmode) {\n        /*\n          AdoptNode() is not used because internal state is not reset\n          (e.g. the past names map of a HTMLFormElement), this is safe\n          in theory but we would rather not risk another attack vector.\n          The state that is cloned by importNode() is explicitly defined\n          by the specs.\n        */\n        returnNode = importNode.call(originalDocument, returnNode, true);\n      }\n      return returnNode;\n    }\n    let serializedHTML = WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;\n    /* Serialize doctype if allowed */\n    if (WHOLE_DOCUMENT && ALLOWED_TAGS['!doctype'] && body.ownerDocument && body.ownerDocument.doctype && body.ownerDocument.doctype.name && regExpTest(DOCTYPE_NAME, body.ownerDocument.doctype.name)) {\n      serializedHTML = '<!DOCTYPE ' + body.ownerDocument.doctype.name + '>\\n' + serializedHTML;\n    }\n    /* Sanitize final string template-safe */\n    if (SAFE_FOR_TEMPLATES) {\n      arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], expr => {\n        serializedHTML = stringReplace(serializedHTML, expr, ' ');\n      });\n    }\n    return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(serializedHTML) : serializedHTML;\n  };\n  DOMPurify.setConfig = function () {\n    let cfg = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    _parseConfig(cfg);\n    SET_CONFIG = true;\n  };\n  DOMPurify.clearConfig = function () {\n    CONFIG = null;\n    SET_CONFIG = false;\n  };\n  DOMPurify.isValidAttribute = function (tag, attr, value) {\n    /* Initialize shared config vars if necessary. */\n    if (!CONFIG) {\n      _parseConfig({});\n    }\n    const lcTag = transformCaseFunc(tag);\n    const lcName = transformCaseFunc(attr);\n    return _isValidAttribute(lcTag, lcName, value);\n  };\n  DOMPurify.addHook = function (entryPoint, hookFunction) {\n    if (typeof hookFunction !== 'function') {\n      return;\n    }\n    arrayPush(hooks[entryPoint], hookFunction);\n  };\n  DOMPurify.removeHook = function (entryPoint, hookFunction) {\n    if (hookFunction !== undefined) {\n      const index = arrayLastIndexOf(hooks[entryPoint], hookFunction);\n      return index === -1 ? undefined : arraySplice(hooks[entryPoint], index, 1)[0];\n    }\n    return arrayPop(hooks[entryPoint]);\n  };\n  DOMPurify.removeHooks = function (entryPoint) {\n    hooks[entryPoint] = [];\n  };\n  DOMPurify.removeAllHooks = function () {\n    hooks = _createHooksMap();\n  };\n  return DOMPurify;\n}\nvar purify = createDOMPurify();\n\nexport { purify as default };\n//# sourceMappingURL=purify.es.mjs.map\n","import UpsellControl from \"@/builder/components/upsell-control\";\nimport {\n  LongTextControl,\n  PanelBody,\n  SpacingControl,\n} from \"@wptb/ui/components\";\nimport { BlockControlProps } from \"@wptb/dev/types\";\nimport { CustomHtmlBlockProps } from \"@wptb/dev/types\";\nimport { useEffect, useRef, useState } from \"react\";\nimport DOMPurify from \"dompurify\";\n\n\n\nconst Control = ({\n  blockProps,\n  setBlockProps,\n}: BlockControlProps<CustomHtmlBlockProps>) => {\n  const changedHere = useRef(false);\n  const [html, setHtml] = useState(blockProps.html);\n\n  useEffect(() => {\n    if (changedHere.current) {\n      changedHere.current = false;\n      return;\n    }\n    setHtml(blockProps.html);\n  }, [blockProps.html]);\n\n  const onBlur = () => {\n    changedHere.current = true;\n    const sanitized = DOMPurify.sanitize(html, {\n      ADD_TAGS: [\"iframe\"],\n      ADD_ATTR: [\"allow\", \"allowfullscreen\", \"frameborder\", \"src\"],\n      FORBID_ATTR: [\"on*\"],\n      FORBID_TAGS: [\"script\", \"style\", \"object\", \"embed\", \"link\"],\n    });\n    setBlockProps({ html: sanitized });\n    setHtml(sanitized);\n  };\n\n  return (\n    <PanelBody title=\"Custom HTML\" className=\"wptb-settings\" initialOpen>\n      <LongTextControl\n        label=\"HTML Content\"\n        value={html}\n        onChange={setHtml}\n        onBlur={onBlur}\n      />\n      <UpsellControl name=\"custom-html.padding\">\n        <SpacingControl label=\"Padding\" value={blockProps?.padding} />\n      </UpsellControl>\n      <UpsellControl name=\"custom-html.margin\">\n        <SpacingControl label=\"Margin\" value={blockProps?.margin} />\n      </UpsellControl>\n    </PanelBody>\n  );\n};\n\nexport default Control;\n","import { BlockParser } from \"@wptb/dev/types\";\nimport { CustomHtmlBlockProps } from \"@wptb/dev/types\";\nimport { parseSpacing } from \"@wptb/utils/parser\";\nimport { v4 as uuidv4 } from \"uuid\";\n\nconst parseBlock: BlockParser = (el, allBlocks) => {\n  const props: CustomHtmlBlockProps = {\n    html: el.firstElementChild?.innerHTML || \"\",\n    padding: parseSpacing(\"padding\", el.style),\n    margin: parseSpacing(\"margin\", el.style),\n  };\n  const bid = uuidv4();\n  allBlocks[bid] = props;\n  return [\n    bid,\n    {\n      name: \"custom-html\",\n      blockOrder: [],\n    },\n  ];\n};\n\nexport default parseBlock;\n","import { CustomHtmlIcon } from \"@wptb/ui/icons/elements\";\nimport { registerBlock } from \"../../block_registry\";\n\nimport Control from \"./control\";\nimport parseBlock from \"./parse\";\nimport { CustomHtmlBlockProps } from \"@wptb/dev/types\";\nimport { BlockInstance, BlockPreviewInstance } from \"@wptb/dev/types\";\nimport { useBlock } from \"@/public/hooks\";\nimport { useMemo } from \"react\";\nimport { getSpacingStyle } from \"@wptb/utils/style\";\n\nconst Edit = ({ name, blockPath }: BlockInstance) => {\n  const { props, attributes } = useBlock<CustomHtmlBlockProps>({\n    name,\n    blockPath,\n  });\n\n  const style = useMemo(() => {\n    return {\n      ...getSpacingStyle(props.margin, \"margin\"),\n      ...getSpacingStyle(props.padding, \"padding\"),\n    };\n  }, [props]);\n\n  return (\n    <div\n      className=\"wptb-custom_html-container wptb-ph-element wptb-element-custom_html-404\"\n      style={style}\n      {...attributes}\n    >\n      <div\n        className=\"wptb-custom-html-wrapper\"\n        data-wptb-new-element=\"1\"\n        style={{\n          position: \"relative\",\n        }}\n        dangerouslySetInnerHTML={{ __html: props.html }}\n      />\n    </div>\n  );\n};\nconst Preview = ({ props }: BlockPreviewInstance<CustomHtmlBlockProps>) => {\n  const style = useMemo(() => {\n    return {\n      ...getSpacingStyle(props.margin, \"margin\"),\n      ...getSpacingStyle(props.padding, \"padding\"),\n    };\n  }, [props]);\n\n  return (\n    <div\n      className=\"wptb-custom_html-container wptb-ph-element wptb-element-custom_html-404\"\n      style={style}\n    >\n      <div\n        className=\"wptb-custom-html-wrapper\"\n        data-wptb-new-element=\"1\"\n        style={{\n          position: \"relative\",\n        }}\n        dangerouslySetInnerHTML={{ __html: props.html }}\n      />\n    </div>\n  );\n};\n\nregisterBlock<CustomHtmlBlockProps>({\n  name: \"custom-html\",\n  title: \"Custom Html\",\n  Edit,\n  Preview,\n  icon: CustomHtmlIcon,\n  Control,\n  isBlock: (el: HTMLElement) =>\n    el.classList.contains(\"wptb-custom_html-container\"),\n  parse: parseBlock,\n  defaultProps: {\n    html: \"<span>Insert Custom HTML</span>\",\n  },\n});\n","import UpsellControl from \"@/builder/components/upsell-control\";\nimport {\n  LongTextControl,\n  PanelBody,\n  SpacingControl,\n} from \"@wptb/ui/components\";\nimport { BlockControlProps } from \"@wptb/dev/types\";\nimport { ShortcodeBlockProps } from \"@wptb/dev/types\";\n\nconst filterHtml = (html: string): string => {\n  html = html.replace(/<script\\b[^>]*>([\\s\\S]*?)((<\\/script>)|$)/gi, \"\");\n  html = html.replace(/<([^>]*)(\\s+on\\w+=\"[^\"]*\")([^>]*)>/gi, \"<$1$3>\");\n  html = html.replace(/<([^>]*)(\\s+on\\w+='[^']*')([^>]*)>/gi, \"<$1$3>\");\n  return html;\n};\n\nconst Control = ({\n  blockProps,\n  setBlockProps,\n}: BlockControlProps<ShortcodeBlockProps>) => {\n  return (\n    <PanelBody title=\"Shortcode\" className=\"wptb-settings\" initialOpen>\n      <LongTextControl\n        label=\"Shortcode Content\"\n        value={blockProps.shortcode}\n        onChange={(value) => setBlockProps({ shortcode: filterHtml(value) })}\n      />\n      <UpsellControl name=\"shortcode.padding\">\n        <SpacingControl label=\"Padding\" value={blockProps?.padding} />\n      </UpsellControl>\n      <UpsellControl name=\"shortcode.margin\">\n        <SpacingControl label=\"Margin\" value={blockProps?.margin} />\n      </UpsellControl>\n    </PanelBody>\n  );\n};\n\nexport default Control;\n","import { BlockParser } from \"@wptb/dev/types\";\nimport { ShortcodeBlockProps } from \"@wptb/dev/types\";\nimport { parseSpacing } from \"@wptb/utils/parser\";\nimport { v4 as uuidv4 } from \"uuid\";\n\nconst parseBlock: BlockParser = (el, allBlocks) => {\n  const cDiv = el.querySelector(\"div\");\n\n  const props: ShortcodeBlockProps = {\n    shortcode: (cDiv?.querySelector(\"p\") || cDiv)?.innerHTML || \"\",\n\n    padding: parseSpacing(\"padding\", el.style),\n    margin: parseSpacing(\"margin\", el.style),\n  };\n  const bid = uuidv4();\n  allBlocks[bid] = props;\n\n  return [\n    bid,\n    {\n      name: \"shortcode\",\n      innerBlocks: {},\n      blockOrder: [],\n    },\n  ];\n};\n\nexport default parseBlock;\n","import { ShortcodeIcon } from \"@wptb/ui/icons/elements\";\nimport { registerBlock } from \"../../block_registry\";\n\nimport Control from \"./control\";\nimport parseBlock from \"./parse\";\nimport { ShortcodeBlockProps } from \"@wptb/dev/types\";\nimport { BlockInstance, BlockPreviewInstance } from \"@wptb/dev/types\";\nimport { useBlock } from \"@/public/hooks\";\nimport { useMemo } from \"react\";\nimport { getSpacingStyle } from \"@wptb/utils/style\";\n\nconst Edit = ({ name, blockPath }: BlockInstance) => {\n  const { props, attributes } = useBlock<ShortcodeBlockProps>({\n    name,\n    blockPath,\n  });\n  const style = useMemo(() => {\n    return {\n      ...getSpacingStyle(props.margin, \"margin\"),\n      ...getSpacingStyle(props.padding, \"padding\"),\n    };\n  }, [props]);\n  return (\n    <div\n      className=\"wptb-shortcode-container wptb-ph-element wptb-element-shortcode-404\"\n      {...attributes}\n      style={style}\n    >\n      <div\n        style={{ position: \"relative\" }}\n        dangerouslySetInnerHTML={{ __html: props.shortcode }}\n      />\n    </div>\n  );\n};\n\nconst Preview = ({ props }: BlockPreviewInstance<ShortcodeBlockProps>) => {\n  const style = useMemo(() => {\n    return {\n      ...getSpacingStyle(props.margin, \"margin\"),\n      ...getSpacingStyle(props.padding, \"padding\"),\n    };\n  }, [props]);\n  return (\n    <div\n      className=\"wptb-shortcode-container wptb-ph-element wptb-element-shortcode-404\"\n      style={style}\n    >\n      <div\n        style={{ position: \"relative\" }}\n        dangerouslySetInnerHTML={{ __html: props.shortcode }}\n      />\n    </div>\n  );\n};\n\nregisterBlock<ShortcodeBlockProps>({\n  name: \"shortcode\",\n  title: \"Shortcode\",\n  icon: ShortcodeIcon,\n  Edit,\n  Preview,\n  Control,\n  isBlock: (el: HTMLElement) =>\n    el.classList.contains(\"wptb-shortcode-container\"),\n  parse: parseBlock,\n  defaultProps: {\n    shortcode: \"[Shortcode]\",\n  },\n});\n","import React from \"react\";\r\nimport * as ReactRedux from \"react-redux\";\r\nimport ReactDOMClient from \"react-dom/client\";\r\nimport {\r\n  registerBlock,\r\n  registerEnhancement,\r\n  registerInnerBlock,\r\n} from \"./block_registry\";\r\nimport store from \"./store\";\r\nimport { TABLE_ID, tableReducer } from \"./store/table\";\r\nimport BuilderApp from \"./builder\";\r\nimport Table from \"./public/table-preview\";\r\nimport EnhancedControl from \"./builder/components/enhanced-control\";\r\nimport { insertInnerBlock, removeBlock } from \"./public/block\";\r\nimport {\r\n  default as notify,\r\n  Notifications,\r\n  updateNotification,\r\n} from \"./public/notify\";\r\nimport { useBlock, useBlockProps } from \"./public/hooks\";\r\nimport parseTable from \"./legacy/parser\";\r\nimport { editorReducer } from \"./store/editor\";\r\nimport * as components from \"@wptb/ui/components\";\r\n\r\nimport { ToolbarBtn } from \"./builder/control-panel/Toolbar\";\r\nimport TimeTravel from \"./store/time-travel\";\r\nimport { cloneBlock } from \"./store/table/utils\";\r\nimport { createNewTable } from \"./public/utils\";\r\n\r\nimport \"./blocks\";\r\nimport \"./upsells\";\r\n\r\nconst WPTB = {\r\n  TABLE_ID,\r\n  modules: {\r\n    React: React,\r\n    ReactRedux: ReactRedux,\r\n    ReactDOMClient: ReactDOMClient,\r\n    components,\r\n  },\r\n  store: {\r\n    store,\r\n    table: tableReducer,\r\n    editor: editorReducer,\r\n  },\r\n  hooks: {\r\n    useBlock,\r\n    useBlockProps,\r\n  },\r\n  components: {\r\n    Table,\r\n    BuilderApp,\r\n    Notifications,\r\n    EnhancedControl,\r\n    ToolbarBtn,\r\n  },\r\n  registry: {\r\n    registerBlock,\r\n    registerInnerBlock,\r\n    registerEnhancement,\r\n  },\r\n  utils: {\r\n    notify,\r\n    updateNotification,\r\n    parseTable,\r\n    createNewTable,\r\n    cloneBlock,\r\n    insertInnerBlock,\r\n    removeBlock,\r\n    TimeTravel,\r\n  },\r\n} as const;\r\n\r\nwindow.WPTB = WPTB;\r\n\r\nexport type WPTB = typeof WPTB;\r\n"],"names":["AlignmentControl","label","value","onChange","jsx","RadioGroup","AlignLeftIcon","AlignCenterIcon","AlignRightIcon","BoxAllSide","BoxTopSide","jsxs","BoxRightSide","BoxBottomSide","BoxLeftSide","BoxVerticalSide","BoxHorizontalSide","ChoiceGroup","items","item","checked","x","ImagePicker","imageFrameRef","useRef","openMediaLibrary","useCallback","imageFrame","modalElement","event","attachment","SizeXYControl","height","width","isLocked","setLocked","useState","w","h","unit","useMemo","ratio","ControlLabel","e","nh","SIDE_ICON_MAP","SpacingSingle","side","allowedUnits","allowOutOfRange","allowOutOfRangeMax","allowOutOfRangeMin","SizeControl","defaultAllowedUnits","SpacingControl","onReset","sides","isSplit","setIsSplit","changeSplit","setSideValue","val","UnSplitIcon","SplitIcon","TextControl","placeholder","Block","id","index","ancestor","tableId","blockInfo","useSelector","state","newAncestor","blockOrder","blockProps","BlockComponent","_a","BLOCK_MAP","InvalidBlock","blockId","idx","Cell","rowId","rowIndex","cellIndex","tableProps","useBlockProps","TABLE_ID","props","useResponsiveProps","attrs","useCellAttrs","isEmpty","innerBlocks","cls","_b","_evt","Row","useRowAttrs","cellId","Table","table","device","tblStyle","tbodyAttrs","tableAttrs","containerStyle","calced","calcTableMinWidth","getTableAttrs","getTableStyle","getTBodyAttrs","insertInnerBlock","parentId","name","setActive","newId","TimeTravel","addBlock","store","setActiveBlock","removeBlock","internalRemoveBlock","Control","setBlockProps","PanelBody","ColorControl","color","linkColor","fontSize","UpsellControl","parseBlock","el","allProps","_","text","child","uuidv4","hexToRgbA","linkEl","parseSpacing","getTextStyle","getSpacingStyle","Edit","blockPath","updateProps","isActive","attributes","useBlock","style","RichText","Preview","registerBlock","TextIcon","GeneralTab","size","SwitchControl","fullWidth","BorderRadiusControl","v","background","hoverBg","hoverColor","RangeControl","LinkTab","url","linkRel","SelectControl","linkTarget","IconTab","IconPicker","icon","iconSize","LabelTab","activeTab","setActiveTab","Tab","bWrap","lTarget","btnDiv","iconEl","labelEl","pEl","_c","bid","getAttrs","isHovered","mainStyle","btnStyle","getBorderRadiusCss","hoverAttrs","btnAttrs","labelStyle","btnPStyle","getLinkEl","lTag","lAttrs","evt","isLabelFocused","setLabelFocused","setHovered","wrapperClass","createElement","NetIcon","labelText","ButtonIcon","src","alignment","alt","SizeTab","imgEl","PlaceHolder","ImageIcon","wrapperAttrs","wrapperStyle","imgAttrs","type","listIcon","FontTab","LayoutTab","itemSpacing","firstLi","firstP","alignMap","liProps","listId","toolTipEl","tooltipPosision","lastEntry","itmProps","bId","aCount","key","useInfo","pClass","liStyle","pStyle","liClass","toolTip","shouldFocus","editorRef","split","one","two","useEffect","update","u","registerInnerBlock","children","padding","margin","listStyle","ListIcon","Fragment","allBlocks","firstStar","ratingBox","ratingEl","Star","displayColor","setHighlighted","setValue","reset","elRef","onMove","rect","onClick","getInfo","ratingStyle","total","ratingDisplay","starColor","starSize","highlighted","classNames","i","StarRatingIcon","entries","setPrototypeOf","isFrozen","getPrototypeOf","getOwnPropertyDescriptor","freeze","seal","create","apply","construct","fun","thisValue","args","Func","arrayForEach","unapply","arrayLastIndexOf","arrayPop","arrayPush","arraySplice","stringToLowerCase","stringToString","stringMatch","stringReplace","stringIndexOf","stringTrim","objectHasOwnProperty","regExpTest","typeErrorCreate","unconstruct","func","thisArg","_len","_key","_len2","_key2","addToSet","set","array","transformCaseFunc","element","lcElement","cleanArray","clone","object","newObject","property","lookupGetter","prop","desc","fallbackValue","html$1","svg$1","svgFilters","svgDisallowed","mathMl$1","mathMlDisallowed","html","svg","mathMl","xml","MUSTACHE_EXPR","ERB_EXPR","TMPLIT_EXPR","DATA_ATTR","ARIA_ATTR","IS_ALLOWED_URI","IS_SCRIPT_OR_DATA","ATTR_WHITESPACE","DOCTYPE_NAME","CUSTOM_ELEMENT","EXPRESSIONS","NODE_TYPE","getGlobal","_createTrustedTypesPolicy","trustedTypes","purifyHostElement","suffix","ATTR_NAME","policyName","scriptUrl","_createHooksMap","createDOMPurify","window","DOMPurify","root","document","originalDocument","currentScript","DocumentFragment","HTMLTemplateElement","Node","Element","NodeFilter","NamedNodeMap","HTMLFormElement","DOMParser","ElementPrototype","cloneNode","remove","getNextSibling","getChildNodes","getParentNode","template","trustedTypesPolicy","emptyHTML","implementation","createNodeIterator","createDocumentFragment","getElementsByTagName","importNode","hooks","IS_ALLOWED_URI$1","ALLOWED_TAGS","DEFAULT_ALLOWED_TAGS","ALLOWED_ATTR","DEFAULT_ALLOWED_ATTR","CUSTOM_ELEMENT_HANDLING","FORBID_TAGS","FORBID_ATTR","ALLOW_ARIA_ATTR","ALLOW_DATA_ATTR","ALLOW_UNKNOWN_PROTOCOLS","ALLOW_SELF_CLOSE_IN_ATTR","SAFE_FOR_TEMPLATES","SAFE_FOR_XML","WHOLE_DOCUMENT","SET_CONFIG","FORCE_BODY","RETURN_DOM","RETURN_DOM_FRAGMENT","RETURN_TRUSTED_TYPE","SANITIZE_DOM","SANITIZE_NAMED_PROPS","SANITIZE_NAMED_PROPS_PREFIX","KEEP_CONTENT","IN_PLACE","USE_PROFILES","FORBID_CONTENTS","DEFAULT_FORBID_CONTENTS","DATA_URI_TAGS","DEFAULT_DATA_URI_TAGS","URI_SAFE_ATTRIBUTES","DEFAULT_URI_SAFE_ATTRIBUTES","MATHML_NAMESPACE","SVG_NAMESPACE","HTML_NAMESPACE","NAMESPACE","IS_EMPTY_INPUT","ALLOWED_NAMESPACES","DEFAULT_ALLOWED_NAMESPACES","MATHML_TEXT_INTEGRATION_POINTS","HTML_INTEGRATION_POINTS","COMMON_SVG_AND_HTML_ELEMENTS","PARSER_MEDIA_TYPE","SUPPORTED_PARSER_MEDIA_TYPES","DEFAULT_PARSER_MEDIA_TYPE","CONFIG","formElement","isRegexOrFunction","testValue","_parseConfig","cfg","ALL_SVG_TAGS","ALL_MATHML_TAGS","_checkValidNamespace","parent","tagName","parentTagName","_forceRemove","node","_removeAttribute","_initDocument","dirty","doc","leadingWhitespace","matches","dirtyPayload","body","_createNodeIterator","_isClobbered","_isNode","_executeHooks","currentNode","data","hook","_sanitizeElements","content","_isBasicCustomElement","parentNode","childNodes","childCount","childClone","expr","_isValidAttribute","lcTag","lcName","_sanitizeAttributes","hookEvent","l","attr","namespaceURI","attrValue","_sanitizeShadowDOM","fragment","shadowNode","shadowIterator","importedNode","returnNode","nodeIterator","serializedHTML","tag","entryPoint","hookFunction","purify","changedHere","setHtml","onBlur","sanitized","LongTextControl","CustomHtmlIcon","filterHtml","cDiv","ShortcodeIcon","WPTB","React","ReactRedux","ReactDOMClient","components","tableReducer","editorReducer","BuilderApp","Notifications","EnhancedControl","ToolbarBtn","registerEnhancement","notify","updateNotification","parseTable","createNewTable","cloneBlock"],"mappings":"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","x_google_ignoreList":[30]}