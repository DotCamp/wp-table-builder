import{j as d,c as mt,r as at,W as se,T as It,R as Ft,E as Zt,n as yt,C as ae,M as oe,a as Dt,b as le,d as St,g as Ht,u as Pt,p as qt,t as ce,e as Ct,f as Lt,h as he,i as ue,k as zt,U as de,l as fe,P as Gt,m as pe,o as me,D as ge,q as Kt,s as _e,v as be,w as Ot,x as ve,B as we,y as ye,z as xe,A as ke,F as Ce,N as Se}from"./assets/index-8edPr04B.js";const je=wp.i18n,jt=B=>je.__(B,"wp-table-builder"),Tt=({setPage:B,page:K})=>d.jsxs("div",{className:"wptb-v2-nav",children:[d.jsxs("h2",{className:"wptb-v2-logo",children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"0.97em",height:"1em",viewBox:"0 0 32 33",children:[d.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M9 15H5v-1h4zm8-7h-4V7h4zm3 7h-9v-1h9zm8-7h-9V7h9z",clipRule:"evenodd"}),d.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M10 9V3a1 1 0 0 1 1-1h18a1 1 0 0 1 1 1v9a1 1 0 0 1-1 1h-7v4h-1v-7H3v9h9v1H3a1 1 0 0 1-1-1v-9a1 1 0 0 1 1-1zm1-6h18v9h-7v-2a1 1 0 0 0-1-1H11z",clipRule:"evenodd"}),d.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M19.714 26.286L20.571 28h.858v-.888c0-.34.296-.976.602-1.54c.14-.259.281-.502.398-.696c.154-.257.264-.427.264-.427c.246-.408.45-1.117.45-1.588v-4.046c0-.796-.605-1.445-1.364-1.48l-.065-.002a.73.73 0 0 0-.714.741v.296q0-.152-.029-.296a1.52 1.52 0 0 0-.669-.986a1.46 1.46 0 0 0-.73-.23a.78.78 0 0 0-.715.772v.296q0-.152-.028-.296a1.48 1.48 0 0 0-.676-.981a1.4 1.4 0 0 0-.724-.205a.73.73 0 0 0-.715.741v.296q0-.152-.028-.296a1.48 1.48 0 0 0-.674-.98a1.4 1.4 0 0 0-.726-.205a.73.73 0 0 0-.715.74v4.149h-.857v-2.667a1.67 1.67 0 0 0-1 .334A1.8 1.8 0 0 0 12 20v3.089c0 .478.307 1.084.686 1.365c0 0 2.743 1.956 2.743 2.658V28h3.428zm-.857-5.143v3.428h.857v-3.428zm-.857 0h-.857v3.428H18zm2.572 0v3.428h.857v-3.428zm-8.467 4.126l-.008-.006l-.008-.006a2.74 2.74 0 0 1-.781-.962A2.74 2.74 0 0 1 11 23.089V20c0-1.453 1.109-2.698 2.571-2.774v-.485c0-.927.734-1.741 1.715-1.741c.59 0 1.12.21 1.533.556q.283-.11.61-.112c.584 0 1.11.207 1.522.547q.256-.106.54-.13l.06-.006l.06.003c.572.023 1.091.24 1.499.585c.186-.07.39-.11.604-.11c1.376 0 2.429 1.146 2.429 2.482v4.046c0 .358-.074.75-.17 1.091a4.3 4.3 0 0 1-.425 1.015l-.007.012m-.008.012l-.002.003l-.01.015l-.036.058a18 18 0 0 0-.547.93a9 9 0 0 0-.39.79c-.076.18-.104.282-.114.32q-.006.029-.005.005V29h-2.476l-.239-.478l-.239.478H14.43v-1.724a2 2 0 0 0-.168-.202a9 9 0 0 0-.847-.789a23 23 0 0 0-1.283-.997l-.02-.015l-.006-.004m2.372 2.082l-.008-.014z",clipRule:"evenodd"})]}),d.jsx("span",{children:"WP Table Builder"})]}),d.jsxs("div",{children:[d.jsxs("button",{className:mt("wptb-v2-link-btn",{"wptb-active-nav":K==="tables"}),onClick:()=>B("tables"),children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",children:d.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M20 4H4a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h16a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1M4 2a3 3 0 0 0-3 3v14a3 3 0 0 0 3 3h16a3 3 0 0 0 3-3V5a3 3 0 0 0-3-3zm2 5h2v2H6zm5 0a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2zm-3 4H6v2h2zm2 1a1 1 0 0 1 1-1h6a1 1 0 1 1 0 2h-6a1 1 0 0 1-1-1m-2 3H6v2h2zm2 1a1 1 0 0 1 1-1h6a1 1 0 1 1 0 2h-6a1 1 0 0 1-1-1",clipRule:"evenodd"})}),d.jsx("span",{children:jt("Table List")})]}),d.jsxs("button",{className:mt("wptb-v2-link-btn",{"wptb-active-nav":K==="create"}),onClick:()=>B("create"),children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",children:d.jsx("path",{fill:"currentColor",d:"M18 14h2v3h3v2h-3v3h-2v-3h-3v-2h3zM4 3h14a2 2 0 0 1 2 2v7.08a6 6 0 0 0-4.32.92H12v4h1.08c-.11.68-.11 1.35 0 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2m0 4v4h6V7zm8 0v4h6V7zm-8 6v4h6v-4z"})}),d.jsx("span",{children:jt("Add New")})]}),d.jsxs("button",{className:mt("wptb-v2-link-btn",{"wptb-active-nav":K==="import"}),onClick:()=>B("import"),children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",children:d.jsx("path",{fill:"currentColor",d:"M4 3h14a2 2 0 0 1 2 2v7.08a6 6 0 0 0-4.32.92H12v4h1.08c-.11.68-.11 1.35 0 2H4a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2m0 4v4h6V7zm8 0v4h6V7zm-8 6v4h6v-4zm14.44 2v2h4v2h-4v2l-3-3z"})}),d.jsx("span",{children:jt("Import")})]}),d.jsxs("button",{className:mt("wptb-v2-link-btn",{"wptb-active-nav":K==="export"}),onClick:()=>B("export"),children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",children:d.jsx("path",{fill:"currentColor",d:"M4 3h14a2 2 0 0 1 2 2v7.08a6 6 0 0 0-4.32.92H12v4h1.08c-.11.68-.11 1.35 0 2H4a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2m0 4v4h6V7zm8 0v4h6V7zm-8 6v4h6v-4zm15.44 8v-2h-4v-2h4v-2l3 3z"})}),d.jsx("span",{children:jt("Export")})]})]})]}),Ee=({apiData:B,setPage:K})=>{const u=j=>{!B||j<1||j>B.total_pages||j===B.current_page||K(j)};return d.jsx("div",{className:"wptb-v2-pagination",children:d.jsxs("div",{className:"wptb-v2-pagination-group",children:[d.jsx("button",{type:"button",className:mt({"wptb-v2-pagination-disabled":B.current_page===1}),onClick:()=>u(B.current_page-1),children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",children:d.jsx("path",{fill:"none",stroke:"currentColor",strokeWidth:"2",d:"m15 6l-6 6l6 6"})})}),B.pages.map(j=>j!==0?d.jsx("button",{type:"button",className:mt({"wptb-v2-pagination-active":j===B.current_page}),onClick:()=>u(j),children:j},j):d.jsx("p",{className:"wptb-page-divider",children:"..."})),d.jsx("button",{type:"button",className:mt({"wptb-v2-pagination-disabled":B.current_page===B.total_pages}),onClick:()=>u(B.current_page+1),children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",children:d.jsx("path",{fill:"none",stroke:"currentColor",strokeWidth:"2",d:"m9 6l6 6l-6 6"})})})]})})},ze=(B,K=2)=>{const u=[];if(B<=K*3+2){for(let h=1;h<=B;h++)u.push(h);return u}for(let h=1;h<=K;h++)u.push(h);const j=Math.ceil(B/2-K/2);u.at(-1)<j-1&&u.push(0);for(let h=0;h<K;h++)u.push(j+h);u.push(0);for(let h=1;h<=K;h++)u.push(B-K+h);return u},Ae=B=>{if(navigator.clipboard){navigator.clipboard.writeText(B);return}const K=document.createElement("textarea");K.value=B,document.body.appendChild(K),K.select(),document.execCommand("copy"),document.body.removeChild(K)},Vt=(B,K="asc")=>{const[u,j]=at.useState({by:B,order:K});return at.useMemo(()=>[u,h=>{let a="asc";u.by===h&&(a=u.order==="asc"?"desc":"asc"),j({by:h,order:a})}],[u])},Ie={loading:!0,posts:[],current_page:1,page_start:"...",page_end:"...",total_count:"...",pages:[],total_pages:1},$t=({page:B,search:K,status:u,skipTables:j,sort:h,abortCtrl:a,refetchOnSkipChange:o})=>{const[r,n]=at.useState(Ie),[w,k]=at.useState(!1),_=(s,m)=>{if(m){let i;["id","title","date","modified"].includes(h.by||"id")?i=h.by:i="id",i!=="id"?h.order==="asc"?s.sort((f,c)=>f[i].localeCompare(c[i])):s.sort((f,c)=>c[i].localeCompare(f[i])):h.order==="asc"?s.sort((f,c)=>f[i]-c[i]):s.sort((f,c)=>c[i]-f[i])}n({...r,posts:s})},x=o?j:"";return at.useEffect(()=>{const s=new URLSearchParams({page:B.toString(),search:K||"",status:u||"",except:j||"",...h?{sort_by:h.by,sort_order:h.order}:{}}),m=WPTB_CFG.API_BASE+"/v1/tables?"+s.toString();n(i=>({...i,current_page:B,loading:!0})),fetch(m,{signal:a==null?void 0:a.signal}).then(i=>i.json()).then(i=>{const{posts:f,current_page:c,total_pages:y,total_count:C}=i,S=(c-1)*i.per_page+1,A=S+f.length-1;n({loading:!1,posts:f,current_page:c,page_start:S,page_end:A,pages:ze(y,2),total_pages:y,total_count:C})})},[B,K,u,h.by,h.order,x,w]),[r,_,()=>k(!w)]},Yt={duplicate:{icon:se,title:"Sure to duplicate?",text:B=>`Table: <b>${B.targetTitle}</b> is set to be duplicated.<br/> Are you sure?`,className:"wptb-modal-warning",url:"duplicate"},trash:{icon:It,title:"Sure to trash?",text:B=>`Table: <b>${B.targetTitle}</b> is set to be trashed. <br />Are you sure?`,className:"wptb-modal-danger",url:"trash"},restore:{icon:Ft,title:"Sure to restore?",text:B=>`Table: <b>${B.targetTitle}</b> is set to be trashed. <br />Are you sure?`,className:"wptb-modal-warning",url:"restore"},delete:{icon:It,title:"Sure to delete?",text:B=>`Table: <b>${B.targetTitle}</b> is set to be deleted. Are you sure?<br/> It will be deleted permanently.`,className:"wptb-modal-danger",url:"delete"},trash_bulk:{icon:It,title:"Sure to trash?",text:(B,K)=>`<b>${K}</b> table(s) are set to be trashed. <br />Are you sure?`,className:"wptb-modal-danger",url:"trash_bulk"},restore_bulk:{icon:Ft,title:"Sure to restore?",text:(B,K)=>`<b>${K}</b> table(s) are set to be restored. <br />Are you sure?`,className:"wptb-modal-warning",url:"restore_bulk"}},Te=async({action:B,id:K,ids:u})=>{const j=Yt[B].url;if(!j)return{action:B,id:K,ids:u,res:{}};try{const h=await fetch(WPTB_CFG.API_BASE+"/v1/"+j,{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({id:K,ids:u,security_code:WPTB_CFG.SECURITY_CODE})}),a=await h.json();if(!h.ok)throw new Error(a.message||`HTTP error! Status: ${h.status}`);return{action:B,id:K,ids:u,res:a}}catch(h){return{action:B,id:K,ids:u,res:{error:h.message}}}},Re=({apiData:B,setPage:K,isTrash:u,setTables:j,sortBy:h,sortOrder:a,setSort:o})=>{const r=at.useRef({}),n=at.useRef({}),[w,k]=at.useState(""),[_,x]=at.useState(0),[s,m]=at.useState(null);at.useEffect(()=>{r.current={},x(0)},[B]);const i=S=>{K("builder",{table:S})},f=()=>{_<B.posts.length?(B.posts.forEach(S=>{r.current[S.id]=!0}),x(B.posts.length)):(r.current={},x(0))},c=S=>{r.current[S]?(delete r.current[S],x(_-1)):(r.current[S]=!0,x(_+1))},y=async()=>{var l;if(!s)return;if(s.targetId){if(n.current[s.targetId])return;n.current[s.targetId]=!0}else for(const z in r.current){if(n.current[z])return;n.current[z]=r.current[z]}const S=Object.keys(r.current).map(Number);r.current={},x(0),m(null);const{action:A,id:U,ids:N,res:v}=await Te({action:s.action,id:s.targetId,ids:S});if(N!=null&&N.length?N.forEach(z=>{delete n.current[z]}):delete n.current[U],v.error){yt(v.error,"error",0),j([...B.posts]);return}if(v.message&&yt(v.message,"success"),A==="trash"||A==="restore"||A==="delete")j([...B.posts.filter(z=>z.id!==U)]);else if(A==="trash_bulk"||A==="restore_bulk")j([...B.posts.filter(z=>!(N!=null&&N.includes(z.id)))]);else{const z=[...B.posts];(l=v.posts)==null||l.forEach(W=>{z.push(W)}),j(z,!0)}},C=s&&Yt[s.action];return h=h||"id",d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"wptb-v2-bulk-actions",children:[d.jsxs("select",{value:w,onChange:S=>k(S.target.value),children:[d.jsx("option",{value:"",children:"Bulk Actions"}),u?d.jsx("option",{value:"restore_bulk",children:"Restore"}):d.jsx("option",{value:"trash_bulk",children:"Delete"})]}),d.jsx("button",{type:"button",onClick:()=>_>0&&m({action:w}),children:"Apply"}),d.jsxs("p",{children:[d.jsx("b",{children:_})," items selected"]})]}),d.jsxs("table",{className:mt({"wptb-v2-table-list":!B.loading,"wptb-v2-table-loading":B.loading}),children:[d.jsxs("colgroup",{children:[d.jsx("col",{style:{width:"30px"}}),d.jsx("col",{}),d.jsx("col",{}),d.jsx("col",{}),d.jsx("col",{})]}),d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:d.jsx("input",{type:"checkbox",checked:_===B.posts.length,onChange:f})}),d.jsxs("th",{children:["Title",d.jsx("button",{type:"button",onClick:()=>o("title"),className:mt("wptb-v2-table-sort-btn",{"wptb-sort-btn-asc":h==="title"&&a==="asc","wptb-sort-btn-desc":h==="title"&&a!=="asc"})})]}),d.jsxs("th",{children:["Shortcode",d.jsx("button",{type:"button",onClick:()=>o("id"),className:mt("wptb-v2-table-sort-btn",{"wptb-sort-btn-asc":h==="id"&&a==="asc","wptb-sort-btn-desc":h==="id"&&a!=="asc"})})]}),d.jsxs("th",{children:["Created",d.jsx("button",{type:"button",onClick:()=>o("date"),className:mt("wptb-v2-table-sort-btn",{"wptb-sort-btn-asc":h==="date"&&a==="asc","wptb-sort-btn-desc":h==="date"&&a!=="asc"})})]}),d.jsxs("th",{children:["Last Modified",d.jsx("button",{type:"button",onClick:()=>o("modified"),className:mt("wptb-v2-table-sort-btn",{"wptb-sort-btn-asc":h==="modified"&&a==="asc","wptb-sort-btn-desc":h==="modified"&&a!=="asc"})})]})]})}),d.jsx("tbody",{children:B.loading?Array(5).fill(0).map((S,A)=>d.jsxs("tr",{children:[d.jsx("td",{children:d.jsx("div",{})}),d.jsx("td",{children:d.jsx("div",{})}),d.jsx("td",{children:d.jsx("div",{})}),d.jsx("td",{children:d.jsx("div",{})}),d.jsx("td",{children:d.jsx("div",{})})]},A)):B.posts.length?B.posts.map(S=>d.jsxs("tr",{children:[d.jsxs("td",{children:[d.jsx("input",{type:"checkbox",checked:r.current[S.id],onChange:()=>c(S.id)}),n.current[S.id]&&d.jsx("div",{className:"wptb-v2-table-pending",children:Zt})]}),d.jsxs("td",{children:[d.jsx("p",{children:S.title||"[Untitled]"}),u?d.jsxs("div",{className:"wptb-v2-table-actions",children:[d.jsx("button",{className:"wptb-table-action-restore",type:"button",onClick:()=>m({action:"restore",targetId:S.id,targetTitle:S.title}),children:"Restore"}),d.jsx("button",{className:"wptb-table-action-trash",type:"button",onClick:()=>m({action:"delete",targetId:S.id,targetTitle:S.title}),children:"Delete"})]}):d.jsxs("div",{className:"wptb-v2-table-actions",children:[d.jsx("button",{className:"wptb-table-action-edit",type:"button",onClick:()=>i(S.id),children:"Edit"}),d.jsx("button",{className:"wptb-table-action-duplicate",type:"button",onClick:()=>m({action:"duplicate",targetId:S.id,targetTitle:S.title}),children:"Duplicate"}),d.jsx("button",{type:"button",className:"wptb-table-action-preview",children:"Preview"}),d.jsx("button",{className:"wptb-table-action-trash",type:"button",onClick:()=>m({action:"trash",targetId:S.id,targetTitle:S.title}),children:"Trash"})]})]}),d.jsx("td",{children:d.jsxs("div",{className:"wptb-v2-shortcode-col",children:["[wptb id=",S.id,"]",d.jsx("button",{type:"button",className:"wptb-v2-copy-btn",onClick:()=>{Ae(`[wptb id=${S.id}]`),yt("Copied to clipboard!","success")},children:ae})]})}),d.jsx("td",{children:S.date}),d.jsx("td",{children:S.modified})]},S.id)):d.jsx("tr",{children:d.jsx("td",{colSpan:5,children:d.jsx("p",{children:"No results found"})})})}),d.jsx("tfoot",{children:d.jsxs("tr",{children:[d.jsx("th",{children:d.jsx("input",{type:"checkbox",checked:_===B.posts.length,onChange:f})}),d.jsxs("th",{children:["Title",d.jsx("button",{type:"button",onClick:()=>o("title"),className:mt("wptb-v2-table-sort-btn",{"wptb-sort-btn-asc":h==="title"&&a==="asc","wptb-sort-btn-desc":h==="title"&&a!=="asc"})})]}),d.jsxs("th",{children:["Shortcode",d.jsx("button",{type:"button",onClick:()=>o("id"),className:mt("wptb-v2-table-sort-btn",{"wptb-sort-btn-asc":h==="id"&&a==="asc","wptb-sort-btn-desc":h==="id"&&a!=="asc"})})]}),d.jsxs("th",{children:["Created",d.jsx("button",{type:"button",onClick:()=>o("date"),className:mt("wptb-v2-table-sort-btn",{"wptb-sort-btn-asc":h==="date"&&a==="asc","wptb-sort-btn-desc":h==="date"&&a!=="asc"})})]}),d.jsxs("th",{children:["Last Modified",d.jsx("button",{type:"button",onClick:()=>o("modified"),className:mt("wptb-v2-table-sort-btn",{"wptb-sort-btn-asc":h==="modified"&&a==="asc","wptb-sort-btn-desc":h==="modified"&&a!=="asc"})})]})]})})]}),d.jsxs("div",{className:"wptb-v2-bulk-actions",children:[d.jsxs("select",{value:w,onChange:S=>k(S.target.value),children:[d.jsx("option",{value:"",children:"Bulk Actions"}),u?d.jsx("option",{value:"restore_bulk",children:"Restore"}):d.jsx("option",{value:"trash_bulk",children:"Delete"})]}),d.jsx("button",{type:"button",onClick:()=>_>0&&m({action:w}),children:"Apply"}),d.jsxs("p",{children:[d.jsx("b",{children:_})," items selected"]})]}),C&&d.jsxs(oe,{onClose:()=>m(null),title:C.title,icon:C.icon,className:C.className,children:[d.jsx("p",{dangerouslySetInnerHTML:{__html:C.text(s,_)}}),d.jsxs("div",{className:"wptb-v2-modal-actions",children:[d.jsx("button",{type:"button",onClick:y,children:"Yes"}),d.jsx("button",{type:"button",onClick:()=>m(null),children:"No"})]})]})]})},Oe=({setPage:B,page_num:K,search:u,status:j,sort_by:h,sort_order:a})=>{const o=at.useRef(),r=at.useRef(),[n,w]=at.useState(u),[k,_]=$t({page:K?parseInt(K):1,search:u,status:j,sort:{by:h||"id",order:a||"desc"},abortCtrl:o.current});at.useEffect(()=>{const m=n==null?void 0:n.trim();if(u){if(m&&m.length>0&&m.length<2)return}else if(!m||m.length<2)return;r.current&&clearTimeout(r.current),o.current&&o.current.abort(),o.current=new AbortController,r.current=setTimeout(()=>{B("tables",{search:n,status:j}),o.current=void 0,r.current=void 0},500)},[n]);const x=m=>{B("tables",{page_num:1,search:u,status:j,sort_by:m,sort_order:m===(h||"id")&&a==="asc"?"desc":"asc"})},s=j==="trash";return d.jsxs("div",{className:"wptb-v2-page",children:[d.jsx(Tt,{setPage:B,page:"tables"}),d.jsxs("div",{className:"wptb-v2-page-content",children:[d.jsxs("div",{className:"wptb-v2-page-content-top",children:[d.jsx("h3",{children:"Table List"}),d.jsxs("div",{className:"wptb-v2-search-group",children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 48 48",children:d.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"4",children:[d.jsx("path",{d:"M21 38c9.389 0 17-7.611 17-17S30.389 4 21 4S4 11.611 4 21s7.611 17 17 17Z"}),d.jsx("path",{strokeLinecap:"round",d:"M26.657 14.343A7.98 7.98 0 0 0 21 12a7.98 7.98 0 0 0-5.657 2.343m17.879 18.879l8.485 8.485"})]})}),d.jsx("input",{type:"search",placeholder:"Search...",value:n,onChange:m=>w(m.target.value)})]})]}),d.jsxs("div",{className:"wptb-v2-page-content-main",children:[d.jsxs("div",{className:"wptb-v2-table-status-btns",children:[d.jsx("button",{type:"button",className:mt({"wptb-v2-active-section":!s}),onClick:()=>{B("tables",{})},children:"ALL"}),d.jsx("button",{type:"button",className:mt({"wptb-v2-active-section":s}),onClick:()=>{B("tables",{status:"trash"})},children:"TRASH"})]}),d.jsxs("p",{className:"wptb-v2-pagination-info",children:["Showing ",d.jsx("b",{children:k.page_start})," to ",d.jsx("b",{children:k.page_end})," of"," ",d.jsx("b",{children:k.total_count})," entries"]}),d.jsx(Re,{apiData:k,setPage:B,isTrash:s,setTables:_,setSort:x,sortBy:h,sortOrder:a}),d.jsx(Ee,{apiData:k,setPage:m=>B("tables",{page_num:m,search:u,sort_by:h,sort_order:a})})]})]})]})},Ne=({setPage:B})=>{const[K,u]=at.useState(4),[j,h]=at.useState(4),a=()=>{const o=le(K,j);B("builder",{table:o})};return d.jsxs("div",{className:"wptb-v2-create-table",children:[d.jsx("h2",{children:"Create New Table"}),d.jsxs("div",{children:[d.jsx("table",{children:d.jsx("tbody",{children:Array.from({length:K},(o,r)=>d.jsx("tr",{children:Array.from({length:j},(n,w)=>d.jsx("td",{},w))},r))})}),d.jsxs("div",{children:[d.jsx(Dt,{label:"Number of rows",min:2,max:20,value:K,onChange:u,allowOutOfRange:!0}),d.jsx(Dt,{label:"Number of columns",min:2,max:20,value:j,onChange:h,allowOutOfRange:!0}),d.jsx("button",{type:"button",className:"wptb-v2-create-btn",onClick:a,children:"Create"})]})]})]})},Be=({setPage:B})=>d.jsxs("div",{className:"wptb-v2-page wptb-v2-create-page",children:[d.jsx(Tt,{setPage:B,page:"create"}),d.jsxs("div",{className:"wptb-v2-page-content",children:[d.jsxs("div",{className:"wptb-v2-page-content-top",children:[d.jsx("h3",{children:jt("Create Table")}),d.jsxs("div",{className:"wptb-v2-search-group",children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 48 48",children:d.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"4",children:[d.jsx("path",{d:"M21 38c9.389 0 17-7.611 17-17S30.389 4 21 4S4 11.611 4 21s7.611 17 17 17Z"}),d.jsx("path",{strokeLinecap:"round",d:"M26.657 14.343A7.98 7.98 0 0 0 21 12a7.98 7.98 0 0 0-5.657 2.343m17.879 18.879l8.485 8.485"})]})}),d.jsx("input",{type:"search",placeholder:"Search templates..."})]})]}),d.jsxs("div",{className:"wptb-v2-page-content-main",children:[d.jsx(Ne,{setPage:B}),d.jsx("div",{className:"wptb-v2-divider",children:"or"}),d.jsx("h2",{children:"Choose from templates"}),d.jsx("div",{className:"wptb-v2-table-templates",children:Array.from({length:5},(K,u)=>d.jsxs("div",{className:"wptb-v2-table-template",children:[d.jsx("div",{className:"wptb-v2-table-template-preview"}),d.jsx("div",{className:"wptb-v2-table-template-title",children:"A sample table"})]},u))})]})]})]});function At(B){throw new Error('Could not dynamically require "'+B+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Xt={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(B,K){(function(u){B.exports=u()})(function(){return function u(j,h,a){function o(w,k){if(!h[w]){if(!j[w]){var _=typeof At=="function"&&At;if(!k&&_)return _(w,!0);if(r)return r(w,!0);var x=new Error("Cannot find module '"+w+"'");throw x.code="MODULE_NOT_FOUND",x}var s=h[w]={exports:{}};j[w][0].call(s.exports,function(m){var i=j[w][1][m];return o(i||m)},s,s.exports,u,j,h,a)}return h[w].exports}for(var r=typeof At=="function"&&At,n=0;n<a.length;n++)o(a[n]);return o}({1:[function(u,j,h){var a=u("./utils"),o=u("./support"),r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";h.encode=function(n){for(var w,k,_,x,s,m,i,f=[],c=0,y=n.length,C=y,S=a.getTypeOf(n)!=="string";c<n.length;)C=y-c,_=S?(w=n[c++],k=c<y?n[c++]:0,c<y?n[c++]:0):(w=n.charCodeAt(c++),k=c<y?n.charCodeAt(c++):0,c<y?n.charCodeAt(c++):0),x=w>>2,s=(3&w)<<4|k>>4,m=1<C?(15&k)<<2|_>>6:64,i=2<C?63&_:64,f.push(r.charAt(x)+r.charAt(s)+r.charAt(m)+r.charAt(i));return f.join("")},h.decode=function(n){var w,k,_,x,s,m,i=0,f=0,c="data:";if(n.substr(0,c.length)===c)throw new Error("Invalid base64 input, it looks like a data url.");var y,C=3*(n=n.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(n.charAt(n.length-1)===r.charAt(64)&&C--,n.charAt(n.length-2)===r.charAt(64)&&C--,C%1!=0)throw new Error("Invalid base64 input, bad content length.");for(y=o.uint8array?new Uint8Array(0|C):new Array(0|C);i<n.length;)w=r.indexOf(n.charAt(i++))<<2|(x=r.indexOf(n.charAt(i++)))>>4,k=(15&x)<<4|(s=r.indexOf(n.charAt(i++)))>>2,_=(3&s)<<6|(m=r.indexOf(n.charAt(i++))),y[f++]=w,s!==64&&(y[f++]=k),m!==64&&(y[f++]=_);return y}},{"./support":30,"./utils":32}],2:[function(u,j,h){var a=u("./external"),o=u("./stream/DataWorker"),r=u("./stream/Crc32Probe"),n=u("./stream/DataLengthProbe");function w(k,_,x,s,m){this.compressedSize=k,this.uncompressedSize=_,this.crc32=x,this.compression=s,this.compressedContent=m}w.prototype={getContentWorker:function(){var k=new o(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new n("data_length")),_=this;return k.on("end",function(){if(this.streamInfo.data_length!==_.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),k},getCompressedWorker:function(){return new o(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},w.createWorkerFrom=function(k,_,x){return k.pipe(new r).pipe(new n("uncompressedSize")).pipe(_.compressWorker(x)).pipe(new n("compressedSize")).withStreamInfo("compression",_)},j.exports=w},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(u,j,h){var a=u("./stream/GenericWorker");h.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},h.DEFLATE=u("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(u,j,h){var a=u("./utils"),o=function(){for(var r,n=[],w=0;w<256;w++){r=w;for(var k=0;k<8;k++)r=1&r?3988292384^r>>>1:r>>>1;n[w]=r}return n}();j.exports=function(r,n){return r!==void 0&&r.length?a.getTypeOf(r)!=="string"?function(w,k,_,x){var s=o,m=x+_;w^=-1;for(var i=x;i<m;i++)w=w>>>8^s[255&(w^k[i])];return-1^w}(0|n,r,r.length,0):function(w,k,_,x){var s=o,m=x+_;w^=-1;for(var i=x;i<m;i++)w=w>>>8^s[255&(w^k.charCodeAt(i))];return-1^w}(0|n,r,r.length,0):0}},{"./utils":32}],5:[function(u,j,h){h.base64=!1,h.binary=!1,h.dir=!1,h.createFolders=!0,h.date=null,h.compression=null,h.compressionOptions=null,h.comment=null,h.unixPermissions=null,h.dosPermissions=null},{}],6:[function(u,j,h){var a=null;a=typeof Promise<"u"?Promise:u("lie"),j.exports={Promise:a}},{lie:37}],7:[function(u,j,h){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=u("pako"),r=u("./utils"),n=u("./stream/GenericWorker"),w=a?"uint8array":"array";function k(_,x){n.call(this,"FlateWorker/"+_),this._pako=null,this._pakoAction=_,this._pakoOptions=x,this.meta={}}h.magic="\b\0",r.inherits(k,n),k.prototype.processChunk=function(_){this.meta=_.meta,this._pako===null&&this._createPako(),this._pako.push(r.transformTo(w,_.data),!1)},k.prototype.flush=function(){n.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},k.prototype.cleanUp=function(){n.prototype.cleanUp.call(this),this._pako=null},k.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var _=this;this._pako.onData=function(x){_.push({data:x,meta:_.meta})}},h.compressWorker=function(_){return new k("Deflate",_)},h.uncompressWorker=function(){return new k("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(u,j,h){function a(s,m){var i,f="";for(i=0;i<m;i++)f+=String.fromCharCode(255&s),s>>>=8;return f}function o(s,m,i,f,c,y){var C,S,A=s.file,U=s.compression,N=y!==w.utf8encode,v=r.transformTo("string",y(A.name)),l=r.transformTo("string",w.utf8encode(A.name)),z=A.comment,W=r.transformTo("string",y(z)),g=r.transformTo("string",w.utf8encode(z)),R=l.length!==A.name.length,e=g.length!==z.length,M="",Q="",D="",tt=A.dir,P=A.date,rt={crc32:0,compressedSize:0,uncompressedSize:0};m&&!i||(rt.crc32=s.crc32,rt.compressedSize=s.compressedSize,rt.uncompressedSize=s.uncompressedSize);var F=0;m&&(F|=8),N||!R&&!e||(F|=2048);var E=0,X=0;tt&&(E|=16),c==="UNIX"?(X=798,E|=function(V,lt){var ut=V;return V||(ut=lt?16893:33204),(65535&ut)<<16}(A.unixPermissions,tt)):(X=20,E|=function(V){return 63&(V||0)}(A.dosPermissions)),C=P.getUTCHours(),C<<=6,C|=P.getUTCMinutes(),C<<=5,C|=P.getUTCSeconds()/2,S=P.getUTCFullYear()-1980,S<<=4,S|=P.getUTCMonth()+1,S<<=5,S|=P.getUTCDate(),R&&(Q=a(1,1)+a(k(v),4)+l,M+="up"+a(Q.length,2)+Q),e&&(D=a(1,1)+a(k(W),4)+g,M+="uc"+a(D.length,2)+D);var $="";return $+=`
\0`,$+=a(F,2),$+=U.magic,$+=a(C,2),$+=a(S,2),$+=a(rt.crc32,4),$+=a(rt.compressedSize,4),$+=a(rt.uncompressedSize,4),$+=a(v.length,2),$+=a(M.length,2),{fileRecord:_.LOCAL_FILE_HEADER+$+v+M,dirRecord:_.CENTRAL_FILE_HEADER+a(X,2)+$+a(W.length,2)+"\0\0\0\0"+a(E,4)+a(f,4)+v+M+W}}var r=u("../utils"),n=u("../stream/GenericWorker"),w=u("../utf8"),k=u("../crc32"),_=u("../signature");function x(s,m,i,f){n.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=m,this.zipPlatform=i,this.encodeFileName=f,this.streamFiles=s,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}r.inherits(x,n),x.prototype.push=function(s){var m=s.meta.percent||0,i=this.entriesCount,f=this._sources.length;this.accumulate?this.contentBuffer.push(s):(this.bytesWritten+=s.data.length,n.prototype.push.call(this,{data:s.data,meta:{currentFile:this.currentFile,percent:i?(m+100*(i-f-1))/i:100}}))},x.prototype.openedSource=function(s){this.currentSourceOffset=this.bytesWritten,this.currentFile=s.file.name;var m=this.streamFiles&&!s.file.dir;if(m){var i=o(s,m,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:i.fileRecord,meta:{percent:0}})}else this.accumulate=!0},x.prototype.closedSource=function(s){this.accumulate=!1;var m=this.streamFiles&&!s.file.dir,i=o(s,m,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(i.dirRecord),m)this.push({data:function(f){return _.DATA_DESCRIPTOR+a(f.crc32,4)+a(f.compressedSize,4)+a(f.uncompressedSize,4)}(s),meta:{percent:100}});else for(this.push({data:i.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},x.prototype.flush=function(){for(var s=this.bytesWritten,m=0;m<this.dirRecords.length;m++)this.push({data:this.dirRecords[m],meta:{percent:100}});var i=this.bytesWritten-s,f=function(c,y,C,S,A){var U=r.transformTo("string",A(S));return _.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(c,2)+a(c,2)+a(y,4)+a(C,4)+a(U.length,2)+U}(this.dirRecords.length,i,s,this.zipComment,this.encodeFileName);this.push({data:f,meta:{percent:100}})},x.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},x.prototype.registerPrevious=function(s){this._sources.push(s);var m=this;return s.on("data",function(i){m.processChunk(i)}),s.on("end",function(){m.closedSource(m.previous.streamInfo),m._sources.length?m.prepareNextSource():m.end()}),s.on("error",function(i){m.error(i)}),this},x.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},x.prototype.error=function(s){var m=this._sources;if(!n.prototype.error.call(this,s))return!1;for(var i=0;i<m.length;i++)try{m[i].error(s)}catch{}return!0},x.prototype.lock=function(){n.prototype.lock.call(this);for(var s=this._sources,m=0;m<s.length;m++)s[m].lock()},j.exports=x},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(u,j,h){var a=u("../compressions"),o=u("./ZipFileWorker");h.generateWorker=function(r,n,w){var k=new o(n.streamFiles,w,n.platform,n.encodeFileName),_=0;try{r.forEach(function(x,s){_++;var m=function(y,C){var S=y||C,A=a[S];if(!A)throw new Error(S+" is not a valid compression method !");return A}(s.options.compression,n.compression),i=s.options.compressionOptions||n.compressionOptions||{},f=s.dir,c=s.date;s._compressWorker(m,i).withStreamInfo("file",{name:x,dir:f,date:c,comment:s.comment||"",unixPermissions:s.unixPermissions,dosPermissions:s.dosPermissions}).pipe(k)}),k.entriesCount=_}catch(x){k.error(x)}return k}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(u,j,h){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new a;for(var r in this)typeof this[r]!="function"&&(o[r]=this[r]);return o}}(a.prototype=u("./object")).loadAsync=u("./load"),a.support=u("./support"),a.defaults=u("./defaults"),a.version="3.10.1",a.loadAsync=function(o,r){return new a().loadAsync(o,r)},a.external=u("./external"),j.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(u,j,h){var a=u("./utils"),o=u("./external"),r=u("./utf8"),n=u("./zipEntries"),w=u("./stream/Crc32Probe"),k=u("./nodejsUtils");function _(x){return new o.Promise(function(s,m){var i=x.decompressed.getContentWorker().pipe(new w);i.on("error",function(f){m(f)}).on("end",function(){i.streamInfo.crc32!==x.decompressed.crc32?m(new Error("Corrupted zip : CRC32 mismatch")):s()}).resume()})}j.exports=function(x,s){var m=this;return s=a.extend(s||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:r.utf8decode}),k.isNode&&k.isStream(x)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",x,!0,s.optimizedBinaryString,s.base64).then(function(i){var f=new n(s);return f.load(i),f}).then(function(i){var f=[o.Promise.resolve(i)],c=i.files;if(s.checkCRC32)for(var y=0;y<c.length;y++)f.push(_(c[y]));return o.Promise.all(f)}).then(function(i){for(var f=i.shift(),c=f.files,y=0;y<c.length;y++){var C=c[y],S=C.fileNameStr,A=a.resolve(C.fileNameStr);m.file(A,C.decompressed,{binary:!0,optimizedBinaryString:!0,date:C.date,dir:C.dir,comment:C.fileCommentStr.length?C.fileCommentStr:null,unixPermissions:C.unixPermissions,dosPermissions:C.dosPermissions,createFolders:s.createFolders}),C.dir||(m.file(A).unsafeOriginalName=S)}return f.zipComment.length&&(m.comment=f.zipComment),m})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(u,j,h){var a=u("../utils"),o=u("../stream/GenericWorker");function r(n,w){o.call(this,"Nodejs stream input adapter for "+n),this._upstreamEnded=!1,this._bindStream(w)}a.inherits(r,o),r.prototype._bindStream=function(n){var w=this;(this._stream=n).pause(),n.on("data",function(k){w.push({data:k,meta:{percent:0}})}).on("error",function(k){w.isPaused?this.generatedError=k:w.error(k)}).on("end",function(){w.isPaused?w._upstreamEnded=!0:w.end()})},r.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},r.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},j.exports=r},{"../stream/GenericWorker":28,"../utils":32}],13:[function(u,j,h){var a=u("readable-stream").Readable;function o(r,n,w){a.call(this,n),this._helper=r;var k=this;r.on("data",function(_,x){k.push(_)||k._helper.pause(),w&&w(x)}).on("error",function(_){k.emit("error",_)}).on("end",function(){k.push(null)})}u("../utils").inherits(o,a),o.prototype._read=function(){this._helper.resume()},j.exports=o},{"../utils":32,"readable-stream":16}],14:[function(u,j,h){j.exports={isNode:typeof Buffer<"u",newBufferFrom:function(a,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,o);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,o)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var o=new Buffer(a);return o.fill(0),o},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(u,j,h){function a(A,U,N){var v,l=r.getTypeOf(U),z=r.extend(N||{},k);z.date=z.date||new Date,z.compression!==null&&(z.compression=z.compression.toUpperCase()),typeof z.unixPermissions=="string"&&(z.unixPermissions=parseInt(z.unixPermissions,8)),z.unixPermissions&&16384&z.unixPermissions&&(z.dir=!0),z.dosPermissions&&16&z.dosPermissions&&(z.dir=!0),z.dir&&(A=c(A)),z.createFolders&&(v=f(A))&&y.call(this,v,!0);var W=l==="string"&&z.binary===!1&&z.base64===!1;N&&N.binary!==void 0||(z.binary=!W),(U instanceof _&&U.uncompressedSize===0||z.dir||!U||U.length===0)&&(z.base64=!1,z.binary=!0,U="",z.compression="STORE",l="string");var g=null;g=U instanceof _||U instanceof n?U:m.isNode&&m.isStream(U)?new i(A,U):r.prepareContent(A,U,z.binary,z.optimizedBinaryString,z.base64);var R=new x(A,g,z);this.files[A]=R}var o=u("./utf8"),r=u("./utils"),n=u("./stream/GenericWorker"),w=u("./stream/StreamHelper"),k=u("./defaults"),_=u("./compressedObject"),x=u("./zipObject"),s=u("./generate"),m=u("./nodejsUtils"),i=u("./nodejs/NodejsStreamInputAdapter"),f=function(A){A.slice(-1)==="/"&&(A=A.substring(0,A.length-1));var U=A.lastIndexOf("/");return 0<U?A.substring(0,U):""},c=function(A){return A.slice(-1)!=="/"&&(A+="/"),A},y=function(A,U){return U=U!==void 0?U:k.createFolders,A=c(A),this.files[A]||a.call(this,A,null,{dir:!0,createFolders:U}),this.files[A]};function C(A){return Object.prototype.toString.call(A)==="[object RegExp]"}var S={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(A){var U,N,v;for(U in this.files)v=this.files[U],(N=U.slice(this.root.length,U.length))&&U.slice(0,this.root.length)===this.root&&A(N,v)},filter:function(A){var U=[];return this.forEach(function(N,v){A(N,v)&&U.push(v)}),U},file:function(A,U,N){if(arguments.length!==1)return A=this.root+A,a.call(this,A,U,N),this;if(C(A)){var v=A;return this.filter(function(z,W){return!W.dir&&v.test(z)})}var l=this.files[this.root+A];return l&&!l.dir?l:null},folder:function(A){if(!A)return this;if(C(A))return this.filter(function(l,z){return z.dir&&A.test(l)});var U=this.root+A,N=y.call(this,U),v=this.clone();return v.root=N.name,v},remove:function(A){A=this.root+A;var U=this.files[A];if(U||(A.slice(-1)!=="/"&&(A+="/"),U=this.files[A]),U&&!U.dir)delete this.files[A];else for(var N=this.filter(function(l,z){return z.name.slice(0,A.length)===A}),v=0;v<N.length;v++)delete this.files[N[v].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(A){var U,N={};try{if((N=r.extend(A||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=N.type.toLowerCase(),N.compression=N.compression.toUpperCase(),N.type==="binarystring"&&(N.type="string"),!N.type)throw new Error("No output type specified.");r.checkSupport(N.type),N.platform!=="darwin"&&N.platform!=="freebsd"&&N.platform!=="linux"&&N.platform!=="sunos"||(N.platform="UNIX"),N.platform==="win32"&&(N.platform="DOS");var v=N.comment||this.comment||"";U=s.generateWorker(this,N,v)}catch(l){(U=new n("error")).error(l)}return new w(U,N.type||"string",N.mimeType)},generateAsync:function(A,U){return this.generateInternalStream(A).accumulate(U)},generateNodeStream:function(A,U){return(A=A||{}).type||(A.type="nodebuffer"),this.generateInternalStream(A).toNodejsStream(U)}};j.exports=S},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(u,j,h){j.exports=u("stream")},{stream:void 0}],17:[function(u,j,h){var a=u("./DataReader");function o(r){a.call(this,r);for(var n=0;n<this.data.length;n++)r[n]=255&r[n]}u("../utils").inherits(o,a),o.prototype.byteAt=function(r){return this.data[this.zero+r]},o.prototype.lastIndexOfSignature=function(r){for(var n=r.charCodeAt(0),w=r.charCodeAt(1),k=r.charCodeAt(2),_=r.charCodeAt(3),x=this.length-4;0<=x;--x)if(this.data[x]===n&&this.data[x+1]===w&&this.data[x+2]===k&&this.data[x+3]===_)return x-this.zero;return-1},o.prototype.readAndCheckSignature=function(r){var n=r.charCodeAt(0),w=r.charCodeAt(1),k=r.charCodeAt(2),_=r.charCodeAt(3),x=this.readData(4);return n===x[0]&&w===x[1]&&k===x[2]&&_===x[3]},o.prototype.readData=function(r){if(this.checkOffset(r),r===0)return[];var n=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,n},j.exports=o},{"../utils":32,"./DataReader":18}],18:[function(u,j,h){var a=u("../utils");function o(r){this.data=r,this.length=r.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(r){this.checkIndex(this.index+r)},checkIndex:function(r){if(this.length<this.zero+r||r<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+r+"). Corrupted zip ?")},setIndex:function(r){this.checkIndex(r),this.index=r},skip:function(r){this.setIndex(this.index+r)},byteAt:function(){},readInt:function(r){var n,w=0;for(this.checkOffset(r),n=this.index+r-1;n>=this.index;n--)w=(w<<8)+this.byteAt(n);return this.index+=r,w},readString:function(r){return a.transformTo("string",this.readData(r))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var r=this.readInt(4);return new Date(Date.UTC(1980+(r>>25&127),(r>>21&15)-1,r>>16&31,r>>11&31,r>>5&63,(31&r)<<1))}},j.exports=o},{"../utils":32}],19:[function(u,j,h){var a=u("./Uint8ArrayReader");function o(r){a.call(this,r)}u("../utils").inherits(o,a),o.prototype.readData=function(r){this.checkOffset(r);var n=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,n},j.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(u,j,h){var a=u("./DataReader");function o(r){a.call(this,r)}u("../utils").inherits(o,a),o.prototype.byteAt=function(r){return this.data.charCodeAt(this.zero+r)},o.prototype.lastIndexOfSignature=function(r){return this.data.lastIndexOf(r)-this.zero},o.prototype.readAndCheckSignature=function(r){return r===this.readData(4)},o.prototype.readData=function(r){this.checkOffset(r);var n=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,n},j.exports=o},{"../utils":32,"./DataReader":18}],21:[function(u,j,h){var a=u("./ArrayReader");function o(r){a.call(this,r)}u("../utils").inherits(o,a),o.prototype.readData=function(r){if(this.checkOffset(r),r===0)return new Uint8Array(0);var n=this.data.subarray(this.zero+this.index,this.zero+this.index+r);return this.index+=r,n},j.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(u,j,h){var a=u("../utils"),o=u("../support"),r=u("./ArrayReader"),n=u("./StringReader"),w=u("./NodeBufferReader"),k=u("./Uint8ArrayReader");j.exports=function(_){var x=a.getTypeOf(_);return a.checkSupport(x),x!=="string"||o.uint8array?x==="nodebuffer"?new w(_):o.uint8array?new k(a.transformTo("uint8array",_)):new r(a.transformTo("array",_)):new n(_)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(u,j,h){h.LOCAL_FILE_HEADER="PK",h.CENTRAL_FILE_HEADER="PK",h.CENTRAL_DIRECTORY_END="PK",h.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",h.ZIP64_CENTRAL_DIRECTORY_END="PK",h.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(u,j,h){var a=u("./GenericWorker"),o=u("../utils");function r(n){a.call(this,"ConvertWorker to "+n),this.destType=n}o.inherits(r,a),r.prototype.processChunk=function(n){this.push({data:o.transformTo(this.destType,n.data),meta:n.meta})},j.exports=r},{"../utils":32,"./GenericWorker":28}],25:[function(u,j,h){var a=u("./GenericWorker"),o=u("../crc32");function r(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}u("../utils").inherits(r,a),r.prototype.processChunk=function(n){this.streamInfo.crc32=o(n.data,this.streamInfo.crc32||0),this.push(n)},j.exports=r},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(u,j,h){var a=u("../utils"),o=u("./GenericWorker");function r(n){o.call(this,"DataLengthProbe for "+n),this.propName=n,this.withStreamInfo(n,0)}a.inherits(r,o),r.prototype.processChunk=function(n){if(n){var w=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=w+n.data.length}o.prototype.processChunk.call(this,n)},j.exports=r},{"../utils":32,"./GenericWorker":28}],27:[function(u,j,h){var a=u("../utils"),o=u("./GenericWorker");function r(n){o.call(this,"DataWorker");var w=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,n.then(function(k){w.dataIsReady=!0,w.data=k,w.max=k&&k.length||0,w.type=a.getTypeOf(k),w.isPaused||w._tickAndRepeat()},function(k){w.error(k)})}a.inherits(r,o),r.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},r.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},r.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},r.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var n=null,w=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":n=this.data.substring(this.index,w);break;case"uint8array":n=this.data.subarray(this.index,w);break;case"array":case"nodebuffer":n=this.data.slice(this.index,w)}return this.index=w,this.push({data:n,meta:{percent:this.max?this.index/this.max*100:0}})},j.exports=r},{"../utils":32,"./GenericWorker":28}],28:[function(u,j,h){function a(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,r){return this._listeners[o].push(r),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,r){if(this._listeners[o])for(var n=0;n<this._listeners[o].length;n++)this._listeners[o][n].call(this,r)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var r=this;return o.on("data",function(n){r.processChunk(n)}),o.on("end",function(){r.end()}),o.on("error",function(n){r.error(n)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,r){return this.extraStreamInfo[o]=r,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},j.exports=a},{}],29:[function(u,j,h){var a=u("../utils"),o=u("./ConvertWorker"),r=u("./GenericWorker"),n=u("../base64"),w=u("../support"),k=u("../external"),_=null;if(w.nodestream)try{_=u("../nodejs/NodejsStreamOutputAdapter")}catch{}function x(m,i){return new k.Promise(function(f,c){var y=[],C=m._internalType,S=m._outputType,A=m._mimeType;m.on("data",function(U,N){y.push(U),i&&i(N)}).on("error",function(U){y=[],c(U)}).on("end",function(){try{var U=function(N,v,l){switch(N){case"blob":return a.newBlob(a.transformTo("arraybuffer",v),l);case"base64":return n.encode(v);default:return a.transformTo(N,v)}}(S,function(N,v){var l,z=0,W=null,g=0;for(l=0;l<v.length;l++)g+=v[l].length;switch(N){case"string":return v.join("");case"array":return Array.prototype.concat.apply([],v);case"uint8array":for(W=new Uint8Array(g),l=0;l<v.length;l++)W.set(v[l],z),z+=v[l].length;return W;case"nodebuffer":return Buffer.concat(v);default:throw new Error("concat : unsupported type '"+N+"'")}}(C,y),A);f(U)}catch(N){c(N)}y=[]}).resume()})}function s(m,i,f){var c=i;switch(i){case"blob":case"arraybuffer":c="uint8array";break;case"base64":c="string"}try{this._internalType=c,this._outputType=i,this._mimeType=f,a.checkSupport(c),this._worker=m.pipe(new o(c)),m.lock()}catch(y){this._worker=new r("error"),this._worker.error(y)}}s.prototype={accumulate:function(m){return x(this,m)},on:function(m,i){var f=this;return m==="data"?this._worker.on(m,function(c){i.call(f,c.data,c.meta)}):this._worker.on(m,function(){a.delay(i,arguments,f)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(m){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new _(this,{objectMode:this._outputType!=="nodebuffer"},m)}},j.exports=s},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(u,j,h){if(h.base64=!0,h.array=!0,h.string=!0,h.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",h.nodebuffer=typeof Buffer<"u",h.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")h.blob=!1;else{var a=new ArrayBuffer(0);try{h.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(a),h.blob=o.getBlob("application/zip").size===0}catch{h.blob=!1}}}try{h.nodestream=!!u("readable-stream").Readable}catch{h.nodestream=!1}},{"readable-stream":16}],31:[function(u,j,h){for(var a=u("./utils"),o=u("./support"),r=u("./nodejsUtils"),n=u("./stream/GenericWorker"),w=new Array(256),k=0;k<256;k++)w[k]=252<=k?6:248<=k?5:240<=k?4:224<=k?3:192<=k?2:1;w[254]=w[254]=1;function _(){n.call(this,"utf-8 decode"),this.leftOver=null}function x(){n.call(this,"utf-8 encode")}h.utf8encode=function(s){return o.nodebuffer?r.newBufferFrom(s,"utf-8"):function(m){var i,f,c,y,C,S=m.length,A=0;for(y=0;y<S;y++)(64512&(f=m.charCodeAt(y)))==55296&&y+1<S&&(64512&(c=m.charCodeAt(y+1)))==56320&&(f=65536+(f-55296<<10)+(c-56320),y++),A+=f<128?1:f<2048?2:f<65536?3:4;for(i=o.uint8array?new Uint8Array(A):new Array(A),y=C=0;C<A;y++)(64512&(f=m.charCodeAt(y)))==55296&&y+1<S&&(64512&(c=m.charCodeAt(y+1)))==56320&&(f=65536+(f-55296<<10)+(c-56320),y++),f<128?i[C++]=f:(f<2048?i[C++]=192|f>>>6:(f<65536?i[C++]=224|f>>>12:(i[C++]=240|f>>>18,i[C++]=128|f>>>12&63),i[C++]=128|f>>>6&63),i[C++]=128|63&f);return i}(s)},h.utf8decode=function(s){return o.nodebuffer?a.transformTo("nodebuffer",s).toString("utf-8"):function(m){var i,f,c,y,C=m.length,S=new Array(2*C);for(i=f=0;i<C;)if((c=m[i++])<128)S[f++]=c;else if(4<(y=w[c]))S[f++]=65533,i+=y-1;else{for(c&=y===2?31:y===3?15:7;1<y&&i<C;)c=c<<6|63&m[i++],y--;1<y?S[f++]=65533:c<65536?S[f++]=c:(c-=65536,S[f++]=55296|c>>10&1023,S[f++]=56320|1023&c)}return S.length!==f&&(S.subarray?S=S.subarray(0,f):S.length=f),a.applyFromCharCode(S)}(s=a.transformTo(o.uint8array?"uint8array":"array",s))},a.inherits(_,n),_.prototype.processChunk=function(s){var m=a.transformTo(o.uint8array?"uint8array":"array",s.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var i=m;(m=new Uint8Array(i.length+this.leftOver.length)).set(this.leftOver,0),m.set(i,this.leftOver.length)}else m=this.leftOver.concat(m);this.leftOver=null}var f=function(y,C){var S;for((C=C||y.length)>y.length&&(C=y.length),S=C-1;0<=S&&(192&y[S])==128;)S--;return S<0||S===0?C:S+w[y[S]]>C?S:C}(m),c=m;f!==m.length&&(o.uint8array?(c=m.subarray(0,f),this.leftOver=m.subarray(f,m.length)):(c=m.slice(0,f),this.leftOver=m.slice(f,m.length))),this.push({data:h.utf8decode(c),meta:s.meta})},_.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:h.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},h.Utf8DecodeWorker=_,a.inherits(x,n),x.prototype.processChunk=function(s){this.push({data:h.utf8encode(s.data),meta:s.meta})},h.Utf8EncodeWorker=x},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(u,j,h){var a=u("./support"),o=u("./base64"),r=u("./nodejsUtils"),n=u("./external");function w(i){return i}function k(i,f){for(var c=0;c<i.length;++c)f[c]=255&i.charCodeAt(c);return f}u("setimmediate"),h.newBlob=function(i,f){h.checkSupport("blob");try{return new Blob([i],{type:f})}catch{try{var c=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return c.append(i),c.getBlob(f)}catch{throw new Error("Bug : can't construct the Blob.")}}};var _={stringifyByChunk:function(i,f,c){var y=[],C=0,S=i.length;if(S<=c)return String.fromCharCode.apply(null,i);for(;C<S;)f==="array"||f==="nodebuffer"?y.push(String.fromCharCode.apply(null,i.slice(C,Math.min(C+c,S)))):y.push(String.fromCharCode.apply(null,i.subarray(C,Math.min(C+c,S)))),C+=c;return y.join("")},stringifyByChar:function(i){for(var f="",c=0;c<i.length;c++)f+=String.fromCharCode(i[c]);return f},applyCanBeUsed:{uint8array:function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,r.allocBuffer(1)).length===1}catch{return!1}}()}};function x(i){var f=65536,c=h.getTypeOf(i),y=!0;if(c==="uint8array"?y=_.applyCanBeUsed.uint8array:c==="nodebuffer"&&(y=_.applyCanBeUsed.nodebuffer),y)for(;1<f;)try{return _.stringifyByChunk(i,c,f)}catch{f=Math.floor(f/2)}return _.stringifyByChar(i)}function s(i,f){for(var c=0;c<i.length;c++)f[c]=i[c];return f}h.applyFromCharCode=x;var m={};m.string={string:w,array:function(i){return k(i,new Array(i.length))},arraybuffer:function(i){return m.string.uint8array(i).buffer},uint8array:function(i){return k(i,new Uint8Array(i.length))},nodebuffer:function(i){return k(i,r.allocBuffer(i.length))}},m.array={string:x,array:w,arraybuffer:function(i){return new Uint8Array(i).buffer},uint8array:function(i){return new Uint8Array(i)},nodebuffer:function(i){return r.newBufferFrom(i)}},m.arraybuffer={string:function(i){return x(new Uint8Array(i))},array:function(i){return s(new Uint8Array(i),new Array(i.byteLength))},arraybuffer:w,uint8array:function(i){return new Uint8Array(i)},nodebuffer:function(i){return r.newBufferFrom(new Uint8Array(i))}},m.uint8array={string:x,array:function(i){return s(i,new Array(i.length))},arraybuffer:function(i){return i.buffer},uint8array:w,nodebuffer:function(i){return r.newBufferFrom(i)}},m.nodebuffer={string:x,array:function(i){return s(i,new Array(i.length))},arraybuffer:function(i){return m.nodebuffer.uint8array(i).buffer},uint8array:function(i){return s(i,new Uint8Array(i.length))},nodebuffer:w},h.transformTo=function(i,f){if(f=f||"",!i)return f;h.checkSupport(i);var c=h.getTypeOf(f);return m[c][i](f)},h.resolve=function(i){for(var f=i.split("/"),c=[],y=0;y<f.length;y++){var C=f[y];C==="."||C===""&&y!==0&&y!==f.length-1||(C===".."?c.pop():c.push(C))}return c.join("/")},h.getTypeOf=function(i){return typeof i=="string"?"string":Object.prototype.toString.call(i)==="[object Array]"?"array":a.nodebuffer&&r.isBuffer(i)?"nodebuffer":a.uint8array&&i instanceof Uint8Array?"uint8array":a.arraybuffer&&i instanceof ArrayBuffer?"arraybuffer":void 0},h.checkSupport=function(i){if(!a[i.toLowerCase()])throw new Error(i+" is not supported by this platform")},h.MAX_VALUE_16BITS=65535,h.MAX_VALUE_32BITS=-1,h.pretty=function(i){var f,c,y="";for(c=0;c<(i||"").length;c++)y+="\\x"+((f=i.charCodeAt(c))<16?"0":"")+f.toString(16).toUpperCase();return y},h.delay=function(i,f,c){setImmediate(function(){i.apply(c||null,f||[])})},h.inherits=function(i,f){function c(){}c.prototype=f.prototype,i.prototype=new c},h.extend=function(){var i,f,c={};for(i=0;i<arguments.length;i++)for(f in arguments[i])Object.prototype.hasOwnProperty.call(arguments[i],f)&&c[f]===void 0&&(c[f]=arguments[i][f]);return c},h.prepareContent=function(i,f,c,y,C){return n.Promise.resolve(f).then(function(S){return a.blob&&(S instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(S))!==-1)&&typeof FileReader<"u"?new n.Promise(function(A,U){var N=new FileReader;N.onload=function(v){A(v.target.result)},N.onerror=function(v){U(v.target.error)},N.readAsArrayBuffer(S)}):S}).then(function(S){var A=h.getTypeOf(S);return A?(A==="arraybuffer"?S=h.transformTo("uint8array",S):A==="string"&&(C?S=o.decode(S):c&&y!==!0&&(S=function(U){return k(U,a.uint8array?new Uint8Array(U.length):new Array(U.length))}(S))),S):n.Promise.reject(new Error("Can't read the data of '"+i+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(u,j,h){var a=u("./reader/readerFor"),o=u("./utils"),r=u("./signature"),n=u("./zipEntry"),w=u("./support");function k(_){this.files=[],this.loadOptions=_}k.prototype={checkSignature:function(_){if(!this.reader.readAndCheckSignature(_)){this.reader.index-=4;var x=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(x)+", expected "+o.pretty(_)+")")}},isSignature:function(_,x){var s=this.reader.index;this.reader.setIndex(_);var m=this.reader.readString(4)===x;return this.reader.setIndex(s),m},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var _=this.reader.readData(this.zipCommentLength),x=w.uint8array?"uint8array":"array",s=o.transformTo(x,_);this.zipComment=this.loadOptions.decodeFileName(s)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var _,x,s,m=this.zip64EndOfCentralSize-44;0<m;)_=this.reader.readInt(2),x=this.reader.readInt(4),s=this.reader.readData(x),this.zip64ExtensibleData[_]={id:_,length:x,value:s}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var _,x;for(_=0;_<this.files.length;_++)x=this.files[_],this.reader.setIndex(x.localHeaderOffset),this.checkSignature(r.LOCAL_FILE_HEADER),x.readLocalPart(this.reader),x.handleUTF8(),x.processAttributes()},readCentralDir:function(){var _;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(r.CENTRAL_FILE_HEADER);)(_=new n({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(_);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var _=this.reader.lastIndexOfSignature(r.CENTRAL_DIRECTORY_END);if(_<0)throw this.isSignature(0,r.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(_);var x=_;if(this.checkSignature(r.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(_=this.reader.lastIndexOfSignature(r.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(_),this.checkSignature(r.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,r.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(r.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(r.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var s=this.centralDirOffset+this.centralDirSize;this.zip64&&(s+=20,s+=12+this.zip64EndOfCentralSize);var m=x-s;if(0<m)this.isSignature(x,r.CENTRAL_FILE_HEADER)||(this.reader.zero=m);else if(m<0)throw new Error("Corrupted zip: missing "+Math.abs(m)+" bytes.")},prepareReader:function(_){this.reader=a(_)},load:function(_){this.prepareReader(_),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},j.exports=k},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(u,j,h){var a=u("./reader/readerFor"),o=u("./utils"),r=u("./compressedObject"),n=u("./crc32"),w=u("./utf8"),k=u("./compressions"),_=u("./support");function x(s,m){this.options=s,this.loadOptions=m}x.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(s){var m,i;if(s.skip(22),this.fileNameLength=s.readInt(2),i=s.readInt(2),this.fileName=s.readData(this.fileNameLength),s.skip(i),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((m=function(f){for(var c in k)if(Object.prototype.hasOwnProperty.call(k,c)&&k[c].magic===f)return k[c];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new r(this.compressedSize,this.uncompressedSize,this.crc32,m,s.readData(this.compressedSize))},readCentralPart:function(s){this.versionMadeBy=s.readInt(2),s.skip(2),this.bitFlag=s.readInt(2),this.compressionMethod=s.readString(2),this.date=s.readDate(),this.crc32=s.readInt(4),this.compressedSize=s.readInt(4),this.uncompressedSize=s.readInt(4);var m=s.readInt(2);if(this.extraFieldsLength=s.readInt(2),this.fileCommentLength=s.readInt(2),this.diskNumberStart=s.readInt(2),this.internalFileAttributes=s.readInt(2),this.externalFileAttributes=s.readInt(4),this.localHeaderOffset=s.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");s.skip(m),this.readExtraFields(s),this.parseZIP64ExtraField(s),this.fileComment=s.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var s=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),s==0&&(this.dosPermissions=63&this.externalFileAttributes),s==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var s=a(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=s.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=s.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=s.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=s.readInt(4))}},readExtraFields:function(s){var m,i,f,c=s.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});s.index+4<c;)m=s.readInt(2),i=s.readInt(2),f=s.readData(i),this.extraFields[m]={id:m,length:i,value:f};s.setIndex(c)},handleUTF8:function(){var s=_.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=w.utf8decode(this.fileName),this.fileCommentStr=w.utf8decode(this.fileComment);else{var m=this.findExtraFieldUnicodePath();if(m!==null)this.fileNameStr=m;else{var i=o.transformTo(s,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(i)}var f=this.findExtraFieldUnicodeComment();if(f!==null)this.fileCommentStr=f;else{var c=o.transformTo(s,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(c)}}},findExtraFieldUnicodePath:function(){var s=this.extraFields[28789];if(s){var m=a(s.value);return m.readInt(1)!==1||n(this.fileName)!==m.readInt(4)?null:w.utf8decode(m.readData(s.length-5))}return null},findExtraFieldUnicodeComment:function(){var s=this.extraFields[25461];if(s){var m=a(s.value);return m.readInt(1)!==1||n(this.fileComment)!==m.readInt(4)?null:w.utf8decode(m.readData(s.length-5))}return null}},j.exports=x},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(u,j,h){function a(m,i,f){this.name=m,this.dir=f.dir,this.date=f.date,this.comment=f.comment,this.unixPermissions=f.unixPermissions,this.dosPermissions=f.dosPermissions,this._data=i,this._dataBinary=f.binary,this.options={compression:f.compression,compressionOptions:f.compressionOptions}}var o=u("./stream/StreamHelper"),r=u("./stream/DataWorker"),n=u("./utf8"),w=u("./compressedObject"),k=u("./stream/GenericWorker");a.prototype={internalStream:function(m){var i=null,f="string";try{if(!m)throw new Error("No output type specified.");var c=(f=m.toLowerCase())==="string"||f==="text";f!=="binarystring"&&f!=="text"||(f="string"),i=this._decompressWorker();var y=!this._dataBinary;y&&!c&&(i=i.pipe(new n.Utf8EncodeWorker)),!y&&c&&(i=i.pipe(new n.Utf8DecodeWorker))}catch(C){(i=new k("error")).error(C)}return new o(i,f,"")},async:function(m,i){return this.internalStream(m).accumulate(i)},nodeStream:function(m,i){return this.internalStream(m||"nodebuffer").toNodejsStream(i)},_compressWorker:function(m,i){if(this._data instanceof w&&this._data.compression.magic===m.magic)return this._data.getCompressedWorker();var f=this._decompressWorker();return this._dataBinary||(f=f.pipe(new n.Utf8EncodeWorker)),w.createWorkerFrom(f,m,i)},_decompressWorker:function(){return this._data instanceof w?this._data.getContentWorker():this._data instanceof k?this._data:new r(this._data)}};for(var _=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],x=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},s=0;s<_.length;s++)a.prototype[_[s]]=x;j.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(u,j,h){(function(a){var o,r,n=a.MutationObserver||a.WebKitMutationObserver;if(n){var w=0,k=new n(m),_=a.document.createTextNode("");k.observe(_,{characterData:!0}),o=function(){_.data=w=++w%2}}else if(a.setImmediate||a.MessageChannel===void 0)o="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var i=a.document.createElement("script");i.onreadystatechange=function(){m(),i.onreadystatechange=null,i.parentNode.removeChild(i),i=null},a.document.documentElement.appendChild(i)}:function(){setTimeout(m,0)};else{var x=new a.MessageChannel;x.port1.onmessage=m,o=function(){x.port2.postMessage(0)}}var s=[];function m(){var i,f;r=!0;for(var c=s.length;c;){for(f=s,s=[],i=-1;++i<c;)f[i]();c=s.length}r=!1}j.exports=function(i){s.push(i)!==1||r||o()}}).call(this,typeof St<"u"?St:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(u,j,h){var a=u("immediate");function o(){}var r={},n=["REJECTED"],w=["FULFILLED"],k=["PENDING"];function _(c){if(typeof c!="function")throw new TypeError("resolver must be a function");this.state=k,this.queue=[],this.outcome=void 0,c!==o&&i(this,c)}function x(c,y,C){this.promise=c,typeof y=="function"&&(this.onFulfilled=y,this.callFulfilled=this.otherCallFulfilled),typeof C=="function"&&(this.onRejected=C,this.callRejected=this.otherCallRejected)}function s(c,y,C){a(function(){var S;try{S=y(C)}catch(A){return r.reject(c,A)}S===c?r.reject(c,new TypeError("Cannot resolve promise with itself")):r.resolve(c,S)})}function m(c){var y=c&&c.then;if(c&&(typeof c=="object"||typeof c=="function")&&typeof y=="function")return function(){y.apply(c,arguments)}}function i(c,y){var C=!1;function S(N){C||(C=!0,r.reject(c,N))}function A(N){C||(C=!0,r.resolve(c,N))}var U=f(function(){y(A,S)});U.status==="error"&&S(U.value)}function f(c,y){var C={};try{C.value=c(y),C.status="success"}catch(S){C.status="error",C.value=S}return C}(j.exports=_).prototype.finally=function(c){if(typeof c!="function")return this;var y=this.constructor;return this.then(function(C){return y.resolve(c()).then(function(){return C})},function(C){return y.resolve(c()).then(function(){throw C})})},_.prototype.catch=function(c){return this.then(null,c)},_.prototype.then=function(c,y){if(typeof c!="function"&&this.state===w||typeof y!="function"&&this.state===n)return this;var C=new this.constructor(o);return this.state!==k?s(C,this.state===w?c:y,this.outcome):this.queue.push(new x(C,c,y)),C},x.prototype.callFulfilled=function(c){r.resolve(this.promise,c)},x.prototype.otherCallFulfilled=function(c){s(this.promise,this.onFulfilled,c)},x.prototype.callRejected=function(c){r.reject(this.promise,c)},x.prototype.otherCallRejected=function(c){s(this.promise,this.onRejected,c)},r.resolve=function(c,y){var C=f(m,y);if(C.status==="error")return r.reject(c,C.value);var S=C.value;if(S)i(c,S);else{c.state=w,c.outcome=y;for(var A=-1,U=c.queue.length;++A<U;)c.queue[A].callFulfilled(y)}return c},r.reject=function(c,y){c.state=n,c.outcome=y;for(var C=-1,S=c.queue.length;++C<S;)c.queue[C].callRejected(y);return c},_.resolve=function(c){return c instanceof this?c:r.resolve(new this(o),c)},_.reject=function(c){var y=new this(o);return r.reject(y,c)},_.all=function(c){var y=this;if(Object.prototype.toString.call(c)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=c.length,S=!1;if(!C)return this.resolve([]);for(var A=new Array(C),U=0,N=-1,v=new this(o);++N<C;)l(c[N],N);return v;function l(z,W){y.resolve(z).then(function(g){A[W]=g,++U!==C||S||(S=!0,r.resolve(v,A))},function(g){S||(S=!0,r.reject(v,g))})}},_.race=function(c){var y=this;if(Object.prototype.toString.call(c)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=c.length,S=!1;if(!C)return this.resolve([]);for(var A=-1,U=new this(o);++A<C;)N=c[A],y.resolve(N).then(function(v){S||(S=!0,r.resolve(U,v))},function(v){S||(S=!0,r.reject(U,v))});var N;return U}},{immediate:36}],38:[function(u,j,h){var a={};(0,u("./lib/utils/common").assign)(a,u("./lib/deflate"),u("./lib/inflate"),u("./lib/zlib/constants")),j.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(u,j,h){var a=u("./zlib/deflate"),o=u("./utils/common"),r=u("./utils/strings"),n=u("./zlib/messages"),w=u("./zlib/zstream"),k=Object.prototype.toString,_=0,x=-1,s=0,m=8;function i(c){if(!(this instanceof i))return new i(c);this.options=o.assign({level:x,method:m,chunkSize:16384,windowBits:15,memLevel:8,strategy:s,to:""},c||{});var y=this.options;y.raw&&0<y.windowBits?y.windowBits=-y.windowBits:y.gzip&&0<y.windowBits&&y.windowBits<16&&(y.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new w,this.strm.avail_out=0;var C=a.deflateInit2(this.strm,y.level,y.method,y.windowBits,y.memLevel,y.strategy);if(C!==_)throw new Error(n[C]);if(y.header&&a.deflateSetHeader(this.strm,y.header),y.dictionary){var S;if(S=typeof y.dictionary=="string"?r.string2buf(y.dictionary):k.call(y.dictionary)==="[object ArrayBuffer]"?new Uint8Array(y.dictionary):y.dictionary,(C=a.deflateSetDictionary(this.strm,S))!==_)throw new Error(n[C]);this._dict_set=!0}}function f(c,y){var C=new i(y);if(C.push(c,!0),C.err)throw C.msg||n[C.err];return C.result}i.prototype.push=function(c,y){var C,S,A=this.strm,U=this.options.chunkSize;if(this.ended)return!1;S=y===~~y?y:y===!0?4:0,typeof c=="string"?A.input=r.string2buf(c):k.call(c)==="[object ArrayBuffer]"?A.input=new Uint8Array(c):A.input=c,A.next_in=0,A.avail_in=A.input.length;do{if(A.avail_out===0&&(A.output=new o.Buf8(U),A.next_out=0,A.avail_out=U),(C=a.deflate(A,S))!==1&&C!==_)return this.onEnd(C),!(this.ended=!0);A.avail_out!==0&&(A.avail_in!==0||S!==4&&S!==2)||(this.options.to==="string"?this.onData(r.buf2binstring(o.shrinkBuf(A.output,A.next_out))):this.onData(o.shrinkBuf(A.output,A.next_out)))}while((0<A.avail_in||A.avail_out===0)&&C!==1);return S===4?(C=a.deflateEnd(this.strm),this.onEnd(C),this.ended=!0,C===_):S!==2||(this.onEnd(_),!(A.avail_out=0))},i.prototype.onData=function(c){this.chunks.push(c)},i.prototype.onEnd=function(c){c===_&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=c,this.msg=this.strm.msg},h.Deflate=i,h.deflate=f,h.deflateRaw=function(c,y){return(y=y||{}).raw=!0,f(c,y)},h.gzip=function(c,y){return(y=y||{}).gzip=!0,f(c,y)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(u,j,h){var a=u("./zlib/inflate"),o=u("./utils/common"),r=u("./utils/strings"),n=u("./zlib/constants"),w=u("./zlib/messages"),k=u("./zlib/zstream"),_=u("./zlib/gzheader"),x=Object.prototype.toString;function s(i){if(!(this instanceof s))return new s(i);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},i||{});var f=this.options;f.raw&&0<=f.windowBits&&f.windowBits<16&&(f.windowBits=-f.windowBits,f.windowBits===0&&(f.windowBits=-15)),!(0<=f.windowBits&&f.windowBits<16)||i&&i.windowBits||(f.windowBits+=32),15<f.windowBits&&f.windowBits<48&&!(15&f.windowBits)&&(f.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new k,this.strm.avail_out=0;var c=a.inflateInit2(this.strm,f.windowBits);if(c!==n.Z_OK)throw new Error(w[c]);this.header=new _,a.inflateGetHeader(this.strm,this.header)}function m(i,f){var c=new s(f);if(c.push(i,!0),c.err)throw c.msg||w[c.err];return c.result}s.prototype.push=function(i,f){var c,y,C,S,A,U,N=this.strm,v=this.options.chunkSize,l=this.options.dictionary,z=!1;if(this.ended)return!1;y=f===~~f?f:f===!0?n.Z_FINISH:n.Z_NO_FLUSH,typeof i=="string"?N.input=r.binstring2buf(i):x.call(i)==="[object ArrayBuffer]"?N.input=new Uint8Array(i):N.input=i,N.next_in=0,N.avail_in=N.input.length;do{if(N.avail_out===0&&(N.output=new o.Buf8(v),N.next_out=0,N.avail_out=v),(c=a.inflate(N,n.Z_NO_FLUSH))===n.Z_NEED_DICT&&l&&(U=typeof l=="string"?r.string2buf(l):x.call(l)==="[object ArrayBuffer]"?new Uint8Array(l):l,c=a.inflateSetDictionary(this.strm,U)),c===n.Z_BUF_ERROR&&z===!0&&(c=n.Z_OK,z=!1),c!==n.Z_STREAM_END&&c!==n.Z_OK)return this.onEnd(c),!(this.ended=!0);N.next_out&&(N.avail_out!==0&&c!==n.Z_STREAM_END&&(N.avail_in!==0||y!==n.Z_FINISH&&y!==n.Z_SYNC_FLUSH)||(this.options.to==="string"?(C=r.utf8border(N.output,N.next_out),S=N.next_out-C,A=r.buf2string(N.output,C),N.next_out=S,N.avail_out=v-S,S&&o.arraySet(N.output,N.output,C,S,0),this.onData(A)):this.onData(o.shrinkBuf(N.output,N.next_out)))),N.avail_in===0&&N.avail_out===0&&(z=!0)}while((0<N.avail_in||N.avail_out===0)&&c!==n.Z_STREAM_END);return c===n.Z_STREAM_END&&(y=n.Z_FINISH),y===n.Z_FINISH?(c=a.inflateEnd(this.strm),this.onEnd(c),this.ended=!0,c===n.Z_OK):y!==n.Z_SYNC_FLUSH||(this.onEnd(n.Z_OK),!(N.avail_out=0))},s.prototype.onData=function(i){this.chunks.push(i)},s.prototype.onEnd=function(i){i===n.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=i,this.msg=this.strm.msg},h.Inflate=s,h.inflate=m,h.inflateRaw=function(i,f){return(f=f||{}).raw=!0,m(i,f)},h.ungzip=m},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(u,j,h){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";h.assign=function(n){for(var w=Array.prototype.slice.call(arguments,1);w.length;){var k=w.shift();if(k){if(typeof k!="object")throw new TypeError(k+"must be non-object");for(var _ in k)k.hasOwnProperty(_)&&(n[_]=k[_])}}return n},h.shrinkBuf=function(n,w){return n.length===w?n:n.subarray?n.subarray(0,w):(n.length=w,n)};var o={arraySet:function(n,w,k,_,x){if(w.subarray&&n.subarray)n.set(w.subarray(k,k+_),x);else for(var s=0;s<_;s++)n[x+s]=w[k+s]},flattenChunks:function(n){var w,k,_,x,s,m;for(w=_=0,k=n.length;w<k;w++)_+=n[w].length;for(m=new Uint8Array(_),w=x=0,k=n.length;w<k;w++)s=n[w],m.set(s,x),x+=s.length;return m}},r={arraySet:function(n,w,k,_,x){for(var s=0;s<_;s++)n[x+s]=w[k+s]},flattenChunks:function(n){return[].concat.apply([],n)}};h.setTyped=function(n){n?(h.Buf8=Uint8Array,h.Buf16=Uint16Array,h.Buf32=Int32Array,h.assign(h,o)):(h.Buf8=Array,h.Buf16=Array,h.Buf32=Array,h.assign(h,r))},h.setTyped(a)},{}],42:[function(u,j,h){var a=u("./common"),o=!0,r=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{r=!1}for(var n=new a.Buf8(256),w=0;w<256;w++)n[w]=252<=w?6:248<=w?5:240<=w?4:224<=w?3:192<=w?2:1;function k(_,x){if(x<65537&&(_.subarray&&r||!_.subarray&&o))return String.fromCharCode.apply(null,a.shrinkBuf(_,x));for(var s="",m=0;m<x;m++)s+=String.fromCharCode(_[m]);return s}n[254]=n[254]=1,h.string2buf=function(_){var x,s,m,i,f,c=_.length,y=0;for(i=0;i<c;i++)(64512&(s=_.charCodeAt(i)))==55296&&i+1<c&&(64512&(m=_.charCodeAt(i+1)))==56320&&(s=65536+(s-55296<<10)+(m-56320),i++),y+=s<128?1:s<2048?2:s<65536?3:4;for(x=new a.Buf8(y),i=f=0;f<y;i++)(64512&(s=_.charCodeAt(i)))==55296&&i+1<c&&(64512&(m=_.charCodeAt(i+1)))==56320&&(s=65536+(s-55296<<10)+(m-56320),i++),s<128?x[f++]=s:(s<2048?x[f++]=192|s>>>6:(s<65536?x[f++]=224|s>>>12:(x[f++]=240|s>>>18,x[f++]=128|s>>>12&63),x[f++]=128|s>>>6&63),x[f++]=128|63&s);return x},h.buf2binstring=function(_){return k(_,_.length)},h.binstring2buf=function(_){for(var x=new a.Buf8(_.length),s=0,m=x.length;s<m;s++)x[s]=_.charCodeAt(s);return x},h.buf2string=function(_,x){var s,m,i,f,c=x||_.length,y=new Array(2*c);for(s=m=0;s<c;)if((i=_[s++])<128)y[m++]=i;else if(4<(f=n[i]))y[m++]=65533,s+=f-1;else{for(i&=f===2?31:f===3?15:7;1<f&&s<c;)i=i<<6|63&_[s++],f--;1<f?y[m++]=65533:i<65536?y[m++]=i:(i-=65536,y[m++]=55296|i>>10&1023,y[m++]=56320|1023&i)}return k(y,m)},h.utf8border=function(_,x){var s;for((x=x||_.length)>_.length&&(x=_.length),s=x-1;0<=s&&(192&_[s])==128;)s--;return s<0||s===0?x:s+n[_[s]]>x?s:x}},{"./common":41}],43:[function(u,j,h){j.exports=function(a,o,r,n){for(var w=65535&a|0,k=a>>>16&65535|0,_=0;r!==0;){for(r-=_=2e3<r?2e3:r;k=k+(w=w+o[n++]|0)|0,--_;);w%=65521,k%=65521}return w|k<<16|0}},{}],44:[function(u,j,h){j.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(u,j,h){var a=function(){for(var o,r=[],n=0;n<256;n++){o=n;for(var w=0;w<8;w++)o=1&o?3988292384^o>>>1:o>>>1;r[n]=o}return r}();j.exports=function(o,r,n,w){var k=a,_=w+n;o^=-1;for(var x=w;x<_;x++)o=o>>>8^k[255&(o^r[x])];return-1^o}},{}],46:[function(u,j,h){var a,o=u("../utils/common"),r=u("./trees"),n=u("./adler32"),w=u("./crc32"),k=u("./messages"),_=0,x=4,s=0,m=-2,i=-1,f=4,c=2,y=8,C=9,S=286,A=30,U=19,N=2*S+1,v=15,l=3,z=258,W=z+l+1,g=42,R=113,e=1,M=2,Q=3,D=4;function tt(t,L){return t.msg=k[L],L}function P(t){return(t<<1)-(4<t?9:0)}function rt(t){for(var L=t.length;0<=--L;)t[L]=0}function F(t){var L=t.state,O=L.pending;O>t.avail_out&&(O=t.avail_out),O!==0&&(o.arraySet(t.output,L.pending_buf,L.pending_out,O,t.next_out),t.next_out+=O,L.pending_out+=O,t.total_out+=O,t.avail_out-=O,L.pending-=O,L.pending===0&&(L.pending_out=0))}function E(t,L){r._tr_flush_block(t,0<=t.block_start?t.block_start:-1,t.strstart-t.block_start,L),t.block_start=t.strstart,F(t.strm)}function X(t,L){t.pending_buf[t.pending++]=L}function $(t,L){t.pending_buf[t.pending++]=L>>>8&255,t.pending_buf[t.pending++]=255&L}function V(t,L){var O,b,p=t.max_chain_length,I=t.strstart,Z=t.prev_length,H=t.nice_match,T=t.strstart>t.w_size-W?t.strstart-(t.w_size-W):0,G=t.window,J=t.w_mask,q=t.prev,et=t.strstart+z,ht=G[I+Z-1],ot=G[I+Z];t.prev_length>=t.good_match&&(p>>=2),H>t.lookahead&&(H=t.lookahead);do if(G[(O=L)+Z]===ot&&G[O+Z-1]===ht&&G[O]===G[I]&&G[++O]===G[I+1]){I+=2,O++;do;while(G[++I]===G[++O]&&G[++I]===G[++O]&&G[++I]===G[++O]&&G[++I]===G[++O]&&G[++I]===G[++O]&&G[++I]===G[++O]&&G[++I]===G[++O]&&G[++I]===G[++O]&&I<et);if(b=z-(et-I),I=et-z,Z<b){if(t.match_start=L,H<=(Z=b))break;ht=G[I+Z-1],ot=G[I+Z]}}while((L=q[L&J])>T&&--p!=0);return Z<=t.lookahead?Z:t.lookahead}function lt(t){var L,O,b,p,I,Z,H,T,G,J,q=t.w_size;do{if(p=t.window_size-t.lookahead-t.strstart,t.strstart>=q+(q-W)){for(o.arraySet(t.window,t.window,q,q,0),t.match_start-=q,t.strstart-=q,t.block_start-=q,L=O=t.hash_size;b=t.head[--L],t.head[L]=q<=b?b-q:0,--O;);for(L=O=q;b=t.prev[--L],t.prev[L]=q<=b?b-q:0,--O;);p+=q}if(t.strm.avail_in===0)break;if(Z=t.strm,H=t.window,T=t.strstart+t.lookahead,G=p,J=void 0,J=Z.avail_in,G<J&&(J=G),O=J===0?0:(Z.avail_in-=J,o.arraySet(H,Z.input,Z.next_in,J,T),Z.state.wrap===1?Z.adler=n(Z.adler,H,J,T):Z.state.wrap===2&&(Z.adler=w(Z.adler,H,J,T)),Z.next_in+=J,Z.total_in+=J,J),t.lookahead+=O,t.lookahead+t.insert>=l)for(I=t.strstart-t.insert,t.ins_h=t.window[I],t.ins_h=(t.ins_h<<t.hash_shift^t.window[I+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[I+l-1])&t.hash_mask,t.prev[I&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=I,I++,t.insert--,!(t.lookahead+t.insert<l)););}while(t.lookahead<W&&t.strm.avail_in!==0)}function ut(t,L){for(var O,b;;){if(t.lookahead<W){if(lt(t),t.lookahead<W&&L===_)return e;if(t.lookahead===0)break}if(O=0,t.lookahead>=l&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+l-1])&t.hash_mask,O=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),O!==0&&t.strstart-O<=t.w_size-W&&(t.match_length=V(t,O)),t.match_length>=l)if(b=r._tr_tally(t,t.strstart-t.match_start,t.match_length-l),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=l){for(t.match_length--;t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+l-1])&t.hash_mask,O=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart,--t.match_length!=0;);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else b=r._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(b&&(E(t,!1),t.strm.avail_out===0))return e}return t.insert=t.strstart<l-1?t.strstart:l-1,L===x?(E(t,!0),t.strm.avail_out===0?Q:D):t.last_lit&&(E(t,!1),t.strm.avail_out===0)?e:M}function nt(t,L){for(var O,b,p;;){if(t.lookahead<W){if(lt(t),t.lookahead<W&&L===_)return e;if(t.lookahead===0)break}if(O=0,t.lookahead>=l&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+l-1])&t.hash_mask,O=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=l-1,O!==0&&t.prev_length<t.max_lazy_match&&t.strstart-O<=t.w_size-W&&(t.match_length=V(t,O),t.match_length<=5&&(t.strategy===1||t.match_length===l&&4096<t.strstart-t.match_start)&&(t.match_length=l-1)),t.prev_length>=l&&t.match_length<=t.prev_length){for(p=t.strstart+t.lookahead-l,b=r._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-l),t.lookahead-=t.prev_length-1,t.prev_length-=2;++t.strstart<=p&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+l-1])&t.hash_mask,O=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),--t.prev_length!=0;);if(t.match_available=0,t.match_length=l-1,t.strstart++,b&&(E(t,!1),t.strm.avail_out===0))return e}else if(t.match_available){if((b=r._tr_tally(t,0,t.window[t.strstart-1]))&&E(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return e}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(b=r._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<l-1?t.strstart:l-1,L===x?(E(t,!0),t.strm.avail_out===0?Q:D):t.last_lit&&(E(t,!1),t.strm.avail_out===0)?e:M}function Y(t,L,O,b,p){this.good_length=t,this.max_lazy=L,this.nice_length=O,this.max_chain=b,this.func=p}function it(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=y,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*N),this.dyn_dtree=new o.Buf16(2*(2*A+1)),this.bl_tree=new o.Buf16(2*(2*U+1)),rt(this.dyn_ltree),rt(this.dyn_dtree),rt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(v+1),this.heap=new o.Buf16(2*S+1),rt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*S+1),rt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function st(t){var L;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=c,(L=t.state).pending=0,L.pending_out=0,L.wrap<0&&(L.wrap=-L.wrap),L.status=L.wrap?g:R,t.adler=L.wrap===2?0:1,L.last_flush=_,r._tr_init(L),s):tt(t,m)}function dt(t){var L=st(t);return L===s&&function(O){O.window_size=2*O.w_size,rt(O.head),O.max_lazy_match=a[O.level].max_lazy,O.good_match=a[O.level].good_length,O.nice_match=a[O.level].nice_length,O.max_chain_length=a[O.level].max_chain,O.strstart=0,O.block_start=0,O.lookahead=0,O.insert=0,O.match_length=O.prev_length=l-1,O.match_available=0,O.ins_h=0}(t.state),L}function ct(t,L,O,b,p,I){if(!t)return m;var Z=1;if(L===i&&(L=6),b<0?(Z=0,b=-b):15<b&&(Z=2,b-=16),p<1||C<p||O!==y||b<8||15<b||L<0||9<L||I<0||f<I)return tt(t,m);b===8&&(b=9);var H=new it;return(t.state=H).strm=t,H.wrap=Z,H.gzhead=null,H.w_bits=b,H.w_size=1<<H.w_bits,H.w_mask=H.w_size-1,H.hash_bits=p+7,H.hash_size=1<<H.hash_bits,H.hash_mask=H.hash_size-1,H.hash_shift=~~((H.hash_bits+l-1)/l),H.window=new o.Buf8(2*H.w_size),H.head=new o.Buf16(H.hash_size),H.prev=new o.Buf16(H.w_size),H.lit_bufsize=1<<p+6,H.pending_buf_size=4*H.lit_bufsize,H.pending_buf=new o.Buf8(H.pending_buf_size),H.d_buf=1*H.lit_bufsize,H.l_buf=3*H.lit_bufsize,H.level=L,H.strategy=I,H.method=O,dt(t)}a=[new Y(0,0,0,0,function(t,L){var O=65535;for(O>t.pending_buf_size-5&&(O=t.pending_buf_size-5);;){if(t.lookahead<=1){if(lt(t),t.lookahead===0&&L===_)return e;if(t.lookahead===0)break}t.strstart+=t.lookahead,t.lookahead=0;var b=t.block_start+O;if((t.strstart===0||t.strstart>=b)&&(t.lookahead=t.strstart-b,t.strstart=b,E(t,!1),t.strm.avail_out===0)||t.strstart-t.block_start>=t.w_size-W&&(E(t,!1),t.strm.avail_out===0))return e}return t.insert=0,L===x?(E(t,!0),t.strm.avail_out===0?Q:D):(t.strstart>t.block_start&&(E(t,!1),t.strm.avail_out),e)}),new Y(4,4,8,4,ut),new Y(4,5,16,8,ut),new Y(4,6,32,32,ut),new Y(4,4,16,16,nt),new Y(8,16,32,32,nt),new Y(8,16,128,128,nt),new Y(8,32,128,256,nt),new Y(32,128,258,1024,nt),new Y(32,258,258,4096,nt)],h.deflateInit=function(t,L){return ct(t,L,y,15,8,0)},h.deflateInit2=ct,h.deflateReset=dt,h.deflateResetKeep=st,h.deflateSetHeader=function(t,L){return t&&t.state?t.state.wrap!==2?m:(t.state.gzhead=L,s):m},h.deflate=function(t,L){var O,b,p,I;if(!t||!t.state||5<L||L<0)return t?tt(t,m):m;if(b=t.state,!t.output||!t.input&&t.avail_in!==0||b.status===666&&L!==x)return tt(t,t.avail_out===0?-5:m);if(b.strm=t,O=b.last_flush,b.last_flush=L,b.status===g)if(b.wrap===2)t.adler=0,X(b,31),X(b,139),X(b,8),b.gzhead?(X(b,(b.gzhead.text?1:0)+(b.gzhead.hcrc?2:0)+(b.gzhead.extra?4:0)+(b.gzhead.name?8:0)+(b.gzhead.comment?16:0)),X(b,255&b.gzhead.time),X(b,b.gzhead.time>>8&255),X(b,b.gzhead.time>>16&255),X(b,b.gzhead.time>>24&255),X(b,b.level===9?2:2<=b.strategy||b.level<2?4:0),X(b,255&b.gzhead.os),b.gzhead.extra&&b.gzhead.extra.length&&(X(b,255&b.gzhead.extra.length),X(b,b.gzhead.extra.length>>8&255)),b.gzhead.hcrc&&(t.adler=w(t.adler,b.pending_buf,b.pending,0)),b.gzindex=0,b.status=69):(X(b,0),X(b,0),X(b,0),X(b,0),X(b,0),X(b,b.level===9?2:2<=b.strategy||b.level<2?4:0),X(b,3),b.status=R);else{var Z=y+(b.w_bits-8<<4)<<8;Z|=(2<=b.strategy||b.level<2?0:b.level<6?1:b.level===6?2:3)<<6,b.strstart!==0&&(Z|=32),Z+=31-Z%31,b.status=R,$(b,Z),b.strstart!==0&&($(b,t.adler>>>16),$(b,65535&t.adler)),t.adler=1}if(b.status===69)if(b.gzhead.extra){for(p=b.pending;b.gzindex<(65535&b.gzhead.extra.length)&&(b.pending!==b.pending_buf_size||(b.gzhead.hcrc&&b.pending>p&&(t.adler=w(t.adler,b.pending_buf,b.pending-p,p)),F(t),p=b.pending,b.pending!==b.pending_buf_size));)X(b,255&b.gzhead.extra[b.gzindex]),b.gzindex++;b.gzhead.hcrc&&b.pending>p&&(t.adler=w(t.adler,b.pending_buf,b.pending-p,p)),b.gzindex===b.gzhead.extra.length&&(b.gzindex=0,b.status=73)}else b.status=73;if(b.status===73)if(b.gzhead.name){p=b.pending;do{if(b.pending===b.pending_buf_size&&(b.gzhead.hcrc&&b.pending>p&&(t.adler=w(t.adler,b.pending_buf,b.pending-p,p)),F(t),p=b.pending,b.pending===b.pending_buf_size)){I=1;break}I=b.gzindex<b.gzhead.name.length?255&b.gzhead.name.charCodeAt(b.gzindex++):0,X(b,I)}while(I!==0);b.gzhead.hcrc&&b.pending>p&&(t.adler=w(t.adler,b.pending_buf,b.pending-p,p)),I===0&&(b.gzindex=0,b.status=91)}else b.status=91;if(b.status===91)if(b.gzhead.comment){p=b.pending;do{if(b.pending===b.pending_buf_size&&(b.gzhead.hcrc&&b.pending>p&&(t.adler=w(t.adler,b.pending_buf,b.pending-p,p)),F(t),p=b.pending,b.pending===b.pending_buf_size)){I=1;break}I=b.gzindex<b.gzhead.comment.length?255&b.gzhead.comment.charCodeAt(b.gzindex++):0,X(b,I)}while(I!==0);b.gzhead.hcrc&&b.pending>p&&(t.adler=w(t.adler,b.pending_buf,b.pending-p,p)),I===0&&(b.status=103)}else b.status=103;if(b.status===103&&(b.gzhead.hcrc?(b.pending+2>b.pending_buf_size&&F(t),b.pending+2<=b.pending_buf_size&&(X(b,255&t.adler),X(b,t.adler>>8&255),t.adler=0,b.status=R)):b.status=R),b.pending!==0){if(F(t),t.avail_out===0)return b.last_flush=-1,s}else if(t.avail_in===0&&P(L)<=P(O)&&L!==x)return tt(t,-5);if(b.status===666&&t.avail_in!==0)return tt(t,-5);if(t.avail_in!==0||b.lookahead!==0||L!==_&&b.status!==666){var H=b.strategy===2?function(T,G){for(var J;;){if(T.lookahead===0&&(lt(T),T.lookahead===0)){if(G===_)return e;break}if(T.match_length=0,J=r._tr_tally(T,0,T.window[T.strstart]),T.lookahead--,T.strstart++,J&&(E(T,!1),T.strm.avail_out===0))return e}return T.insert=0,G===x?(E(T,!0),T.strm.avail_out===0?Q:D):T.last_lit&&(E(T,!1),T.strm.avail_out===0)?e:M}(b,L):b.strategy===3?function(T,G){for(var J,q,et,ht,ot=T.window;;){if(T.lookahead<=z){if(lt(T),T.lookahead<=z&&G===_)return e;if(T.lookahead===0)break}if(T.match_length=0,T.lookahead>=l&&0<T.strstart&&(q=ot[et=T.strstart-1])===ot[++et]&&q===ot[++et]&&q===ot[++et]){ht=T.strstart+z;do;while(q===ot[++et]&&q===ot[++et]&&q===ot[++et]&&q===ot[++et]&&q===ot[++et]&&q===ot[++et]&&q===ot[++et]&&q===ot[++et]&&et<ht);T.match_length=z-(ht-et),T.match_length>T.lookahead&&(T.match_length=T.lookahead)}if(T.match_length>=l?(J=r._tr_tally(T,1,T.match_length-l),T.lookahead-=T.match_length,T.strstart+=T.match_length,T.match_length=0):(J=r._tr_tally(T,0,T.window[T.strstart]),T.lookahead--,T.strstart++),J&&(E(T,!1),T.strm.avail_out===0))return e}return T.insert=0,G===x?(E(T,!0),T.strm.avail_out===0?Q:D):T.last_lit&&(E(T,!1),T.strm.avail_out===0)?e:M}(b,L):a[b.level].func(b,L);if(H!==Q&&H!==D||(b.status=666),H===e||H===Q)return t.avail_out===0&&(b.last_flush=-1),s;if(H===M&&(L===1?r._tr_align(b):L!==5&&(r._tr_stored_block(b,0,0,!1),L===3&&(rt(b.head),b.lookahead===0&&(b.strstart=0,b.block_start=0,b.insert=0))),F(t),t.avail_out===0))return b.last_flush=-1,s}return L!==x?s:b.wrap<=0?1:(b.wrap===2?(X(b,255&t.adler),X(b,t.adler>>8&255),X(b,t.adler>>16&255),X(b,t.adler>>24&255),X(b,255&t.total_in),X(b,t.total_in>>8&255),X(b,t.total_in>>16&255),X(b,t.total_in>>24&255)):($(b,t.adler>>>16),$(b,65535&t.adler)),F(t),0<b.wrap&&(b.wrap=-b.wrap),b.pending!==0?s:1)},h.deflateEnd=function(t){var L;return t&&t.state?(L=t.state.status)!==g&&L!==69&&L!==73&&L!==91&&L!==103&&L!==R&&L!==666?tt(t,m):(t.state=null,L===R?tt(t,-3):s):m},h.deflateSetDictionary=function(t,L){var O,b,p,I,Z,H,T,G,J=L.length;if(!t||!t.state||(I=(O=t.state).wrap)===2||I===1&&O.status!==g||O.lookahead)return m;for(I===1&&(t.adler=n(t.adler,L,J,0)),O.wrap=0,J>=O.w_size&&(I===0&&(rt(O.head),O.strstart=0,O.block_start=0,O.insert=0),G=new o.Buf8(O.w_size),o.arraySet(G,L,J-O.w_size,O.w_size,0),L=G,J=O.w_size),Z=t.avail_in,H=t.next_in,T=t.input,t.avail_in=J,t.next_in=0,t.input=L,lt(O);O.lookahead>=l;){for(b=O.strstart,p=O.lookahead-(l-1);O.ins_h=(O.ins_h<<O.hash_shift^O.window[b+l-1])&O.hash_mask,O.prev[b&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=b,b++,--p;);O.strstart=b,O.lookahead=l-1,lt(O)}return O.strstart+=O.lookahead,O.block_start=O.strstart,O.insert=O.lookahead,O.lookahead=0,O.match_length=O.prev_length=l-1,O.match_available=0,t.next_in=H,t.input=T,t.avail_in=Z,O.wrap=I,s},h.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(u,j,h){j.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(u,j,h){j.exports=function(a,o){var r,n,w,k,_,x,s,m,i,f,c,y,C,S,A,U,N,v,l,z,W,g,R,e,M;r=a.state,n=a.next_in,e=a.input,w=n+(a.avail_in-5),k=a.next_out,M=a.output,_=k-(o-a.avail_out),x=k+(a.avail_out-257),s=r.dmax,m=r.wsize,i=r.whave,f=r.wnext,c=r.window,y=r.hold,C=r.bits,S=r.lencode,A=r.distcode,U=(1<<r.lenbits)-1,N=(1<<r.distbits)-1;t:do{C<15&&(y+=e[n++]<<C,C+=8,y+=e[n++]<<C,C+=8),v=S[y&U];e:for(;;){if(y>>>=l=v>>>24,C-=l,(l=v>>>16&255)===0)M[k++]=65535&v;else{if(!(16&l)){if(!(64&l)){v=S[(65535&v)+(y&(1<<l)-1)];continue e}if(32&l){r.mode=12;break t}a.msg="invalid literal/length code",r.mode=30;break t}z=65535&v,(l&=15)&&(C<l&&(y+=e[n++]<<C,C+=8),z+=y&(1<<l)-1,y>>>=l,C-=l),C<15&&(y+=e[n++]<<C,C+=8,y+=e[n++]<<C,C+=8),v=A[y&N];r:for(;;){if(y>>>=l=v>>>24,C-=l,!(16&(l=v>>>16&255))){if(!(64&l)){v=A[(65535&v)+(y&(1<<l)-1)];continue r}a.msg="invalid distance code",r.mode=30;break t}if(W=65535&v,C<(l&=15)&&(y+=e[n++]<<C,(C+=8)<l&&(y+=e[n++]<<C,C+=8)),s<(W+=y&(1<<l)-1)){a.msg="invalid distance too far back",r.mode=30;break t}if(y>>>=l,C-=l,(l=k-_)<W){if(i<(l=W-l)&&r.sane){a.msg="invalid distance too far back",r.mode=30;break t}if(R=c,(g=0)===f){if(g+=m-l,l<z){for(z-=l;M[k++]=c[g++],--l;);g=k-W,R=M}}else if(f<l){if(g+=m+f-l,(l-=f)<z){for(z-=l;M[k++]=c[g++],--l;);if(g=0,f<z){for(z-=l=f;M[k++]=c[g++],--l;);g=k-W,R=M}}}else if(g+=f-l,l<z){for(z-=l;M[k++]=c[g++],--l;);g=k-W,R=M}for(;2<z;)M[k++]=R[g++],M[k++]=R[g++],M[k++]=R[g++],z-=3;z&&(M[k++]=R[g++],1<z&&(M[k++]=R[g++]))}else{for(g=k-W;M[k++]=M[g++],M[k++]=M[g++],M[k++]=M[g++],2<(z-=3););z&&(M[k++]=M[g++],1<z&&(M[k++]=M[g++]))}break}}break}}while(n<w&&k<x);n-=z=C>>3,y&=(1<<(C-=z<<3))-1,a.next_in=n,a.next_out=k,a.avail_in=n<w?w-n+5:5-(n-w),a.avail_out=k<x?x-k+257:257-(k-x),r.hold=y,r.bits=C}},{}],49:[function(u,j,h){var a=u("../utils/common"),o=u("./adler32"),r=u("./crc32"),n=u("./inffast"),w=u("./inftrees"),k=1,_=2,x=0,s=-2,m=1,i=852,f=592;function c(g){return(g>>>24&255)+(g>>>8&65280)+((65280&g)<<8)+((255&g)<<24)}function y(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function C(g){var R;return g&&g.state?(R=g.state,g.total_in=g.total_out=R.total=0,g.msg="",R.wrap&&(g.adler=1&R.wrap),R.mode=m,R.last=0,R.havedict=0,R.dmax=32768,R.head=null,R.hold=0,R.bits=0,R.lencode=R.lendyn=new a.Buf32(i),R.distcode=R.distdyn=new a.Buf32(f),R.sane=1,R.back=-1,x):s}function S(g){var R;return g&&g.state?((R=g.state).wsize=0,R.whave=0,R.wnext=0,C(g)):s}function A(g,R){var e,M;return g&&g.state?(M=g.state,R<0?(e=0,R=-R):(e=1+(R>>4),R<48&&(R&=15)),R&&(R<8||15<R)?s:(M.window!==null&&M.wbits!==R&&(M.window=null),M.wrap=e,M.wbits=R,S(g))):s}function U(g,R){var e,M;return g?(M=new y,(g.state=M).window=null,(e=A(g,R))!==x&&(g.state=null),e):s}var N,v,l=!0;function z(g){if(l){var R;for(N=new a.Buf32(512),v=new a.Buf32(32),R=0;R<144;)g.lens[R++]=8;for(;R<256;)g.lens[R++]=9;for(;R<280;)g.lens[R++]=7;for(;R<288;)g.lens[R++]=8;for(w(k,g.lens,0,288,N,0,g.work,{bits:9}),R=0;R<32;)g.lens[R++]=5;w(_,g.lens,0,32,v,0,g.work,{bits:5}),l=!1}g.lencode=N,g.lenbits=9,g.distcode=v,g.distbits=5}function W(g,R,e,M){var Q,D=g.state;return D.window===null&&(D.wsize=1<<D.wbits,D.wnext=0,D.whave=0,D.window=new a.Buf8(D.wsize)),M>=D.wsize?(a.arraySet(D.window,R,e-D.wsize,D.wsize,0),D.wnext=0,D.whave=D.wsize):(M<(Q=D.wsize-D.wnext)&&(Q=M),a.arraySet(D.window,R,e-M,Q,D.wnext),(M-=Q)?(a.arraySet(D.window,R,e-M,M,0),D.wnext=M,D.whave=D.wsize):(D.wnext+=Q,D.wnext===D.wsize&&(D.wnext=0),D.whave<D.wsize&&(D.whave+=Q))),0}h.inflateReset=S,h.inflateReset2=A,h.inflateResetKeep=C,h.inflateInit=function(g){return U(g,15)},h.inflateInit2=U,h.inflate=function(g,R){var e,M,Q,D,tt,P,rt,F,E,X,$,V,lt,ut,nt,Y,it,st,dt,ct,t,L,O,b,p=0,I=new a.Buf8(4),Z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!g||!g.state||!g.output||!g.input&&g.avail_in!==0)return s;(e=g.state).mode===12&&(e.mode=13),tt=g.next_out,Q=g.output,rt=g.avail_out,D=g.next_in,M=g.input,P=g.avail_in,F=e.hold,E=e.bits,X=P,$=rt,L=x;t:for(;;)switch(e.mode){case m:if(e.wrap===0){e.mode=13;break}for(;E<16;){if(P===0)break t;P--,F+=M[D++]<<E,E+=8}if(2&e.wrap&&F===35615){I[e.check=0]=255&F,I[1]=F>>>8&255,e.check=r(e.check,I,2,0),E=F=0,e.mode=2;break}if(e.flags=0,e.head&&(e.head.done=!1),!(1&e.wrap)||(((255&F)<<8)+(F>>8))%31){g.msg="incorrect header check",e.mode=30;break}if((15&F)!=8){g.msg="unknown compression method",e.mode=30;break}if(E-=4,t=8+(15&(F>>>=4)),e.wbits===0)e.wbits=t;else if(t>e.wbits){g.msg="invalid window size",e.mode=30;break}e.dmax=1<<t,g.adler=e.check=1,e.mode=512&F?10:12,E=F=0;break;case 2:for(;E<16;){if(P===0)break t;P--,F+=M[D++]<<E,E+=8}if(e.flags=F,(255&e.flags)!=8){g.msg="unknown compression method",e.mode=30;break}if(57344&e.flags){g.msg="unknown header flags set",e.mode=30;break}e.head&&(e.head.text=F>>8&1),512&e.flags&&(I[0]=255&F,I[1]=F>>>8&255,e.check=r(e.check,I,2,0)),E=F=0,e.mode=3;case 3:for(;E<32;){if(P===0)break t;P--,F+=M[D++]<<E,E+=8}e.head&&(e.head.time=F),512&e.flags&&(I[0]=255&F,I[1]=F>>>8&255,I[2]=F>>>16&255,I[3]=F>>>24&255,e.check=r(e.check,I,4,0)),E=F=0,e.mode=4;case 4:for(;E<16;){if(P===0)break t;P--,F+=M[D++]<<E,E+=8}e.head&&(e.head.xflags=255&F,e.head.os=F>>8),512&e.flags&&(I[0]=255&F,I[1]=F>>>8&255,e.check=r(e.check,I,2,0)),E=F=0,e.mode=5;case 5:if(1024&e.flags){for(;E<16;){if(P===0)break t;P--,F+=M[D++]<<E,E+=8}e.length=F,e.head&&(e.head.extra_len=F),512&e.flags&&(I[0]=255&F,I[1]=F>>>8&255,e.check=r(e.check,I,2,0)),E=F=0}else e.head&&(e.head.extra=null);e.mode=6;case 6:if(1024&e.flags&&(P<(V=e.length)&&(V=P),V&&(e.head&&(t=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Array(e.head.extra_len)),a.arraySet(e.head.extra,M,D,V,t)),512&e.flags&&(e.check=r(e.check,M,V,D)),P-=V,D+=V,e.length-=V),e.length))break t;e.length=0,e.mode=7;case 7:if(2048&e.flags){if(P===0)break t;for(V=0;t=M[D+V++],e.head&&t&&e.length<65536&&(e.head.name+=String.fromCharCode(t)),t&&V<P;);if(512&e.flags&&(e.check=r(e.check,M,V,D)),P-=V,D+=V,t)break t}else e.head&&(e.head.name=null);e.length=0,e.mode=8;case 8:if(4096&e.flags){if(P===0)break t;for(V=0;t=M[D+V++],e.head&&t&&e.length<65536&&(e.head.comment+=String.fromCharCode(t)),t&&V<P;);if(512&e.flags&&(e.check=r(e.check,M,V,D)),P-=V,D+=V,t)break t}else e.head&&(e.head.comment=null);e.mode=9;case 9:if(512&e.flags){for(;E<16;){if(P===0)break t;P--,F+=M[D++]<<E,E+=8}if(F!==(65535&e.check)){g.msg="header crc mismatch",e.mode=30;break}E=F=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),g.adler=e.check=0,e.mode=12;break;case 10:for(;E<32;){if(P===0)break t;P--,F+=M[D++]<<E,E+=8}g.adler=e.check=c(F),E=F=0,e.mode=11;case 11:if(e.havedict===0)return g.next_out=tt,g.avail_out=rt,g.next_in=D,g.avail_in=P,e.hold=F,e.bits=E,2;g.adler=e.check=1,e.mode=12;case 12:if(R===5||R===6)break t;case 13:if(e.last){F>>>=7&E,E-=7&E,e.mode=27;break}for(;E<3;){if(P===0)break t;P--,F+=M[D++]<<E,E+=8}switch(e.last=1&F,E-=1,3&(F>>>=1)){case 0:e.mode=14;break;case 1:if(z(e),e.mode=20,R!==6)break;F>>>=2,E-=2;break t;case 2:e.mode=17;break;case 3:g.msg="invalid block type",e.mode=30}F>>>=2,E-=2;break;case 14:for(F>>>=7&E,E-=7&E;E<32;){if(P===0)break t;P--,F+=M[D++]<<E,E+=8}if((65535&F)!=(F>>>16^65535)){g.msg="invalid stored block lengths",e.mode=30;break}if(e.length=65535&F,E=F=0,e.mode=15,R===6)break t;case 15:e.mode=16;case 16:if(V=e.length){if(P<V&&(V=P),rt<V&&(V=rt),V===0)break t;a.arraySet(Q,M,D,V,tt),P-=V,D+=V,rt-=V,tt+=V,e.length-=V;break}e.mode=12;break;case 17:for(;E<14;){if(P===0)break t;P--,F+=M[D++]<<E,E+=8}if(e.nlen=257+(31&F),F>>>=5,E-=5,e.ndist=1+(31&F),F>>>=5,E-=5,e.ncode=4+(15&F),F>>>=4,E-=4,286<e.nlen||30<e.ndist){g.msg="too many length or distance symbols",e.mode=30;break}e.have=0,e.mode=18;case 18:for(;e.have<e.ncode;){for(;E<3;){if(P===0)break t;P--,F+=M[D++]<<E,E+=8}e.lens[Z[e.have++]]=7&F,F>>>=3,E-=3}for(;e.have<19;)e.lens[Z[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,O={bits:e.lenbits},L=w(0,e.lens,0,19,e.lencode,0,e.work,O),e.lenbits=O.bits,L){g.msg="invalid code lengths set",e.mode=30;break}e.have=0,e.mode=19;case 19:for(;e.have<e.nlen+e.ndist;){for(;Y=(p=e.lencode[F&(1<<e.lenbits)-1])>>>16&255,it=65535&p,!((nt=p>>>24)<=E);){if(P===0)break t;P--,F+=M[D++]<<E,E+=8}if(it<16)F>>>=nt,E-=nt,e.lens[e.have++]=it;else{if(it===16){for(b=nt+2;E<b;){if(P===0)break t;P--,F+=M[D++]<<E,E+=8}if(F>>>=nt,E-=nt,e.have===0){g.msg="invalid bit length repeat",e.mode=30;break}t=e.lens[e.have-1],V=3+(3&F),F>>>=2,E-=2}else if(it===17){for(b=nt+3;E<b;){if(P===0)break t;P--,F+=M[D++]<<E,E+=8}E-=nt,t=0,V=3+(7&(F>>>=nt)),F>>>=3,E-=3}else{for(b=nt+7;E<b;){if(P===0)break t;P--,F+=M[D++]<<E,E+=8}E-=nt,t=0,V=11+(127&(F>>>=nt)),F>>>=7,E-=7}if(e.have+V>e.nlen+e.ndist){g.msg="invalid bit length repeat",e.mode=30;break}for(;V--;)e.lens[e.have++]=t}}if(e.mode===30)break;if(e.lens[256]===0){g.msg="invalid code -- missing end-of-block",e.mode=30;break}if(e.lenbits=9,O={bits:e.lenbits},L=w(k,e.lens,0,e.nlen,e.lencode,0,e.work,O),e.lenbits=O.bits,L){g.msg="invalid literal/lengths set",e.mode=30;break}if(e.distbits=6,e.distcode=e.distdyn,O={bits:e.distbits},L=w(_,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,O),e.distbits=O.bits,L){g.msg="invalid distances set",e.mode=30;break}if(e.mode=20,R===6)break t;case 20:e.mode=21;case 21:if(6<=P&&258<=rt){g.next_out=tt,g.avail_out=rt,g.next_in=D,g.avail_in=P,e.hold=F,e.bits=E,n(g,$),tt=g.next_out,Q=g.output,rt=g.avail_out,D=g.next_in,M=g.input,P=g.avail_in,F=e.hold,E=e.bits,e.mode===12&&(e.back=-1);break}for(e.back=0;Y=(p=e.lencode[F&(1<<e.lenbits)-1])>>>16&255,it=65535&p,!((nt=p>>>24)<=E);){if(P===0)break t;P--,F+=M[D++]<<E,E+=8}if(Y&&!(240&Y)){for(st=nt,dt=Y,ct=it;Y=(p=e.lencode[ct+((F&(1<<st+dt)-1)>>st)])>>>16&255,it=65535&p,!(st+(nt=p>>>24)<=E);){if(P===0)break t;P--,F+=M[D++]<<E,E+=8}F>>>=st,E-=st,e.back+=st}if(F>>>=nt,E-=nt,e.back+=nt,e.length=it,Y===0){e.mode=26;break}if(32&Y){e.back=-1,e.mode=12;break}if(64&Y){g.msg="invalid literal/length code",e.mode=30;break}e.extra=15&Y,e.mode=22;case 22:if(e.extra){for(b=e.extra;E<b;){if(P===0)break t;P--,F+=M[D++]<<E,E+=8}e.length+=F&(1<<e.extra)-1,F>>>=e.extra,E-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=23;case 23:for(;Y=(p=e.distcode[F&(1<<e.distbits)-1])>>>16&255,it=65535&p,!((nt=p>>>24)<=E);){if(P===0)break t;P--,F+=M[D++]<<E,E+=8}if(!(240&Y)){for(st=nt,dt=Y,ct=it;Y=(p=e.distcode[ct+((F&(1<<st+dt)-1)>>st)])>>>16&255,it=65535&p,!(st+(nt=p>>>24)<=E);){if(P===0)break t;P--,F+=M[D++]<<E,E+=8}F>>>=st,E-=st,e.back+=st}if(F>>>=nt,E-=nt,e.back+=nt,64&Y){g.msg="invalid distance code",e.mode=30;break}e.offset=it,e.extra=15&Y,e.mode=24;case 24:if(e.extra){for(b=e.extra;E<b;){if(P===0)break t;P--,F+=M[D++]<<E,E+=8}e.offset+=F&(1<<e.extra)-1,F>>>=e.extra,E-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){g.msg="invalid distance too far back",e.mode=30;break}e.mode=25;case 25:if(rt===0)break t;if(V=$-rt,e.offset>V){if((V=e.offset-V)>e.whave&&e.sane){g.msg="invalid distance too far back",e.mode=30;break}lt=V>e.wnext?(V-=e.wnext,e.wsize-V):e.wnext-V,V>e.length&&(V=e.length),ut=e.window}else ut=Q,lt=tt-e.offset,V=e.length;for(rt<V&&(V=rt),rt-=V,e.length-=V;Q[tt++]=ut[lt++],--V;);e.length===0&&(e.mode=21);break;case 26:if(rt===0)break t;Q[tt++]=e.length,rt--,e.mode=21;break;case 27:if(e.wrap){for(;E<32;){if(P===0)break t;P--,F|=M[D++]<<E,E+=8}if($-=rt,g.total_out+=$,e.total+=$,$&&(g.adler=e.check=e.flags?r(e.check,Q,$,tt-$):o(e.check,Q,$,tt-$)),$=rt,(e.flags?F:c(F))!==e.check){g.msg="incorrect data check",e.mode=30;break}E=F=0}e.mode=28;case 28:if(e.wrap&&e.flags){for(;E<32;){if(P===0)break t;P--,F+=M[D++]<<E,E+=8}if(F!==(4294967295&e.total)){g.msg="incorrect length check",e.mode=30;break}E=F=0}e.mode=29;case 29:L=1;break t;case 30:L=-3;break t;case 31:return-4;case 32:default:return s}return g.next_out=tt,g.avail_out=rt,g.next_in=D,g.avail_in=P,e.hold=F,e.bits=E,(e.wsize||$!==g.avail_out&&e.mode<30&&(e.mode<27||R!==4))&&W(g,g.output,g.next_out,$-g.avail_out)?(e.mode=31,-4):(X-=g.avail_in,$-=g.avail_out,g.total_in+=X,g.total_out+=$,e.total+=$,e.wrap&&$&&(g.adler=e.check=e.flags?r(e.check,Q,$,g.next_out-$):o(e.check,Q,$,g.next_out-$)),g.data_type=e.bits+(e.last?64:0)+(e.mode===12?128:0)+(e.mode===20||e.mode===15?256:0),(X==0&&$===0||R===4)&&L===x&&(L=-5),L)},h.inflateEnd=function(g){if(!g||!g.state)return s;var R=g.state;return R.window&&(R.window=null),g.state=null,x},h.inflateGetHeader=function(g,R){var e;return g&&g.state&&2&(e=g.state).wrap?((e.head=R).done=!1,x):s},h.inflateSetDictionary=function(g,R){var e,M=R.length;return g&&g.state?(e=g.state).wrap!==0&&e.mode!==11?s:e.mode===11&&o(1,R,M,0)!==e.check?-3:W(g,R,M,M)?(e.mode=31,-4):(e.havedict=1,x):s},h.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(u,j,h){var a=u("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],r=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],n=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],w=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];j.exports=function(k,_,x,s,m,i,f,c){var y,C,S,A,U,N,v,l,z,W=c.bits,g=0,R=0,e=0,M=0,Q=0,D=0,tt=0,P=0,rt=0,F=0,E=null,X=0,$=new a.Buf16(16),V=new a.Buf16(16),lt=null,ut=0;for(g=0;g<=15;g++)$[g]=0;for(R=0;R<s;R++)$[_[x+R]]++;for(Q=W,M=15;1<=M&&$[M]===0;M--);if(M<Q&&(Q=M),M===0)return m[i++]=20971520,m[i++]=20971520,c.bits=1,0;for(e=1;e<M&&$[e]===0;e++);for(Q<e&&(Q=e),g=P=1;g<=15;g++)if(P<<=1,(P-=$[g])<0)return-1;if(0<P&&(k===0||M!==1))return-1;for(V[1]=0,g=1;g<15;g++)V[g+1]=V[g]+$[g];for(R=0;R<s;R++)_[x+R]!==0&&(f[V[_[x+R]]++]=R);if(N=k===0?(E=lt=f,19):k===1?(E=o,X-=257,lt=r,ut-=257,256):(E=n,lt=w,-1),g=e,U=i,tt=R=F=0,S=-1,A=(rt=1<<(D=Q))-1,k===1&&852<rt||k===2&&592<rt)return 1;for(;;){for(v=g-tt,z=f[R]<N?(l=0,f[R]):f[R]>N?(l=lt[ut+f[R]],E[X+f[R]]):(l=96,0),y=1<<g-tt,e=C=1<<D;m[U+(F>>tt)+(C-=y)]=v<<24|l<<16|z|0,C!==0;);for(y=1<<g-1;F&y;)y>>=1;if(y!==0?(F&=y-1,F+=y):F=0,R++,--$[g]==0){if(g===M)break;g=_[x+f[R]]}if(Q<g&&(F&A)!==S){for(tt===0&&(tt=Q),U+=e,P=1<<(D=g-tt);D+tt<M&&!((P-=$[D+tt])<=0);)D++,P<<=1;if(rt+=1<<D,k===1&&852<rt||k===2&&592<rt)return 1;m[S=F&A]=Q<<24|D<<16|U-i|0}}return F!==0&&(m[U+F]=g-tt<<24|64<<16|0),c.bits=Q,0}},{"../utils/common":41}],51:[function(u,j,h){j.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(u,j,h){var a=u("../utils/common"),o=0,r=1;function n(p){for(var I=p.length;0<=--I;)p[I]=0}var w=0,k=29,_=256,x=_+1+k,s=30,m=19,i=2*x+1,f=15,c=16,y=7,C=256,S=16,A=17,U=18,N=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],v=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],l=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],W=new Array(2*(x+2));n(W);var g=new Array(2*s);n(g);var R=new Array(512);n(R);var e=new Array(256);n(e);var M=new Array(k);n(M);var Q,D,tt,P=new Array(s);function rt(p,I,Z,H,T){this.static_tree=p,this.extra_bits=I,this.extra_base=Z,this.elems=H,this.max_length=T,this.has_stree=p&&p.length}function F(p,I){this.dyn_tree=p,this.max_code=0,this.stat_desc=I}function E(p){return p<256?R[p]:R[256+(p>>>7)]}function X(p,I){p.pending_buf[p.pending++]=255&I,p.pending_buf[p.pending++]=I>>>8&255}function $(p,I,Z){p.bi_valid>c-Z?(p.bi_buf|=I<<p.bi_valid&65535,X(p,p.bi_buf),p.bi_buf=I>>c-p.bi_valid,p.bi_valid+=Z-c):(p.bi_buf|=I<<p.bi_valid&65535,p.bi_valid+=Z)}function V(p,I,Z){$(p,Z[2*I],Z[2*I+1])}function lt(p,I){for(var Z=0;Z|=1&p,p>>>=1,Z<<=1,0<--I;);return Z>>>1}function ut(p,I,Z){var H,T,G=new Array(f+1),J=0;for(H=1;H<=f;H++)G[H]=J=J+Z[H-1]<<1;for(T=0;T<=I;T++){var q=p[2*T+1];q!==0&&(p[2*T]=lt(G[q]++,q))}}function nt(p){var I;for(I=0;I<x;I++)p.dyn_ltree[2*I]=0;for(I=0;I<s;I++)p.dyn_dtree[2*I]=0;for(I=0;I<m;I++)p.bl_tree[2*I]=0;p.dyn_ltree[2*C]=1,p.opt_len=p.static_len=0,p.last_lit=p.matches=0}function Y(p){8<p.bi_valid?X(p,p.bi_buf):0<p.bi_valid&&(p.pending_buf[p.pending++]=p.bi_buf),p.bi_buf=0,p.bi_valid=0}function it(p,I,Z,H){var T=2*I,G=2*Z;return p[T]<p[G]||p[T]===p[G]&&H[I]<=H[Z]}function st(p,I,Z){for(var H=p.heap[Z],T=Z<<1;T<=p.heap_len&&(T<p.heap_len&&it(I,p.heap[T+1],p.heap[T],p.depth)&&T++,!it(I,H,p.heap[T],p.depth));)p.heap[Z]=p.heap[T],Z=T,T<<=1;p.heap[Z]=H}function dt(p,I,Z){var H,T,G,J,q=0;if(p.last_lit!==0)for(;H=p.pending_buf[p.d_buf+2*q]<<8|p.pending_buf[p.d_buf+2*q+1],T=p.pending_buf[p.l_buf+q],q++,H===0?V(p,T,I):(V(p,(G=e[T])+_+1,I),(J=N[G])!==0&&$(p,T-=M[G],J),V(p,G=E(--H),Z),(J=v[G])!==0&&$(p,H-=P[G],J)),q<p.last_lit;);V(p,C,I)}function ct(p,I){var Z,H,T,G=I.dyn_tree,J=I.stat_desc.static_tree,q=I.stat_desc.has_stree,et=I.stat_desc.elems,ht=-1;for(p.heap_len=0,p.heap_max=i,Z=0;Z<et;Z++)G[2*Z]!==0?(p.heap[++p.heap_len]=ht=Z,p.depth[Z]=0):G[2*Z+1]=0;for(;p.heap_len<2;)G[2*(T=p.heap[++p.heap_len]=ht<2?++ht:0)]=1,p.depth[T]=0,p.opt_len--,q&&(p.static_len-=J[2*T+1]);for(I.max_code=ht,Z=p.heap_len>>1;1<=Z;Z--)st(p,G,Z);for(T=et;Z=p.heap[1],p.heap[1]=p.heap[p.heap_len--],st(p,G,1),H=p.heap[1],p.heap[--p.heap_max]=Z,p.heap[--p.heap_max]=H,G[2*T]=G[2*Z]+G[2*H],p.depth[T]=(p.depth[Z]>=p.depth[H]?p.depth[Z]:p.depth[H])+1,G[2*Z+1]=G[2*H+1]=T,p.heap[1]=T++,st(p,G,1),2<=p.heap_len;);p.heap[--p.heap_max]=p.heap[1],function(ot,pt){var vt,gt,_t,ft,bt,xt,wt=pt.dyn_tree,Nt=pt.max_code,re=pt.stat_desc.static_tree,ne=pt.stat_desc.has_stree,ie=pt.stat_desc.extra_bits,Bt=pt.stat_desc.extra_base,kt=pt.stat_desc.max_length,Et=0;for(ft=0;ft<=f;ft++)ot.bl_count[ft]=0;for(wt[2*ot.heap[ot.heap_max]+1]=0,vt=ot.heap_max+1;vt<i;vt++)kt<(ft=wt[2*wt[2*(gt=ot.heap[vt])+1]+1]+1)&&(ft=kt,Et++),wt[2*gt+1]=ft,Nt<gt||(ot.bl_count[ft]++,bt=0,Bt<=gt&&(bt=ie[gt-Bt]),xt=wt[2*gt],ot.opt_len+=xt*(ft+bt),ne&&(ot.static_len+=xt*(re[2*gt+1]+bt)));if(Et!==0){do{for(ft=kt-1;ot.bl_count[ft]===0;)ft--;ot.bl_count[ft]--,ot.bl_count[ft+1]+=2,ot.bl_count[kt]--,Et-=2}while(0<Et);for(ft=kt;ft!==0;ft--)for(gt=ot.bl_count[ft];gt!==0;)Nt<(_t=ot.heap[--vt])||(wt[2*_t+1]!==ft&&(ot.opt_len+=(ft-wt[2*_t+1])*wt[2*_t],wt[2*_t+1]=ft),gt--)}}(p,I),ut(G,ht,p.bl_count)}function t(p,I,Z){var H,T,G=-1,J=I[1],q=0,et=7,ht=4;for(J===0&&(et=138,ht=3),I[2*(Z+1)+1]=65535,H=0;H<=Z;H++)T=J,J=I[2*(H+1)+1],++q<et&&T===J||(q<ht?p.bl_tree[2*T]+=q:T!==0?(T!==G&&p.bl_tree[2*T]++,p.bl_tree[2*S]++):q<=10?p.bl_tree[2*A]++:p.bl_tree[2*U]++,G=T,ht=(q=0)===J?(et=138,3):T===J?(et=6,3):(et=7,4))}function L(p,I,Z){var H,T,G=-1,J=I[1],q=0,et=7,ht=4;for(J===0&&(et=138,ht=3),H=0;H<=Z;H++)if(T=J,J=I[2*(H+1)+1],!(++q<et&&T===J)){if(q<ht)for(;V(p,T,p.bl_tree),--q!=0;);else T!==0?(T!==G&&(V(p,T,p.bl_tree),q--),V(p,S,p.bl_tree),$(p,q-3,2)):q<=10?(V(p,A,p.bl_tree),$(p,q-3,3)):(V(p,U,p.bl_tree),$(p,q-11,7));G=T,ht=(q=0)===J?(et=138,3):T===J?(et=6,3):(et=7,4)}}n(P);var O=!1;function b(p,I,Z,H){$(p,(w<<1)+(H?1:0),3),function(T,G,J,q){Y(T),X(T,J),X(T,~J),a.arraySet(T.pending_buf,T.window,G,J,T.pending),T.pending+=J}(p,I,Z)}h._tr_init=function(p){O||(function(){var I,Z,H,T,G,J=new Array(f+1);for(T=H=0;T<k-1;T++)for(M[T]=H,I=0;I<1<<N[T];I++)e[H++]=T;for(e[H-1]=T,T=G=0;T<16;T++)for(P[T]=G,I=0;I<1<<v[T];I++)R[G++]=T;for(G>>=7;T<s;T++)for(P[T]=G<<7,I=0;I<1<<v[T]-7;I++)R[256+G++]=T;for(Z=0;Z<=f;Z++)J[Z]=0;for(I=0;I<=143;)W[2*I+1]=8,I++,J[8]++;for(;I<=255;)W[2*I+1]=9,I++,J[9]++;for(;I<=279;)W[2*I+1]=7,I++,J[7]++;for(;I<=287;)W[2*I+1]=8,I++,J[8]++;for(ut(W,x+1,J),I=0;I<s;I++)g[2*I+1]=5,g[2*I]=lt(I,5);Q=new rt(W,N,_+1,x,f),D=new rt(g,v,0,s,f),tt=new rt(new Array(0),l,0,m,y)}(),O=!0),p.l_desc=new F(p.dyn_ltree,Q),p.d_desc=new F(p.dyn_dtree,D),p.bl_desc=new F(p.bl_tree,tt),p.bi_buf=0,p.bi_valid=0,nt(p)},h._tr_stored_block=b,h._tr_flush_block=function(p,I,Z,H){var T,G,J=0;0<p.level?(p.strm.data_type===2&&(p.strm.data_type=function(q){var et,ht=4093624447;for(et=0;et<=31;et++,ht>>>=1)if(1&ht&&q.dyn_ltree[2*et]!==0)return o;if(q.dyn_ltree[18]!==0||q.dyn_ltree[20]!==0||q.dyn_ltree[26]!==0)return r;for(et=32;et<_;et++)if(q.dyn_ltree[2*et]!==0)return r;return o}(p)),ct(p,p.l_desc),ct(p,p.d_desc),J=function(q){var et;for(t(q,q.dyn_ltree,q.l_desc.max_code),t(q,q.dyn_dtree,q.d_desc.max_code),ct(q,q.bl_desc),et=m-1;3<=et&&q.bl_tree[2*z[et]+1]===0;et--);return q.opt_len+=3*(et+1)+5+5+4,et}(p),T=p.opt_len+3+7>>>3,(G=p.static_len+3+7>>>3)<=T&&(T=G)):T=G=Z+5,Z+4<=T&&I!==-1?b(p,I,Z,H):p.strategy===4||G===T?($(p,2+(H?1:0),3),dt(p,W,g)):($(p,4+(H?1:0),3),function(q,et,ht,ot){var pt;for($(q,et-257,5),$(q,ht-1,5),$(q,ot-4,4),pt=0;pt<ot;pt++)$(q,q.bl_tree[2*z[pt]+1],3);L(q,q.dyn_ltree,et-1),L(q,q.dyn_dtree,ht-1)}(p,p.l_desc.max_code+1,p.d_desc.max_code+1,J+1),dt(p,p.dyn_ltree,p.dyn_dtree)),nt(p),H&&Y(p)},h._tr_tally=function(p,I,Z){return p.pending_buf[p.d_buf+2*p.last_lit]=I>>>8&255,p.pending_buf[p.d_buf+2*p.last_lit+1]=255&I,p.pending_buf[p.l_buf+p.last_lit]=255&Z,p.last_lit++,I===0?p.dyn_ltree[2*Z]++:(p.matches++,I--,p.dyn_ltree[2*(e[Z]+_+1)]++,p.dyn_dtree[2*E(I)]++),p.last_lit===p.lit_bufsize-1},h._tr_align=function(p){$(p,2,3),V(p,C,W),function(I){I.bi_valid===16?(X(I,I.bi_buf),I.bi_buf=0,I.bi_valid=0):8<=I.bi_valid&&(I.pending_buf[I.pending++]=255&I.bi_buf,I.bi_buf>>=8,I.bi_valid-=8)}(p)}},{"../utils/common":41}],53:[function(u,j,h){j.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(u,j,h){(function(a){(function(o,r){if(!o.setImmediate){var n,w,k,_,x=1,s={},m=!1,i=o.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(o);f=f&&f.setTimeout?f:o,n={}.toString.call(o.process)==="[object process]"?function(S){process.nextTick(function(){y(S)})}:function(){if(o.postMessage&&!o.importScripts){var S=!0,A=o.onmessage;return o.onmessage=function(){S=!1},o.postMessage("","*"),o.onmessage=A,S}}()?(_="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",C,!1):o.attachEvent("onmessage",C),function(S){o.postMessage(_+S,"*")}):o.MessageChannel?((k=new MessageChannel).port1.onmessage=function(S){y(S.data)},function(S){k.port2.postMessage(S)}):i&&"onreadystatechange"in i.createElement("script")?(w=i.documentElement,function(S){var A=i.createElement("script");A.onreadystatechange=function(){y(S),A.onreadystatechange=null,w.removeChild(A),A=null},w.appendChild(A)}):function(S){setTimeout(y,0,S)},f.setImmediate=function(S){typeof S!="function"&&(S=new Function(""+S));for(var A=new Array(arguments.length-1),U=0;U<A.length;U++)A[U]=arguments[U+1];var N={callback:S,args:A};return s[x]=N,n(x),x++},f.clearImmediate=c}function c(S){delete s[S]}function y(S){if(m)setTimeout(y,0,S);else{var A=s[S];if(A){m=!0;try{(function(U){var N=U.callback,v=U.args;switch(v.length){case 0:N();break;case 1:N(v[0]);break;case 2:N(v[0],v[1]);break;case 3:N(v[0],v[1],v[2]);break;default:N.apply(r,v)}})(A)}finally{c(S),m=!1}}}}function C(S){S.source===o&&typeof S.data=="string"&&S.data.indexOf(_)===0&&y(+S.data.slice(_.length))}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,typeof St<"u"?St:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Xt);var Fe=Xt.exports;const De=Ht(Fe);var Jt={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(B,K){(function(u,j){B.exports=j()})(St,function u(){var j=typeof self<"u"?self:typeof window<"u"?window:j!==void 0?j:{},h=!j.document&&!!j.postMessage,a=j.IS_PAPA_WORKER||!1,o={},r=0,n={parse:function(v,l){var z=(l=l||{}).dynamicTyping||!1;if(N(z)&&(l.dynamicTypingFunction=z,z={}),l.dynamicTyping=z,l.transform=!!N(l.transform)&&l.transform,l.worker&&n.WORKERS_SUPPORTED){var W=function(){if(!n.WORKERS_SUPPORTED)return!1;var R=(M=j.URL||j.webkitURL||null,Q=u.toString(),n.BLOB_URL||(n.BLOB_URL=M.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",Q,")();"],{type:"text/javascript"})))),e=new j.Worker(R),M,Q;return e.onmessage=y,e.id=r++,o[e.id]=e}();return W.userStep=l.step,W.userChunk=l.chunk,W.userComplete=l.complete,W.userError=l.error,l.step=N(l.step),l.chunk=N(l.chunk),l.complete=N(l.complete),l.error=N(l.error),delete l.worker,void W.postMessage({input:v,config:l,workerId:W.id})}var g=null;return n.NODE_STREAM_INPUT,typeof v=="string"?(v=function(R){return R.charCodeAt(0)===65279?R.slice(1):R}(v),g=l.download?new _(l):new s(l)):v.readable===!0&&N(v.read)&&N(v.on)?g=new m(l):(j.File&&v instanceof File||v instanceof Object)&&(g=new x(l)),g.stream(v)},unparse:function(v,l){var z=!1,W=!0,g=",",R=`\r
`,e='"',M=e+e,Q=!1,D=null,tt=!1;(function(){if(typeof l=="object"){if(typeof l.delimiter!="string"||n.BAD_DELIMITERS.filter(function(E){return l.delimiter.indexOf(E)!==-1}).length||(g=l.delimiter),(typeof l.quotes=="boolean"||typeof l.quotes=="function"||Array.isArray(l.quotes))&&(z=l.quotes),typeof l.skipEmptyLines!="boolean"&&typeof l.skipEmptyLines!="string"||(Q=l.skipEmptyLines),typeof l.newline=="string"&&(R=l.newline),typeof l.quoteChar=="string"&&(e=l.quoteChar),typeof l.header=="boolean"&&(W=l.header),Array.isArray(l.columns)){if(l.columns.length===0)throw new Error("Option columns is empty");D=l.columns}l.escapeChar!==void 0&&(M=l.escapeChar+e),(typeof l.escapeFormulae=="boolean"||l.escapeFormulae instanceof RegExp)&&(tt=l.escapeFormulae instanceof RegExp?l.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var P=new RegExp(f(e),"g");if(typeof v=="string"&&(v=JSON.parse(v)),Array.isArray(v)){if(!v.length||Array.isArray(v[0]))return rt(null,v,Q);if(typeof v[0]=="object")return rt(D||Object.keys(v[0]),v,Q)}else if(typeof v=="object")return typeof v.data=="string"&&(v.data=JSON.parse(v.data)),Array.isArray(v.data)&&(v.fields||(v.fields=v.meta&&v.meta.fields||D),v.fields||(v.fields=Array.isArray(v.data[0])?v.fields:typeof v.data[0]=="object"?Object.keys(v.data[0]):[]),Array.isArray(v.data[0])||typeof v.data[0]=="object"||(v.data=[v.data])),rt(v.fields||[],v.data||[],Q);throw new Error("Unable to serialize unrecognized input");function rt(E,X,$){var V="";typeof E=="string"&&(E=JSON.parse(E)),typeof X=="string"&&(X=JSON.parse(X));var lt=Array.isArray(E)&&0<E.length,ut=!Array.isArray(X[0]);if(lt&&W){for(var nt=0;nt<E.length;nt++)0<nt&&(V+=g),V+=F(E[nt],nt);0<X.length&&(V+=R)}for(var Y=0;Y<X.length;Y++){var it=lt?E.length:X[Y].length,st=!1,dt=lt?Object.keys(X[Y]).length===0:X[Y].length===0;if($&&!lt&&(st=$==="greedy"?X[Y].join("").trim()==="":X[Y].length===1&&X[Y][0].length===0),$==="greedy"&&lt){for(var ct=[],t=0;t<it;t++){var L=ut?E[t]:t;ct.push(X[Y][L])}st=ct.join("").trim()===""}if(!st){for(var O=0;O<it;O++){0<O&&!dt&&(V+=g);var b=lt&&ut?E[O]:O;V+=F(X[Y][b],O)}Y<X.length-1&&(!$||0<it&&!dt)&&(V+=R)}}return V}function F(E,X){if(E==null)return"";if(E.constructor===Date)return JSON.stringify(E).slice(1,25);var $=!1;tt&&typeof E=="string"&&tt.test(E)&&(E="'"+E,$=!0);var V=E.toString().replace(P,M);return($=$||z===!0||typeof z=="function"&&z(E,X)||Array.isArray(z)&&z[X]||function(lt,ut){for(var nt=0;nt<ut.length;nt++)if(-1<lt.indexOf(ut[nt]))return!0;return!1}(V,n.BAD_DELIMITERS)||-1<V.indexOf(g)||V.charAt(0)===" "||V.charAt(V.length-1)===" ")?e+V+e:V}}};if(n.RECORD_SEP="",n.UNIT_SEP="",n.BYTE_ORDER_MARK="\uFEFF",n.BAD_DELIMITERS=["\r",`
`,'"',n.BYTE_ORDER_MARK],n.WORKERS_SUPPORTED=!h&&!!j.Worker,n.NODE_STREAM_INPUT=1,n.LocalChunkSize=10485760,n.RemoteChunkSize=5242880,n.DefaultDelimiter=",",n.Parser=c,n.ParserHandle=i,n.NetworkStreamer=_,n.FileStreamer=x,n.StringStreamer=s,n.ReadableStreamStreamer=m,j.jQuery){var w=j.jQuery;w.fn.parse=function(v){var l=v.config||{},z=[];return this.each(function(R){if(!(w(this).prop("tagName").toUpperCase()==="INPUT"&&w(this).attr("type").toLowerCase()==="file"&&j.FileReader)||!this.files||this.files.length===0)return!0;for(var e=0;e<this.files.length;e++)z.push({file:this.files[e],inputElem:this,instanceConfig:w.extend({},l)})}),W(),this;function W(){if(z.length!==0){var R,e,M,Q,D=z[0];if(N(v.before)){var tt=v.before(D.file,D.inputElem);if(typeof tt=="object"){if(tt.action==="abort")return R="AbortError",e=D.file,M=D.inputElem,Q=tt.reason,void(N(v.error)&&v.error({name:R},e,M,Q));if(tt.action==="skip")return void g();typeof tt.config=="object"&&(D.instanceConfig=w.extend(D.instanceConfig,tt.config))}else if(tt==="skip")return void g()}var P=D.instanceConfig.complete;D.instanceConfig.complete=function(rt){N(P)&&P(rt,D.file,D.inputElem),g()},n.parse(D.file,D.instanceConfig)}else N(v.complete)&&v.complete()}function g(){z.splice(0,1),W()}}}function k(v){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(l){var z=A(l);z.chunkSize=parseInt(z.chunkSize),l.step||l.chunk||(z.chunkSize=null),this._handle=new i(z),(this._handle.streamer=this)._config=z}).call(this,v),this.parseChunk=function(l,z){if(this.isFirstChunk&&N(this._config.beforeFirstChunk)){var W=this._config.beforeFirstChunk(l);W!==void 0&&(l=W)}this.isFirstChunk=!1,this._halted=!1;var g=this._partialLine+l;this._partialLine="";var R=this._handle.parse(g,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var e=R.meta.cursor;this._finished||(this._partialLine=g.substring(e-this._baseIndex),this._baseIndex=e),R&&R.data&&(this._rowCount+=R.data.length);var M=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(a)j.postMessage({results:R,workerId:n.WORKER_ID,finished:M});else if(N(this._config.chunk)&&!z){if(this._config.chunk(R,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);R=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(R.data),this._completeResults.errors=this._completeResults.errors.concat(R.errors),this._completeResults.meta=R.meta),this._completed||!M||!N(this._config.complete)||R&&R.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),M||R&&R.meta.paused||this._nextChunk(),R}this._halted=!0},this._sendError=function(l){N(this._config.error)?this._config.error(l):a&&this._config.error&&j.postMessage({workerId:n.WORKER_ID,error:l,finished:!1})}}function _(v){var l;(v=v||{}).chunkSize||(v.chunkSize=n.RemoteChunkSize),k.call(this,v),this._nextChunk=h?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(z){this._input=z,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(l=new XMLHttpRequest,this._config.withCredentials&&(l.withCredentials=this._config.withCredentials),h||(l.onload=U(this._chunkLoaded,this),l.onerror=U(this._chunkError,this)),l.open(this._config.downloadRequestBody?"POST":"GET",this._input,!h),this._config.downloadRequestHeaders){var z=this._config.downloadRequestHeaders;for(var W in z)l.setRequestHeader(W,z[W])}if(this._config.chunkSize){var g=this._start+this._config.chunkSize-1;l.setRequestHeader("Range","bytes="+this._start+"-"+g)}try{l.send(this._config.downloadRequestBody)}catch(R){this._chunkError(R.message)}h&&l.status===0&&this._chunkError()}},this._chunkLoaded=function(){l.readyState===4&&(l.status<200||400<=l.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:l.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(z){var W=z.getResponseHeader("Content-Range");return W===null?-1:parseInt(W.substring(W.lastIndexOf("/")+1))}(l),this.parseChunk(l.responseText)))},this._chunkError=function(z){var W=l.statusText||z;this._sendError(new Error(W))}}function x(v){var l,z;(v=v||{}).chunkSize||(v.chunkSize=n.LocalChunkSize),k.call(this,v);var W=typeof FileReader<"u";this.stream=function(g){this._input=g,z=g.slice||g.webkitSlice||g.mozSlice,W?((l=new FileReader).onload=U(this._chunkLoaded,this),l.onerror=U(this._chunkError,this)):l=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var g=this._input;if(this._config.chunkSize){var R=Math.min(this._start+this._config.chunkSize,this._input.size);g=z.call(g,this._start,R)}var e=l.readAsText(g,this._config.encoding);W||this._chunkLoaded({target:{result:e}})},this._chunkLoaded=function(g){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(g.target.result)},this._chunkError=function(){this._sendError(l.error)}}function s(v){var l;k.call(this,v=v||{}),this.stream=function(z){return l=z,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var z,W=this._config.chunkSize;return W?(z=l.substring(0,W),l=l.substring(W)):(z=l,l=""),this._finished=!l,this.parseChunk(z)}}}function m(v){k.call(this,v=v||{});var l=[],z=!0,W=!1;this.pause=function(){k.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){k.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(g){this._input=g,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){W&&l.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),l.length?this.parseChunk(l.shift()):z=!0},this._streamData=U(function(g){try{l.push(typeof g=="string"?g:g.toString(this._config.encoding)),z&&(z=!1,this._checkIsFinished(),this.parseChunk(l.shift()))}catch(R){this._streamError(R)}},this),this._streamError=U(function(g){this._streamCleanUp(),this._sendError(g)},this),this._streamEnd=U(function(){this._streamCleanUp(),W=!0,this._streamData("")},this),this._streamCleanUp=U(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function i(v){var l,z,W,g=Math.pow(2,53),R=-g,e=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,M=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,Q=this,D=0,tt=0,P=!1,rt=!1,F=[],E={data:[],errors:[],meta:{}};if(N(v.step)){var X=v.step;v.step=function(Y){if(E=Y,lt())V();else{if(V(),E.data.length===0)return;D+=Y.data.length,v.preview&&D>v.preview?z.abort():(E.data=E.data[0],X(E,Q))}}}function $(Y){return v.skipEmptyLines==="greedy"?Y.join("").trim()==="":Y.length===1&&Y[0].length===0}function V(){return E&&W&&(nt("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+n.DefaultDelimiter+"'"),W=!1),v.skipEmptyLines&&(E.data=E.data.filter(function(Y){return!$(Y)})),lt()&&function(){if(!E)return;function Y(st,dt){N(v.transformHeader)&&(st=v.transformHeader(st,dt)),F.push(st)}if(Array.isArray(E.data[0])){for(var it=0;lt()&&it<E.data.length;it++)E.data[it].forEach(Y);E.data.splice(0,1)}else E.data.forEach(Y)}(),function(){if(!E||!v.header&&!v.dynamicTyping&&!v.transform)return E;function Y(st,dt){var ct,t=v.header?{}:[];for(ct=0;ct<st.length;ct++){var L=ct,O=st[ct];v.header&&(L=ct>=F.length?"__parsed_extra":F[ct]),v.transform&&(O=v.transform(O,L)),O=ut(L,O),L==="__parsed_extra"?(t[L]=t[L]||[],t[L].push(O)):t[L]=O}return v.header&&(ct>F.length?nt("FieldMismatch","TooManyFields","Too many fields: expected "+F.length+" fields but parsed "+ct,tt+dt):ct<F.length&&nt("FieldMismatch","TooFewFields","Too few fields: expected "+F.length+" fields but parsed "+ct,tt+dt)),t}var it=1;return!E.data.length||Array.isArray(E.data[0])?(E.data=E.data.map(Y),it=E.data.length):E.data=Y(E.data,0),v.header&&E.meta&&(E.meta.fields=F),tt+=it,E}()}function lt(){return v.header&&F.length===0}function ut(Y,it){return st=Y,v.dynamicTypingFunction&&v.dynamicTyping[st]===void 0&&(v.dynamicTyping[st]=v.dynamicTypingFunction(st)),(v.dynamicTyping[st]||v.dynamicTyping)===!0?it==="true"||it==="TRUE"||it!=="false"&&it!=="FALSE"&&(function(dt){if(e.test(dt)){var ct=parseFloat(dt);if(R<ct&&ct<g)return!0}return!1}(it)?parseFloat(it):M.test(it)?new Date(it):it===""?null:it):it;var st}function nt(Y,it,st,dt){var ct={type:Y,code:it,message:st};dt!==void 0&&(ct.row=dt),E.errors.push(ct)}this.parse=function(Y,it,st){var dt=v.quoteChar||'"';if(v.newline||(v.newline=function(L,O){L=L.substring(0,1048576);var b=new RegExp(f(O)+"([^]*?)"+f(O),"gm"),p=(L=L.replace(b,"")).split("\r"),I=L.split(`
`),Z=1<I.length&&I[0].length<p[0].length;if(p.length===1||Z)return`
`;for(var H=0,T=0;T<p.length;T++)p[T][0]===`
`&&H++;return H>=p.length/2?`\r
`:"\r"}(Y,dt)),W=!1,v.delimiter)N(v.delimiter)&&(v.delimiter=v.delimiter(Y),E.meta.delimiter=v.delimiter);else{var ct=function(L,O,b,p,I){var Z,H,T,G;I=I||[",","	","|",";",n.RECORD_SEP,n.UNIT_SEP];for(var J=0;J<I.length;J++){var q=I[J],et=0,ht=0,ot=0;T=void 0;for(var pt=new c({comments:p,delimiter:q,newline:O,preview:10}).parse(L),vt=0;vt<pt.data.length;vt++)if(b&&$(pt.data[vt]))ot++;else{var gt=pt.data[vt].length;ht+=gt,T!==void 0?0<gt&&(et+=Math.abs(gt-T),T=gt):T=gt}0<pt.data.length&&(ht/=pt.data.length-ot),(H===void 0||et<=H)&&(G===void 0||G<ht)&&1.99<ht&&(H=et,Z=q,G=ht)}return{successful:!!(v.delimiter=Z),bestDelimiter:Z}}(Y,v.newline,v.skipEmptyLines,v.comments,v.delimitersToGuess);ct.successful?v.delimiter=ct.bestDelimiter:(W=!0,v.delimiter=n.DefaultDelimiter),E.meta.delimiter=v.delimiter}var t=A(v);return v.preview&&v.header&&t.preview++,l=Y,z=new c(t),E=z.parse(l,it,st),V(),P?{meta:{paused:!0}}:E||{meta:{paused:!1}}},this.paused=function(){return P},this.pause=function(){P=!0,z.abort(),l=N(v.chunk)?"":l.substring(z.getCharIndex())},this.resume=function(){Q.streamer._halted?(P=!1,Q.streamer.parseChunk(l,!0)):setTimeout(Q.resume,3)},this.aborted=function(){return rt},this.abort=function(){rt=!0,z.abort(),E.meta.aborted=!0,N(v.complete)&&v.complete(E),l=""}}function f(v){return v.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function c(v){var l,z=(v=v||{}).delimiter,W=v.newline,g=v.comments,R=v.step,e=v.preview,M=v.fastMode,Q=l=v.quoteChar===void 0||v.quoteChar===null?'"':v.quoteChar;if(v.escapeChar!==void 0&&(Q=v.escapeChar),(typeof z!="string"||-1<n.BAD_DELIMITERS.indexOf(z))&&(z=","),g===z)throw new Error("Comment character same as delimiter");g===!0?g="#":(typeof g!="string"||-1<n.BAD_DELIMITERS.indexOf(g))&&(g=!1),W!==`
`&&W!=="\r"&&W!==`\r
`&&(W=`
`);var D=0,tt=!1;this.parse=function(P,rt,F){if(typeof P!="string")throw new Error("Input must be a string");var E=P.length,X=z.length,$=W.length,V=g.length,lt=N(R),ut=[],nt=[],Y=[],it=D=0;if(!P)return _t();if(v.header&&!rt){var st=P.split(W)[0].split(z),dt=[],ct={},t=!1;for(var L in st){var O=st[L];N(v.transformHeader)&&(O=v.transformHeader(O,L));var b=O,p=ct[O]||0;for(0<p&&(t=!0,b=O+"_"+p),ct[O]=p+1;dt.includes(b);)b=b+"_"+p;dt.push(b)}if(t){var I=P.split(W);I[0]=dt.join(z),P=I.join(W)}}if(M||M!==!1&&P.indexOf(l)===-1){for(var Z=P.split(W),H=0;H<Z.length;H++){if(Y=Z[H],D+=Y.length,H!==Z.length-1)D+=W.length;else if(F)return _t();if(!g||Y.substring(0,V)!==g){if(lt){if(ut=[],ot(Y.split(z)),ft(),tt)return _t()}else ot(Y.split(z));if(e&&e<=H)return ut=ut.slice(0,e),_t(!0)}}return _t()}for(var T=P.indexOf(z,D),G=P.indexOf(W,D),J=new RegExp(f(Q)+f(l),"g"),q=P.indexOf(l,D);;)if(P[D]!==l)if(g&&Y.length===0&&P.substring(D,D+V)===g){if(G===-1)return _t();D=G+$,G=P.indexOf(W,D),T=P.indexOf(z,D)}else if(T!==-1&&(T<G||G===-1))Y.push(P.substring(D,T)),D=T+X,T=P.indexOf(z,D);else{if(G===-1)break;if(Y.push(P.substring(D,G)),gt(G+$),lt&&(ft(),tt))return _t();if(e&&ut.length>=e)return _t(!0)}else for(q=D,D++;;){if((q=P.indexOf(l,q+1))===-1)return F||nt.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ut.length,index:D}),vt();if(q===E-1)return vt(P.substring(D,q).replace(J,l));if(l!==Q||P[q+1]!==Q){if(l===Q||q===0||P[q-1]!==Q){T!==-1&&T<q+1&&(T=P.indexOf(z,q+1)),G!==-1&&G<q+1&&(G=P.indexOf(W,q+1));var et=pt(G===-1?T:Math.min(T,G));if(P.substr(q+1+et,X)===z){Y.push(P.substring(D,q).replace(J,l)),P[D=q+1+et+X]!==l&&(q=P.indexOf(l,D)),T=P.indexOf(z,D),G=P.indexOf(W,D);break}var ht=pt(G);if(P.substring(q+1+ht,q+1+ht+$)===W){if(Y.push(P.substring(D,q).replace(J,l)),gt(q+1+ht+$),T=P.indexOf(z,D),q=P.indexOf(l,D),lt&&(ft(),tt))return _t();if(e&&ut.length>=e)return _t(!0);break}nt.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ut.length,index:D}),q++}}else q++}return vt();function ot(bt){ut.push(bt),it=D}function pt(bt){var xt=0;if(bt!==-1){var wt=P.substring(q+1,bt);wt&&wt.trim()===""&&(xt=wt.length)}return xt}function vt(bt){return F||(bt===void 0&&(bt=P.substring(D)),Y.push(bt),D=E,ot(Y),lt&&ft()),_t()}function gt(bt){D=bt,ot(Y),Y=[],G=P.indexOf(W,D)}function _t(bt){return{data:ut,errors:nt,meta:{delimiter:z,linebreak:W,aborted:tt,truncated:!!bt,cursor:it+(rt||0)}}}function ft(){R(_t()),ut=[],nt=[]}},this.abort=function(){tt=!0},this.getCharIndex=function(){return D}}function y(v){var l=v.data,z=o[l.workerId],W=!1;if(l.error)z.userError(l.error,l.file);else if(l.results&&l.results.data){var g={abort:function(){W=!0,C(l.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:S,resume:S};if(N(z.userStep)){for(var R=0;R<l.results.data.length&&(z.userStep({data:l.results.data[R],errors:l.results.errors,meta:l.results.meta},g),!W);R++);delete l.results}else N(z.userChunk)&&(z.userChunk(l.results,g,l.file),delete l.results)}l.finished&&!W&&C(l.workerId,l.results)}function C(v,l){var z=o[v];N(z.userComplete)&&z.userComplete(l),z.terminate(),delete o[v]}function S(){throw new Error("Not implemented.")}function A(v){if(typeof v!="object"||v===null)return v;var l=Array.isArray(v)?[]:{};for(var z in v)l[z]=A(v[z]);return l}function U(v,l){return function(){v.apply(l,arguments)}}function N(v){return typeof v=="function"}return a&&(j.onmessage=function(v){var l=v.data;if(n.WORKER_ID===void 0&&l&&(n.WORKER_ID=l.workerId),typeof l.input=="string")j.postMessage({workerId:n.WORKER_ID,results:n.parse(l.input,l.config),finished:!0});else if(j.File&&l.input instanceof File||l.input instanceof Object){var z=n.parse(l.input,l.config);z&&j.postMessage({workerId:n.WORKER_ID,results:z,finished:!0})}}),(_.prototype=Object.create(k.prototype)).constructor=_,(x.prototype=Object.create(k.prototype)).constructor=x,(s.prototype=Object.create(s.prototype)).constructor=s,(m.prototype=Object.create(k.prototype)).constructor=m,n})})(Jt);var Pe=Jt.exports;const Qt=Ht(Pe),Le=B=>new Promise(K=>{const u=new FileReader;u.onload=function(j){var h;(h=j.target)!=null&&h.result&&De.loadAsync(j.target.result).then(function(a){K(a)})},u.readAsArrayBuffer(B)}),Ut=async B=>{const K=[],u=[];for(let j=0;j<B.length;j++){const h=B[j];if(h.type==="application/x-zip-compressed"){const a=await Le(h),o=[];a.forEach(function(r,n){(n.name.endsWith(".csv")||n.name.endsWith(".xml"))&&o.push({object:n})}),K.push({name:h.name,files:o})}else h.type==="text/csv"||h.type==="text/xml"?u.push(h):yt("Unsupported file: "+h.name,"error")}return[K,u]},Ue=B=>{const K=[];return B.forEach((u,j)=>{u.files.forEach((h,a)=>{K.push({file:a,zip:j})})}),K},te=B=>{const K=qt(B);if(K)return ce(K==null?void 0:K.blocksProps,K==null?void 0:K.desktop,K==null?void 0:K.innerBlocks)},ee=B=>{var h;((h=B.at(-1))==null?void 0:h.length)===1&&B.pop();const K=B.reduce((a,o)=>Math.max(a,o.length),0),u={alignment:Ct.alignment,enableMaxWidth:!1,cellMinWidth:120,sortHorizontal:!1,sortVertical:!1,borderCollapse:"collapse !important",tableSpacingX:3,tableSpacingY:3,cols:K,cellsWidthAutoCount:K,tdSumMaxWidth:120*K+20*K,fontColor:"#000000",linkColor:"#000000",fontSize:15,tableBorder:Lt(Ct.tableBorder),innerBorder:Lt(Ct.innerBorder),headerInnerBorder:!0,scrollX:!1,disableThemeStyles:!1,extraStyles:btoa(""),stickyFirstColumn:!1,stickyTopRow:!1,paginationEnable:!1,paginationTopRowAsHeader:"false",rowsPerPage:"10",rowsChangeable:!1,searchEnable:!1,searchKeepHeader:"true",searchPosition:"left",role:"table",directives:he(Ct),responsiveDirectives:ue(Ct.responsive)},j=[];return B.forEach((a,o)=>{const r=[];a.forEach((n,w)=>{r.push({props:{autoWidth:"true",autoHeight:"true",padding:"10px",vAlign:"center",xIndex:w,yIndex:o,colspan:1,rowspan:1,hideOnMobile:!1},blocks:[{type:"text",props:{text:n,color:"#000000",fontSize:"15px"}}]})}),j.push({props:{},cells:r})}),JSON.stringify({props:u,rows:j})},Me=B=>new Promise((K,u)=>{if(B.type==="text/csv")Qt.parse(B,{complete(j){if(j.errors.length>0){u("Failed to parse the file: "+B.name);return}const h=j.data;K(ee(h))}});else if(B.type==="text/xml"){const j=new FileReader;j.onload=function(h){var o;if(!((o=h.target)!=null&&o.result)){u("No content found!");return}const a=te(h.target.result);K(JSON.stringify(a))},j.readAsText(B)}else u("Unsupported file: "+B.name)}),We=B=>new Promise((K,u)=>{B.async("text").then(j=>{if(B.name.endsWith(".csv"))Qt.parse(j,{complete(h){if(h.errors.length>0){u("Failed to parse the file: "+B.name);return}const a=h.data;K(ee(a))}});else if(B.name.endsWith(".xml")){const h=te(j);K(JSON.stringify(h))}else u("Unsupported file: "+B.name),K(null)})}),Ze=async({setLoadings:B,zips:K,rawFiles:u,keepTitles:j})=>{B.current({});const h=Ue(K),a=h.length+u.length,o=yt(`[0/${a}] Importing tables...`,"progress");let r=1,n=0;for(;n<a;){const w=[];for(let k=0;k<5;k++){let _="";try{let x=n+k,s=null,m,i;if(x<u.length)i=u[x],_=x,s=await Me(i),m=i.name.replace(/\.([a-z]+)$/,"");else if(x<a){x=x-u.length;const f=h[x];i=K[f.zip].files[f.file],_=f.zip+"_"+f.file,s=await We(i.object),m=i.object.name.replace(/\.([a-z]+)$/,"")}if(!s){r++;continue}B.current(f=>({...f,[_]:1})),w.push(new Promise(f=>{fetch(WPTB_CFG.ADMIN_URL+"?action=save_table",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({title:j?m:void 0,content:s,security_code:WPTB_CFG.SECURITY_CODE})}).then(c=>{if(c.ok)B.current(y=>({...y,[_]:2}));else throw new Error(c.statusText)}).catch(c=>{B.current(y=>({...y,[_]:c.message||"Something went wrong..."}))}).finally(()=>{r++,f(!0)})}))}catch(x){r++,B.current(s=>({...s,[_]:typeof x=="string"?x:x.message||"Something went wrong..."}))}finally{Pt(o,{progress:r/a*100,message:`[${r}/${a}] Importing tables...`})}}await Promise.all(w),n+=5}Pt(o,{type:"success",message:`[${a}] Tables imported successfully!`,spawned_at:Date.now(),duration:5e3})},Mt=B=>B?B===1?Zt:B===2?fe:d.jsx(Gt,{content:B,children:pe}):"",He=({setPage:B})=>{const[K,u]=at.useState(!1),[j,h]=at.useState(!0),[a,o]=at.useState([]),[r,n]=at.useState([]),[w,k]=at.useState({}),[_,x]=at.useState(!1),s=at.useRef(k);at.useEffect(()=>{s.current=k},[k]);const m=async C=>{if(C.preventDefault(),C.stopPropagation(),u(!1),_){yt("Please wait for the previous import to finish.","error");return}const[S,A]=await Ut(C.dataTransfer.files);o([...a,...S]),n([...r,...A])},i=async C=>{if(_){C.target.value="",yt("Please wait for the previous import to finish.","error");return}const[S,A]=await Ut(Array.from(C.target.files));o([...a,...S]),n([...r,...A]),C.target.value=""},f=(C,S)=>{o(A=>{const U=[...A];return S!==void 0?U[C].files.splice(S,1):U.splice(C,1),U})},c=C=>{n(S=>{if(C===void 0)return[];const A=[...S];return A.splice(C,1),A})},y=async()=>{if(_){yt("Please wait for the previous import to finish.","error");return}x(!0),await Ze({setLoadings:s,zips:a,rawFiles:r,keepTitles:j}),x(!1)};return d.jsxs("div",{className:"wptb-v2-page",children:[d.jsx(Tt,{setPage:B,page:"import"}),d.jsxs("div",{className:"wptb-v2-page-content",children:[d.jsx("div",{className:"wptb-v2-page-content-top",children:d.jsx("h3",{children:"Import Table"})}),d.jsxs("div",{className:mt("wptb-v2-page-content-main wptb-v2-import-page",{"wptb-v2-import-page-has-files":a.length>0||r.length>0}),children:[d.jsxs("div",{className:"wptb-v2-import-page-main-area",children:[d.jsxs("div",{className:"wptb-v2-import-page-file-area",children:[d.jsx("h3",{children:"Pick files"}),d.jsxs("div",{className:mt("wptb-v2-import-page-dropzone",{"wptb-v2-import-page-dropzone-dragover":K}),onDragOver:C=>{u(!0),C.preventDefault(),C.stopPropagation()},onDragLeave:()=>u(!1),onDrop:m,children:[d.jsx("p",{className:"wptb-v2-import-page-dropzone-text",children:"Drag and drop your files here"}),d.jsx("p",{className:"wptb-v2-import-page-dropzone-types",children:"(csv, xml, zip)"}),d.jsx("div",{className:"wptb-v2-divider",children:"or"}),d.jsxs("label",{children:["Browse files",d.jsx("input",{type:"file",accept:".csv, .xml, .zip",onChange:i,multiple:!0})]})]})]}),(a.length>0||r.length>0)&&d.jsxs("div",{className:"wptb-v2-import-page-preview",children:[d.jsxs("h3",{children:["To be imported",d.jsx("button",{type:"button",title:"Clear Files",onClick:()=>{o([]),n([])},children:It})]}),r.length>0&&d.jsxs("div",{className:"wptb-v2-import-page-preview-item",children:[d.jsxs("p",{children:["Single tables",!_&&d.jsx("button",{type:"button",onClick:()=>c(),children:zt})]}),d.jsx("ul",{children:r.map((C,S)=>d.jsxs("li",{children:[C.name,d.jsxs("div",{className:"wptb-v2-import-page-preview-status",children:[Mt(w[S]),!_&&d.jsx("button",{type:"button",onClick:()=>c(S),children:zt})]})]},`${C.name}_${S}`))})]}),a.map((C,S)=>d.jsxs("div",{className:"wptb-v2-import-page-preview-item",children:[d.jsxs("p",{children:[C.name,!_&&d.jsx("button",{type:"button",onClick:()=>f(S),children:zt})]}),d.jsx("ul",{children:C.files.map((A,U)=>d.jsxs("li",{children:[A.object.name,d.jsxs("div",{className:"wptb-v2-import-page-preview-status",children:[Mt(w[`${S}_${U}`]),!_&&d.jsx("button",{type:"button",onClick:()=>f(S,U),children:zt})]})]},`${A.object.name}_${U}`))})]},C.name))]})]}),d.jsxs("div",{className:"wptb-v2-import-page-form",children:[d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",checked:j,onChange:()=>h(!j)}),d.jsx("p",{children:"Preserve table titles"})]}),d.jsxs("button",{type:"button",onClick:y,disabled:_,children:[_?d.jsx(de,{}):d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 20 20",children:d.jsx("path",{fill:"currentColor",d:"M9 6c0-1.6.8-3 2-4h-1c-3.9 0-7 .9-7 2c0 1 2.6 1.8 6 2m3.8 4.8c-.9.1-1.9.2-2.8.2c-3.9 0-7-.9-7-2v3c0 1.1 3.1 2 7 2s7-.9 7-2v-2c-.9.7-1.9 1-3 1c-.4 0-.8-.1-1.2-.2M10 15c-3.9 0-7-.9-7-2v3c0 1.1 3.1 2 7 2s7-.9 7-2v-3c0 1.1-3.1 2-7 2m0-5h1c-1-.7-1.7-1.8-1.9-3C5.7 6.9 3 6 3 5v3c0 1.1 3.1 2 7 2m4 0c2.2 0 4-1.8 4-4s-1.8-4-4-4s-4 1.8-4 4s1.8 4 4 4m-1-4V3h2v3h2l-3 3l-3-3z"})}),"Import"]})]})]})]})]})},qe=({onSelect:B,onAllSelect:K,apiData:u,searchTxt:j,setSearch:h,items:a,sorting:o})=>d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"wptb-v2-export-page-header",children:[d.jsx("h2",{children:"All Tables"}),d.jsxs("div",{className:"wptb-v2-export-page-search",children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 48 48",children:d.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"4",children:[d.jsx("path",{d:"M21 38c9.389 0 17-7.611 17-17S30.389 4 21 4S4 11.611 4 21s7.611 17 17 17Z"}),d.jsx("path",{strokeLinecap:"round",d:"M26.657 14.343A7.98 7.98 0 0 0 21 12a7.98 7.98 0 0 0-5.657 2.343m17.879 18.879l8.485 8.485"})]})}),d.jsx("input",{type:"search",placeholder:"Search...",value:j,onChange:r=>h(r.target.value)})]})]}),d.jsxs("p",{className:"wptb-pagination-info",children:["Showing ",d.jsx("b",{children:u.page_start})," to ",d.jsx("b",{children:u.page_end})," of"," ",d.jsx("b",{children:u.total_count})," entries"]}),d.jsx(Kt,{onSelect:B,onAllCheck:K,sorting:o,isLoading:u.loading,items:a,columns:["title","modified","id"],checkbox:!0})]}),Ge=({onUnSelect:B,onAllUnSelect:K,items:u})=>{const j=Vt("modified","desc"),[h,a]=at.useState(""),[o,r]=at.useState(u);at.useEffect(()=>{r(u)},[u]),at.useEffect(()=>{if(h==="")return r(u);const w=u.filter(k=>k.title.toLowerCase().includes(h.toLowerCase()));r(w)},[h,u]);const n=j[0];return at.useEffect(()=>r(w=>(n.order==="asc"?w.sort((k,_)=>k[n.by].toString().localeCompare(_[n.by].toString())):w.sort((k,_)=>_[n.by].toString().localeCompare(k[n.by].toString())),[...w])),[n]),d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"wptb-v2-export-page-header",children:[d.jsx("h2",{children:"To Export"}),d.jsxs("div",{className:"wptb-v2-export-page-search",children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 48 48",children:d.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"4",children:[d.jsx("path",{d:"M21 38c9.389 0 17-7.611 17-17S30.389 4 21 4S4 11.611 4 21s7.611 17 17 17Z"}),d.jsx("path",{strokeLinecap:"round",d:"M26.657 14.343A7.98 7.98 0 0 0 21 12a7.98 7.98 0 0 0-5.657 2.343m17.879 18.879l8.485 8.485"})]})}),d.jsx("input",{type:"search",placeholder:"Search...",value:h,onChange:w=>a(w.target.value)})]})]}),d.jsx(Kt,{onSelect:B,onAllCheck:K,sorting:j,items:o,columns:["title","modified","id"],checkbox:!0,checked:!0,noItemsMessage:"No tables selected"})]})},Rt=document.createElement("a"),Ke=async(B,K)=>{new FormData().append("ids",B);try{const j=new FormData;j.append("nonce",WPTB_CFG.EXPORT_KEY),j.append("action","wptb_table_export_main_export"),j.append("ids",JSON.stringify(B.split(","))),j.append("export_type",K.toLocaleUpperCase());const h=await fetch(WPTB_CFG.ADMIN_URL,{method:"POST",body:j});let a,o="";if(h.headers.get("content-type")==="application/octet-stream"){const w=h.headers.get("content-disposition"),_=new RegExp(/filename="(.+\..+)"/,"g").exec(w||"");if(_===null)throw new Error("Invalid file name header!");o=_[1],a=await h.blob()}else a=await h.json();const n=window.URL.createObjectURL(a);Rt.href=n,Rt.download=o,Rt.click(),window.URL.revokeObjectURL(n),yt('File downloaded as "'+o+'"',"success")}catch(j){yt(j.message||"Something went wrong","error")}},Ve={xml:d.jsxs(d.Fragment,{children:[d.jsx("b",{children:"XML:"})," an exact copy of your tables will be exported, ideal for backing up and sharing your tables with your other WordPress sites that uses WP Table Builder."]}),csv:d.jsxs(d.Fragment,{children:[d.jsx("b",{children:"CSV:"})," only text content of your tables will be exported, ideal for usage within other apps/plugins."]})},$e=({setPage:B})=>{const K=at.useRef(),[u,j]=at.useState(1),h=Vt("modified","desc"),[a,o]=at.useState(""),[r,n]=at.useState([]),[w,k]=at.useState(""),[_,x]=at.useState("xml"),[s,m]=at.useState(!1),[i,f,c]=$t({page:u,search:a,sort:h[0],abortCtrl:K.current,skipTables:w});at.useEffect(()=>{n(i.posts)},[i.posts]);const[y,C]=at.useState([]),S=l=>{const z=w+","+l.id;k(z.replace(/^,/,"")),C([...y,l]),n(r.filter(W=>W.id!==l.id)),r.length<=1&&c()},A=l=>{C(y.filter(W=>W.id!==l.id)),n([...r,l]);let z=w.replace(l.id.toString(),"");z=z.replace(/,,/,","),z=z.replace(/(^,)|(,$)/,""),k(z)},U=()=>{if(!r.length)return;const l=[...y];let z=w;r.forEach(W=>{l.push(W),z=z+","+W.id}),z=z.replace(/^,/,""),C(l),k(z),c()},N=()=>{y.length&&(C([]),k(""),n([...r,...y]))},v=()=>{if(!s){if(!w){yt("No tables selected","error");return}m(!0),Ke(w,_).then(()=>{m(!1),N()})}};return d.jsxs("div",{className:"wptb-v2-page",children:[d.jsx(Tt,{setPage:B,page:"export"}),d.jsxs("div",{className:"wptb-v2-page-content",children:[d.jsx("div",{className:"wptb-v2-page-content-top",children:d.jsx("h3",{children:"Export Table"})}),d.jsxs("div",{className:"wptb-v2-export-page",children:[d.jsxs("div",{className:"wptb-v2-export-page-unselected",children:[d.jsx(qe,{onSelect:S,onAllSelect:U,apiData:i,setSearch:o,searchTxt:a,items:r,sorting:h}),d.jsx(me,{apiData:i,setPage:j})]}),d.jsxs("div",{className:"wptb-v2-export-page-exchange",children:[d.jsx("button",{type:"button",onClick:U,children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",children:d.jsxs("g",{fill:"none",children:[d.jsx("path",{d:"M24 0v24H0V0zM12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035q-.016-.005-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427q-.004-.016-.017-.018m.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093q.019.005.029-.008l.004-.014l-.034-.614q-.005-.019-.02-.022m-.715.002a.02.02 0 0 0-.027.006l-.006.014l-.034.614q.001.018.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01z"}),d.jsx("path",{fill:"currentColor",d:"m15.06 5.283l5.657 5.657a1.5 1.5 0 0 1 0 2.12l-5.656 5.658a1.5 1.5 0 0 1-2.122-2.122l3.096-3.096H4.5a1.5 1.5 0 0 1 0-3h11.535L12.94 7.404a1.5 1.5 0 0 1 2.122-2.121Z"})]})})}),d.jsx("button",{type:"button",onClick:N,children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",children:d.jsxs("g",{fill:"none",children:[d.jsx("path",{d:"M24 0v24H0V0zM12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035q-.016-.005-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427q-.004-.016-.017-.018m.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093q.019.005.029-.008l.004-.014l-.034-.614q-.005-.019-.02-.022m-.715.002a.02.02 0 0 0-.027.006l-.006.014l-.034.614q.001.018.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01z"}),d.jsx("path",{fill:"currentColor",d:"M3.283 10.94a1.5 1.5 0 0 0 0 2.12l5.656 5.658a1.5 1.5 0 1 0 2.122-2.122L7.965 13.5H19.5a1.5 1.5 0 0 0 0-3H7.965l3.096-3.096a1.5 1.5 0 1 0-2.122-2.121z"})]})})})]}),d.jsxs("div",{className:"wptb-v2-export-page-selected",children:[d.jsx(Ge,{onUnSelect:A,onAllUnSelect:N,items:y}),d.jsxs("div",{className:"wptb-v2-export-page-form",children:[d.jsx("p",{children:"Format:"}),d.jsxs("select",{value:_,onChange:l=>x(l.target.value),children:[d.jsx("option",{value:"xml",children:"XML"}),d.jsx("option",{value:"csv",children:"CSV"})]}),d.jsx(Gt,{content:Ve[_],className:"wptb-v2-export-page-form-info",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",children:d.jsx("path",{fill:"currentColor",d:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10s-4.477 10-10 10m-1-7v2h2v-2zm2-1.645A3.502 3.502 0 0 0 12 6.5a3.5 3.5 0 0 0-3.433 2.813l1.962.393A1.5 1.5 0 1 1 12 11.5a1 1 0 0 0-1 1V14h2z"})})}),d.jsxs("button",{type:"button",disabled:s,onClick:v,children:[s?d.jsx(ge,{}):d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 256 256",children:d.jsx("path",{fill:"currentColor",d:"M74.34 85.66a8 8 0 0 1 11.32-11.32L120 108.69V24a8 8 0 0 1 16 0v84.69l34.34-34.35a8 8 0 0 1 11.32 11.32l-48 48a8 8 0 0 1-11.32 0ZM240 136v64a16 16 0 0 1-16 16H32a16 16 0 0 1-16-16v-64a16 16 0 0 1 16-16h52.4a4 4 0 0 1 2.83 1.17L111 145a24 24 0 0 0 34 0l23.8-23.8a4 4 0 0 1 2.8-1.2H224a16 16 0 0 1 16 16m-40 32a12 12 0 1 0-12 12a12 12 0 0 0 12-12"})}),"Export"]})]})]})]})]})]})},Ye=B=>typeof B=="number"||parseInt(B).toString()===B,Xe=({table:B,setPage:K})=>{const u=_e(),[j,h]=at.useState(!1),[a,o]=at.useState(B);at.useEffect(()=>{if(o(B),u(be({isSaving:!1,activeBlock:void 0,timeTravel:{lastSaved:/[^0-9]/.test(B)?void 0:0,cursor:0,total:0}})),!Ye(B)){if(!Ot.getState().table[B]){history.replaceState(null,"","?page=wptb-alt"),K("tables");return}h(!0);return}h(!1);const w=new AbortController,k=WPTB_CFG.API_BASE+"/v1/table?id="+B;return fetch(k,{signal:w.signal}).then(_=>_.json()).then(_=>{if(!_.table){yt("Table not found","error",5e3),history.replaceState(null,"","?page=wptb-alt"),K("tables");return}const x=qt(_.table);x.title=_.name,x.id=B,Ot.dispatch(ve({id:B,table:x})),h(!0)}).catch(_=>null),()=>w.abort()},[B,K,u]);const r=([w,k])=>{w==="saved"&&(o(k.toString()),u(ye({oldId:B,newId:k.toString()})),history.replaceState(null,"","?page=wptb-alt-builder&table="+k))},n=()=>{if(history.length>2){history.back();return}K("tables")};return d.jsx(we,{id:a,isLoaded:j,onSave:r,onClose:n})},Je={tables:Oe,builder:Xe,create:Be,import:He,export:$e},Wt=()=>{var u,j;const B=new URLSearchParams(window.location.search),K={};for(const[h,a]of B)K[h]=a;return K.page=((j=(u=K.page)==null?void 0:u.replace("wptb-alt",""))==null?void 0:j.substring(1))||"tables",K};function Qe(){const[B,K]=at.useState({}),u=(j,h)=>{h=h||{};const o={page:j==="tables"?"wptb-alt":`wptb-alt-${j}`};for(const n in h){const w=h[n];w&&(o[n]=w)}const r=new URLSearchParams(o).toString();window.history.pushState(null,"","?"+r),h.page=j,K(h)};return at.useEffect(()=>{const j=()=>{const h=Wt();K(h)};return K(Wt()),window.addEventListener("popstate",j),()=>{window.removeEventListener("popstate",j)}},[]),[B,u]}const tr=()=>{const[B,K]=Qe(),u=Je[B.page];if(u)return d.jsx(u,{...B,setPage:K})};document.addEventListener("DOMContentLoaded",()=>{const B=document.querySelector("#wptb-app-root");!B||typeof WPTB>"u"||xe(B).render(d.jsx(ke.StrictMode,{children:d.jsxs(Ce,{store:Ot,children:[d.jsx(tr,{}),d.jsx(Se,{})]})}))});
//# sourceMappingURL=wptb-main.js.map
